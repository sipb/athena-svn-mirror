.\"	$Source: /afs/dev.mit.edu/source/repository/athena/bin/delete/man1/undelete.1,v $
.\"	$Author: jik $
.\"	$Header: /afs/dev.mit.edu/source/repository/athena/bin/delete/man1/undelete.1,v 1.2 1989-01-27 02:55:01 jik Exp $
.\" Copyright 1989 by the Massachusetts Institute of Technology.  All
.\" rights reserved.  The file /usr/include/mit-copyright.h specifies
.\" the terms and conditions for redistribution.
.\"
.\"
.TH UNDELETE 1 "January 26, 1988" "MIT Project Athena"
.ds ]W MIT Project Athena
.SH NAME
undelete \- recover files removed by delete
.SH SYNOPSIS
.B undelete
[
.B \-r
] [
.B \-i
] [
.B \-f
] [
.B \-v
] [
.B \-n
] [
.B \-R
] [
.B \-\|\-
] [ filename [ ... ]]
.PP
.DESCRIPTION
.I Undelete
recovers files and directories that have been marked for permanent removal by 
\fIdelete\fR(1), but have not
yet been removed.
.PP
Filenames passed to
.I undelete
can be directories or deleted files.
If a directory that is not deleted is passed to
.I undelete,
then the deleted files or directories in it will be restored; if the
recursive option is specified, then all deleted files or directories
in any of its children will be restored as well.
.PP
The shell wildcards \fI*\fR and \fI?\fR are interpreted correctly by
.I undelete.
It is possible to pass wildcards to the program without the wildcards
being intercepted by the shell by setting
.I noglob
(in \fIcsh\fR) or by quoting the wildcards.  To delete a file that
actually has a wildcard in its name, you must precede the quoted
wildcard with a quoted backslash.
.PP
If no files are specified on the command line,
.I undelete
goes into interactive mode.  In interactive mode, the user is prompted
to enter files to be restored, one file per line.  Typing a carriage
return on an empty prompt line exits the program.
.PP
Wildcards and quoting backslashes can be entered directly at the
prompt without any shell interference (which is the
main reason there is an interactive mode).
.SH OPTIONS
.I Undelete
accepts the following command-line options:
.TP
.B \-r
If a specified file is a directory, the directory and all of its
children are restored recursively.  If a specified file is a symbolic
link to a directory, then the directory and its contents will be
restored, not the symbolic link.
.TP
.B \-i
The user is prompted for confirmation before each file or directory is
restored.  This is not the same as the interactive file name entry
mode which is automatically activated when no files are specified on
the command line.
.TP
.B \-f
Prevents
.I undelete
from reporting errors.  Further, if an intact (undeleted) version of a
file which is requested for undeletion exists, then
.I undelete
will not prompt for confirmation before overwriting the undeleted file
with the recovered one.
.TP
.B \-v
Causes
.I undelete
to report each file as it is restored.  Also, causes an introductory
message to be printed when entering interactive mode.
.TP
.B \-n
No file recoveries are performed.  Instead,
.I undelete
prints to the standard output the files that it would recover were the
.B \-n
option not specified.
.TP
.B \-R
Prevents
.I undelete
from restoring the contents of directories in any case.
.TP
.B \-\|\-
Two dashes indicate that all arguments following it are to be treated as file
names, even if they start with a dash.
.SH "SEE ALSO"
delete(1), purge(1), expunge(1), lsdel(1), rm(1), rmdir(1)
.SH AUTHOR
Jonathan I. Kamens (MIT-Project Athena)
.SH RESTRICTIONS
Copyright (c) 1989 by the Massachusetts Institute of Technology.  All
rights reserved.




