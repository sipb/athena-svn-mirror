.TH GETCLUSTER 8 "20 April 1987"
.SH NAME
getcluster \- retrieve service cluster info from Hesiod as environment vars
.SH SYNOPSIS
getcluster [-b] hostname version

# C shell example
.br
getcluster `hostname` 5.3 > file; source file

# Bourne shell example
.br
getcluster -b `hostname` 5.3 > file; . file

.PP
.SH DESCRIPTION
.I Getcluster
queries the Hesiod database for service cluster information associated
with the workstation on which it is run.  It writes a set of environment
variable assignments on its standard output in a format acceptable
to the C shell, or, if the -b flag is present, in Bourne shell syntax.
If any errors are encountered in querying the Hesiod database or
during the output of the information, the standard
output is truncated to size 0, ensuring that partial data will not
remain in the file.
.I Getcluster
also returns an exit status of -1 if any errors were encountered.

.I Getcluster
is usually invoked from a suitable shell script in /etc/rc
to retrieve environment variables which will be used by applications during
the session.  These are placed, if successful, in the files
.I /etc/athena/clusterinfo
and
.I /etc/athena/clusterinfo.bsh
to be accessed by the C shell in a user's .login file
and the Bourne shell in a user's .profile, respectively.
It may also be invoked directly by any user.
.PP
Getcluster uses the Hesiodnametypes "clustername" and "cluster".
.SH FILES
/etc/athena/clusterinfo
/etc/athena/clusterinfo.bsh
.SH "SEE ALSO"
`Hesiod - Project Athena Technical Plan -- Name Service'
.SH AUTHOR
Steve Dyer, IBM/Project Athena
.br
Copyright 1987, Massachusetts Institute of Technology
.br
.SH BUGS
