<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta content="text/html; charset=ISO-8859-1" http-equiv="Content-Type"><title>Spawning Processes</title><meta name="generator" content="DocBook XSL Stylesheets V1.50.0"><meta name="generator" content="GTK-Doc V1.0 (XML mode)"><style type="text/css">
        .synopsis, .classsynopsis {
            background: #eeeeee;
            border: solid 1px #aaaaaa;
            padding: 0.5em;
        }
        .programlisting {
            background: #eeeeff;
            border: solid 1px #aaaaff;
            padding: 0.5em;
        }
        .variablelist {
            padding: 4px;
            margin-left: 3em;
        }
        .navigation {
            background: #ffeeee;
            border: solid 1px #ffaaaa;
            margin-top: 0.5em;
            margin-bottom: 0.5em;
        }
        .navigation a {
            color: #770000;
        }
        .navigation a:visited {
            color: #550000;
        }
        .navigation .title {
            font-size: 200%;
        }
      </style><link rel="home" href="index.html" title="GLib Reference Manual"><link rel="up" href="glib-utilities.html" title="GLib Utilities"><link rel="previous" href="glib-Timers.html" title="Timers"><link rel="next" href="glib-File-Utilities.html" title="File Utilities"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><table class="navigation" width="100%" summary="Navigation header" cellpadding="2" cellspacing="2"><tr valign="middle"><td><a accesskey="p" href="glib-Timers.html"><img src="left.png" width="24" height="24" border="0" alt="Prev"></a></td><td><a accesskey="u" href="glib-utilities.html"><img src="up.png" width="24" height="24" border="0" alt="Up"></a></td><td><a accesskey="h" href="index.html"><img src="home.png" width="24" height="24" border="0" alt="Home"></a></td><th width="100%" align="center">GLib Reference Manual</th><td><a accesskey="n" href="glib-File-Utilities.html"><img src="right.png" width="24" height="24" border="0" alt="Next"></a></td></tr></table><div class="refentry"><a name="glib-Spawning-Processes"></a><div class="titlepage"></div><div class="refnamediv"><h2>Spawning Processes</h2><p>Spawning Processes &#8212; process launching with <tt>fork()</tt>/<tt>exec()</tt>.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><pre class="synopsis">

#include &lt;glib.h&gt;


enum        <a href="glib-Spawning-Processes.html#GSpawnError">GSpawnError</a>;
#define     <a href="glib-Spawning-Processes.html#G-SPAWN-ERROR-CAPS">G_SPAWN_ERROR</a>
enum        <a href="glib-Spawning-Processes.html#GSpawnFlags">GSpawnFlags</a>;
void        (<a href="glib-Spawning-Processes.html#GSpawnChildSetupFunc">*GSpawnChildSetupFunc</a>)         (<a href="glib-Basic-Types.html#gpointer">gpointer</a> user_data);
<a href="glib-Basic-Types.html#gboolean">gboolean</a>    <a href="glib-Spawning-Processes.html#g-spawn-async-with-pipes">g_spawn_async_with_pipes</a>        (const <a href="glib-Basic-Types.html#gchar">gchar</a> *working_directory,
                                             <a href="glib-Basic-Types.html#gchar">gchar</a> **argv,
                                             <a href="glib-Basic-Types.html#gchar">gchar</a> **envp,
                                             <a href="glib-Spawning-Processes.html#GSpawnFlags">GSpawnFlags</a> flags,
                                             <a href="glib-Spawning-Processes.html#GSpawnChildSetupFunc">GSpawnChildSetupFunc</a> child_setup,
                                             <a href="glib-Basic-Types.html#gpointer">gpointer</a> user_data,
                                             <a href="glib-Basic-Types.html#gint">gint</a> *child_pid,
                                             <a href="glib-Basic-Types.html#gint">gint</a> *standard_input,
                                             <a href="glib-Basic-Types.html#gint">gint</a> *standard_output,
                                             <a href="glib-Basic-Types.html#gint">gint</a> *standard_error,
                                             <a href="glib-Error-Reporting.html#GError">GError</a> **error);
<a href="glib-Basic-Types.html#gboolean">gboolean</a>    <a href="glib-Spawning-Processes.html#g-spawn-async">g_spawn_async</a>                   (const <a href="glib-Basic-Types.html#gchar">gchar</a> *working_directory,
                                             <a href="glib-Basic-Types.html#gchar">gchar</a> **argv,
                                             <a href="glib-Basic-Types.html#gchar">gchar</a> **envp,
                                             <a href="glib-Spawning-Processes.html#GSpawnFlags">GSpawnFlags</a> flags,
                                             <a href="glib-Spawning-Processes.html#GSpawnChildSetupFunc">GSpawnChildSetupFunc</a> child_setup,
                                             <a href="glib-Basic-Types.html#gpointer">gpointer</a> user_data,
                                             <a href="glib-Basic-Types.html#gint">gint</a> *child_pid,
                                             <a href="glib-Error-Reporting.html#GError">GError</a> **error);
<a href="glib-Basic-Types.html#gboolean">gboolean</a>    <a href="glib-Spawning-Processes.html#g-spawn-sync">g_spawn_sync</a>                    (const <a href="glib-Basic-Types.html#gchar">gchar</a> *working_directory,
                                             <a href="glib-Basic-Types.html#gchar">gchar</a> **argv,
                                             <a href="glib-Basic-Types.html#gchar">gchar</a> **envp,
                                             <a href="glib-Spawning-Processes.html#GSpawnFlags">GSpawnFlags</a> flags,
                                             <a href="glib-Spawning-Processes.html#GSpawnChildSetupFunc">GSpawnChildSetupFunc</a> child_setup,
                                             <a href="glib-Basic-Types.html#gpointer">gpointer</a> user_data,
                                             <a href="glib-Basic-Types.html#gchar">gchar</a> **standard_output,
                                             <a href="glib-Basic-Types.html#gchar">gchar</a> **standard_error,
                                             <a href="glib-Basic-Types.html#gint">gint</a> *exit_status,
                                             <a href="glib-Error-Reporting.html#GError">GError</a> **error);
<a href="glib-Basic-Types.html#gboolean">gboolean</a>    <a href="glib-Spawning-Processes.html#g-spawn-command-line-async">g_spawn_command_line_async</a>      (const <a href="glib-Basic-Types.html#gchar">gchar</a> *command_line,
                                             <a href="glib-Error-Reporting.html#GError">GError</a> **error);
<a href="glib-Basic-Types.html#gboolean">gboolean</a>    <a href="glib-Spawning-Processes.html#g-spawn-command-line-sync">g_spawn_command_line_sync</a>       (const <a href="glib-Basic-Types.html#gchar">gchar</a> *command_line,
                                             <a href="glib-Basic-Types.html#gchar">gchar</a> **standard_output,
                                             <a href="glib-Basic-Types.html#gchar">gchar</a> **standard_error,
                                             <a href="glib-Basic-Types.html#gint">gint</a> *exit_status,
                                             <a href="glib-Error-Reporting.html#GError">GError</a> **error);

</pre></div><div class="refsect1"><h2>Description</h2><p>

</p></div><div class="refsect1"><h2>Details</h2><div class="refsect2"><h3><a name="GSpawnError"></a>enum GSpawnError</h3><pre class="programlisting">typedef enum
{
  G_SPAWN_ERROR_FORK,   /* fork failed due to lack of memory */
  G_SPAWN_ERROR_READ,   /* read or select on pipes failed */
  G_SPAWN_ERROR_CHDIR,  /* changing to working dir failed */
  G_SPAWN_ERROR_ACCES,  /* execv() returned EACCES */
  G_SPAWN_ERROR_PERM,   /* execv() returned EPERM */
  G_SPAWN_ERROR_2BIG,   /* execv() returned E2BIG */
  G_SPAWN_ERROR_NOEXEC, /* execv() returned ENOEXEC */
  G_SPAWN_ERROR_NAMETOOLONG, /* &quot;&quot;  &quot;&quot; ENAMETOOLONG */
  G_SPAWN_ERROR_NOENT,       /* &quot;&quot;  &quot;&quot; ENOENT */
  G_SPAWN_ERROR_NOMEM,       /* &quot;&quot;  &quot;&quot; ENOMEM */
  G_SPAWN_ERROR_NOTDIR,      /* &quot;&quot;  &quot;&quot; ENOTDIR */
  G_SPAWN_ERROR_LOOP,        /* &quot;&quot;  &quot;&quot; ELOOP   */
  G_SPAWN_ERROR_TXTBUSY,     /* &quot;&quot;  &quot;&quot; ETXTBUSY */
  G_SPAWN_ERROR_IO,          /* &quot;&quot;  &quot;&quot; EIO */
  G_SPAWN_ERROR_NFILE,       /* &quot;&quot;  &quot;&quot; ENFILE */
  G_SPAWN_ERROR_MFILE,       /* &quot;&quot;  &quot;&quot; EMFLE */
  G_SPAWN_ERROR_INVAL,       /* &quot;&quot;  &quot;&quot; EINVAL */
  G_SPAWN_ERROR_ISDIR,       /* &quot;&quot;  &quot;&quot; EISDIR */
  G_SPAWN_ERROR_LIBBAD,      /* &quot;&quot;  &quot;&quot; ELIBBAD */
  G_SPAWN_ERROR_FAILED       /* other fatal failure, error-&gt;message
                              * should explain
                              */
} GSpawnError;
</pre><p>
Error codes returned by spawning processes.
</p><div class="variablelist"><table border="0"><col align="left"><tbody><tr><td><span class="term"><tt>G_SPAWN_ERROR_FORK</tt></span></td><td>Fork failed due to lack of memory.
</td></tr><tr><td><span class="term"><tt>G_SPAWN_ERROR_READ</tt></span></td><td>Read or select on pipes failed.
</td></tr><tr><td><span class="term"><tt>G_SPAWN_ERROR_CHDIR</tt></span></td><td>Changing to working directory failed.
</td></tr><tr><td><span class="term"><tt>G_SPAWN_ERROR_ACCES</tt></span></td><td><tt>execv()</tt> returned <tt>EACCES</tt>.
</td></tr><tr><td><span class="term"><tt>G_SPAWN_ERROR_PERM</tt></span></td><td><tt>execv()</tt> returned <tt>EPERM</tt>.
</td></tr><tr><td><span class="term"><tt>G_SPAWN_ERROR_2BIG</tt></span></td><td><tt>execv()</tt> returned <tt>E2BIG</tt>.
</td></tr><tr><td><span class="term"><tt>G_SPAWN_ERROR_NOEXEC</tt></span></td><td><tt>execv()</tt> returned <tt>ENOEXEC</tt>.
</td></tr><tr><td><span class="term"><tt>G_SPAWN_ERROR_NAMETOOLONG</tt></span></td><td><tt>execv()</tt> returned <tt>ENAMETOOLONG</tt>.
</td></tr><tr><td><span class="term"><tt>G_SPAWN_ERROR_NOENT</tt></span></td><td><tt>execv()</tt> returned <tt>ENOENT</tt>.
</td></tr><tr><td><span class="term"><tt>G_SPAWN_ERROR_NOMEM</tt></span></td><td><tt>execv()</tt> returned <tt>ENOMEM</tt>.
</td></tr><tr><td><span class="term"><tt>G_SPAWN_ERROR_NOTDIR</tt></span></td><td><tt>execv()</tt> returned <tt>ENOTDIR</tt>.
</td></tr><tr><td><span class="term"><tt>G_SPAWN_ERROR_LOOP</tt></span></td><td><tt>execv()</tt> returned <tt>ELOOP</tt>.
</td></tr><tr><td><span class="term"><tt>G_SPAWN_ERROR_TXTBUSY</tt></span></td><td><tt>execv()</tt> returned <tt>ETXTBUSY</tt>.
</td></tr><tr><td><span class="term"><tt>G_SPAWN_ERROR_IO</tt></span></td><td><tt>execv()</tt> returned <tt>EIO</tt>.
</td></tr><tr><td><span class="term"><tt>G_SPAWN_ERROR_NFILE</tt></span></td><td><tt>execv()</tt> returned <tt>ENFILE</tt>.
</td></tr><tr><td><span class="term"><tt>G_SPAWN_ERROR_MFILE</tt></span></td><td><tt>execv()</tt> returned <tt>EMFILE</tt>.
</td></tr><tr><td><span class="term"><tt>G_SPAWN_ERROR_INVAL</tt></span></td><td><tt>execv()</tt> returned <tt>EINVAL</tt>.
</td></tr><tr><td><span class="term"><tt>G_SPAWN_ERROR_ISDIR</tt></span></td><td><tt>execv()</tt> returned <tt>EISDIR</tt>.
</td></tr><tr><td><span class="term"><tt>G_SPAWN_ERROR_LIBBAD</tt></span></td><td><tt>execv()</tt> returned <tt>ELIBBAD</tt>.
</td></tr><tr><td><span class="term"><tt>G_SPAWN_ERROR_FAILED</tt></span></td><td>Some other fatal failure, <tt>error-&gt;message</tt> should explain.

</td></tr></tbody></table></div></div><hr><div class="refsect2"><h3><a name="G-SPAWN-ERROR-CAPS"></a>G_SPAWN_ERROR</h3><pre class="programlisting">#define G_SPAWN_ERROR g_spawn_error_quark ()
</pre><p>
Error domain for spawning processes. Errors in this domain will
be from the <a href="glib-Spawning-Processes.html#GSpawnError">GSpawnError</a> enumeration. See <a href="glib-Error-Reporting.html#GError">GError</a> for information on
error domains.
</p></div><hr><div class="refsect2"><h3><a name="GSpawnFlags"></a>enum GSpawnFlags</h3><pre class="programlisting">typedef enum
{
  G_SPAWN_LEAVE_DESCRIPTORS_OPEN = 1 &lt;&lt; 0,
  G_SPAWN_DO_NOT_REAP_CHILD      = 1 &lt;&lt; 1,
  /* look for argv[0] in the path i.e. use execvp() */
  G_SPAWN_SEARCH_PATH            = 1 &lt;&lt; 2,
  /* Dump output to /dev/null */
  G_SPAWN_STDOUT_TO_DEV_NULL     = 1 &lt;&lt; 3,
  G_SPAWN_STDERR_TO_DEV_NULL     = 1 &lt;&lt; 4,
  G_SPAWN_CHILD_INHERITS_STDIN   = 1 &lt;&lt; 5,
  G_SPAWN_FILE_AND_ARGV_ZERO     = 1 &lt;&lt; 6
} GSpawnFlags;
</pre><p>
Flags passed to <a href="glib-Spawning-Processes.html#g-spawn-sync">g_spawn_sync</a>(), <a href="glib-Spawning-Processes.html#g-spawn-async">g_spawn_async</a>() and <a href="glib-Spawning-Processes.html#g-spawn-async-with-pipes">g_spawn_async_with_pipes</a>().
</p><div class="variablelist"><table border="0"><col align="left"><tbody><tr><td><span class="term"><tt>G_SPAWN_LEAVE_DESCRIPTORS_OPEN</tt></span></td><td>the parent's open file descriptors will be 
 inherited by the child; otherwise all descriptors except stdin/stdout/stderr 
 will be closed before calling <tt>exec()</tt> in the child.
</td></tr><tr><td><span class="term"><tt>G_SPAWN_DO_NOT_REAP_CHILD</tt></span></td><td>the child will not be automatically reaped; you 
  must call <tt>waitpid()</tt> or handle <tt>SIGCHLD</tt> 
  yourself, or the child will become a zombie.
</td></tr><tr><td><span class="term"><tt>G_SPAWN_SEARCH_PATH</tt></span></td><td><tt>argv[0]</tt> need not be an absolute path, 
  it will be looked for in the user's <tt>PATH</tt>.
</td></tr><tr><td><span class="term"><tt>G_SPAWN_STDOUT_TO_DEV_NULL</tt></span></td><td>the child's standad output will be discarded, 
  instead of going to the same location as the parent's standard output.
</td></tr><tr><td><span class="term"><tt>G_SPAWN_STDERR_TO_DEV_NULL</tt></span></td><td>the child's standard error will be discarded.
</td></tr><tr><td><span class="term"><tt>G_SPAWN_CHILD_INHERITS_STDIN</tt></span></td><td>the child will inherit the parent's standard 
  input (by default, the child's standard input is attached to 
  <tt>/dev/null</tt>).
</td></tr><tr><td><span class="term"><tt>G_SPAWN_FILE_AND_ARGV_ZERO</tt></span></td><td>the first element of <tt>argv</tt> is 
  the file to execute, while the remaining elements are the actual argument 
  vector to pass to the file. Normally <a href="glib-Spawning-Processes.html#g-spawn-async-with-pipes">g_spawn_async_with_pipes</a>() uses 
  <tt>argv[0]</tt> as the file to execute, and passes all of 
  <tt>argv</tt> to the child.

</td></tr></tbody></table></div></div><hr><div class="refsect2"><h3><a name="GSpawnChildSetupFunc"></a>GSpawnChildSetupFunc ()</h3><pre class="programlisting">void        (*GSpawnChildSetupFunc)         (<a href="glib-Basic-Types.html#gpointer">gpointer</a> user_data);</pre><p>
Specifies the type of the setup function passed to <a href="glib-Spawning-Processes.html#g-spawn-async">g_spawn_async</a>(),
<a href="glib-Spawning-Processes.html#g-spawn-sync">g_spawn_sync</a>() and <a href="glib-Spawning-Processes.html#g-spawn-async-with-pipes">g_spawn_async_with_pipes</a>(). It is called in the 
child after GLib has performed all the setup it plans to perform 
but before calling <tt>exec()</tt>. Obviously, actions 
taken in this function will only affect the child, not the parent.
</p><div class="variablelist"><table border="0"><col align="left"><tbody><tr><td><span class="term"><i><tt>user_data</tt></i> :</span></td><td>user data to pass to the function.


</td></tr></tbody></table></div></div><hr><div class="refsect2"><h3><a name="g-spawn-async-with-pipes"></a>g_spawn_async_with_pipes ()</h3><pre class="programlisting"><a href="glib-Basic-Types.html#gboolean">gboolean</a>    g_spawn_async_with_pipes        (const <a href="glib-Basic-Types.html#gchar">gchar</a> *working_directory,
                                             <a href="glib-Basic-Types.html#gchar">gchar</a> **argv,
                                             <a href="glib-Basic-Types.html#gchar">gchar</a> **envp,
                                             <a href="glib-Spawning-Processes.html#GSpawnFlags">GSpawnFlags</a> flags,
                                             <a href="glib-Spawning-Processes.html#GSpawnChildSetupFunc">GSpawnChildSetupFunc</a> child_setup,
                                             <a href="glib-Basic-Types.html#gpointer">gpointer</a> user_data,
                                             <a href="glib-Basic-Types.html#gint">gint</a> *child_pid,
                                             <a href="glib-Basic-Types.html#gint">gint</a> *standard_input,
                                             <a href="glib-Basic-Types.html#gint">gint</a> *standard_output,
                                             <a href="glib-Basic-Types.html#gint">gint</a> *standard_error,
                                             <a href="glib-Error-Reporting.html#GError">GError</a> **error);</pre><p>
Executes a child program asynchronously (your program will not
block waiting for the child to exit). The child program is
specified by the only argument that must be provided, <i><tt>argv</tt></i>. <i><tt>argv</tt></i>
should be a <tt>NULL</tt>-terminated array of strings, to be passed as the
argument vector for the child. The first string in <i><tt>argv</tt></i> is of
course the name of the program to execute. By default, the name of
the program must be a full path; the <tt>PATH</tt> shell variable 
will only be searched if you pass the <tt>G_SPAWN_SEARCH_PATH</tt> flag.
</p><p>
On Windows, the low-level child process creation API
(<tt>CreateProcess()</tt>)doesn't use argument vectors,
but a command line. The C runtime library's
<tt>spawn*()</tt> family of functions (which
<a href="glib-Spawning-Processes.html#g-spawn-async-with-pipes">g_spawn_async_with_pipes</a>() eventually calls) paste the argument
vector elements into a command line, and the C runtime startup code
does a corresponding recostruction of an argument vector from the
command line, to be passed to
<tt>main()</tt>. Complications arise when you have
argument vector elements that contain spaces of double quotes. The
<tt>spawn()</tt> functions don't do any quoting or
escaping, but on the other hand the startup code does do unquoting
and unescaping in order to enable receiving arguments with embedded
spaces or double quotes. To work around this asymmetry,
<a href="glib-Spawning-Processes.html#g-spawn-async-with-pipes">g_spawn_async_with_pipes</a>() will do quoting and escaping on argument
vector elements that need it before calling the C runtime
<tt>spawn()</tt> function.
</p><p>
<i><tt>envp</tt></i> is a <tt>NULL</tt>-terminated array of strings, where each string
has the form <tt>KEY=VALUE</tt>. This will become
the child's environment. If <i><tt>envp</tt></i> is <tt>NULL</tt>, the child inherits its
parent's environment.
</p><p>
<i><tt>flags</tt></i> should be the bitwise OR of any flags you want to affect the
function's behavior. On Unix, the <tt>G_SPAWN_DO_NOT_REAP_CHILD</tt> means
that the child will not be automatically reaped; you must call
<tt>waitpid()</tt> or handle <tt>SIGCHLD</tt> yourself, or the
child will become a zombie. On Windows, the flag means that a
handle to the child will be returned <i><tt>child_pid</tt></i>. You must call
<tt>CloseHandle()</tt> on it eventually (or exit the
process), or the child processs will continue to take up some table
space even after its death. Quite similar to zombies on Unix,
actually.
</p><p>
<tt>G_SPAWN_LEAVE_DESCRIPTORS_OPEN</tt> means that the parent's open file
descriptors will be inherited by the child; otherwise all
descriptors except stdin/stdout/stderr will be closed before
calling <tt>exec()</tt> in the child. <tt>G_SPAWN_SEARCH_PATH</tt> 
means that <tt>argv[0]</tt> need not be an absolute path, it
will be looked for in the user's <tt>PATH</tt>. 
<tt>G_SPAWN_STDOUT_TO_DEV_NULL</tt> means that the child's standard output will 
be discarded, instead of going to the same location as the parent's 
standard output. If you use this flag, <i><tt>standard_output</tt></i> must be <tt>NULL</tt>.
<tt>G_SPAWN_STDERR_TO_DEV_NULL</tt> means that the child's standard error
will be discarded, instead of going to the same location as the parent's
standard error. If you use this flag, <i><tt>standard_error</tt></i> must be <tt>NULL</tt>.
<tt>G_SPAWN_CHILD_INHERITS_STDIN</tt> means that the child will inherit the parent's
standard input (by default, the child's standard input is attached to
/dev/null). If you use this flag, <i><tt>standard_input</tt></i> must be <tt>NULL</tt>.
<tt>G_SPAWN_FILE_AND_ARGV_ZERO</tt> means that the first element of <i><tt>argv</tt></i> is
the file to execute, while the remaining elements are the
actual argument vector to pass to the file. Normally
<a href="glib-Spawning-Processes.html#g-spawn-async-with-pipes">g_spawn_async_with_pipes</a>() uses <i><tt>argv</tt></i>[0] as the file to execute, and
passes all of <i><tt>argv</tt></i> to the child.
</p><p>
<i><tt>child_setup</tt></i> and <i><tt>user_data</tt></i> are a function and user data. On POSIX
platforms, the function is called in the child after GLib has
performed all the setup it plans to perform (including creating
pipes, closing file descriptors, etc.) but before calling
<tt>exec()</tt>. That is, <i><tt>child_setup</tt></i> is called just
before calling <tt>exec()</tt> in the child. Obviously
actions taken in this function will only affect the child, not the
parent. On Windows, there is no separate
<tt>fork()</tt> and <tt>exec()</tt>
functionality. Child processes are created and run right away with
one API call, <tt>CreateProcess()</tt>. <i><tt>child_setup</tt></i> is
called in the parent process just before creating the child
process. You should carefully consider what you do in <i><tt>child_setup</tt></i>
if you intend your software to be portable to Windows.
</p><p>
If non-<tt>NULL</tt>, <i><tt>child_pid</tt></i> will on Unix be filled with the child's
process ID. You can use the process ID to send signals to the
child, or to <tt>waitpid()</tt> if you specified the
<tt>G_SPAWN_DO_NOT_REAP_CHILD</tt> flag. On Windows, <i><tt>child_pid</tt></i> will be
filled with a handle to the child process only if you specified the
<tt>G_SPAWN_DO_NOT_REAP_CHILD</tt> flag. You can then access the child
process using the Win32 API, for example wait for its termination
with the <tt>WaitFor*()</tt> functions, or examine its
exit code with <tt>GetExitCodeProcess()</tt>. You
should close the handle with <tt>CloseHandle()</tt>
when you no longer need it.
</p><p>
If non-<tt>NULL</tt>, the <i><tt>standard_input</tt></i>, <i><tt>standard_output</tt></i>, <i><tt>standard_error</tt></i>
locations will be filled with file descriptors for writing to the child's
standard input or reading from its standard output or standard error.
The caller of <a href="glib-Spawning-Processes.html#g-spawn-async-with-pipes">g_spawn_async_with_pipes</a>() must close these file descriptors
when they are no longer in use. If these parameters are <tt>NULL</tt>, the corresponding
pipe won't be created.
</p><p>
If <i><tt>standard_input</tt></i> is NULL, the child's standard input is attached to /dev/null
unless <tt>G_SPAWN_CHILD_INHERITS_STDIN</tt> is set.
</p><p>
If <i><tt>standard_error</tt></i> is NULL, the child's standard error goes to the same location
as the parent's standard error unless <tt>G_SPAWN_STDERR_TO_DEV_NULL</tt> is set.
</p><p>
If <i><tt>standard_output</tt></i> is NULL, the child's standard output goes to the same location
as the parent's standard output unless <tt>G_SPAWN_STDOUT_TO_DEV_NULL</tt> is set.
</p><p>
<i><tt>error</tt></i> can be <tt>NULL</tt> to ignore errors, or non-<tt>NULL</tt> to report errors.
If an error is set, the function returns <tt>FALSE</tt>. Errors
are reported even if they occur in the child (for example if the
executable in <tt>argv[0]</tt> is not found). Typically
the <tt>message</tt> field of returned errors should be displayed
to users. Possible errors are those from the <a href="glib-Spawning-Processes.html#G-SPAWN-ERROR-CAPS">G_SPAWN_ERROR</a> domain.
</p><p>
If an error occurs, <i><tt>child_pid</tt></i>, <i><tt>standard_input</tt></i>, <i><tt>standard_output</tt></i>,
and <i><tt>standard_error</tt></i> will not be filled with valid values.</p><p>

</p><div class="variablelist"><table border="0"><col align="left"><tbody><tr><td><span class="term"><i><tt>working_directory</tt></i> :</span></td><td> child's current working directory, or <tt>NULL</tt> to inherit parent's
</td></tr><tr><td><span class="term"><i><tt>argv</tt></i> :</span></td><td> child's argument vector
</td></tr><tr><td><span class="term"><i><tt>envp</tt></i> :</span></td><td> child's environment, or <tt>NULL</tt> to inherit parent's
</td></tr><tr><td><span class="term"><i><tt>flags</tt></i> :</span></td><td> flags from <a href="glib-Spawning-Processes.html#GSpawnFlags">GSpawnFlags</a>
</td></tr><tr><td><span class="term"><i><tt>child_setup</tt></i> :</span></td><td> function to run in the child just before <tt>exec()</tt>
</td></tr><tr><td><span class="term"><i><tt>user_data</tt></i> :</span></td><td> user data for <i><tt>child_setup</tt></i>
</td></tr><tr><td><span class="term"><i><tt>child_pid</tt></i> :</span></td><td> return location for child process ID, or <tt>NULL</tt>
</td></tr><tr><td><span class="term"><i><tt>standard_input</tt></i> :</span></td><td> return location for file descriptor to write to child's stdin, or <tt>NULL</tt>
</td></tr><tr><td><span class="term"><i><tt>standard_output</tt></i> :</span></td><td> return location for file descriptor to read child's stdout, or <tt>NULL</tt>
</td></tr><tr><td><span class="term"><i><tt>standard_error</tt></i> :</span></td><td> return location for file descriptor to read child's stderr, or <tt>NULL</tt>
</td></tr><tr><td><span class="term"><i><tt>error</tt></i> :</span></td><td> return location for error
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> <tt>TRUE</tt> on success, <tt>FALSE</tt> if an error was set
</td></tr></tbody></table></div></div><hr><div class="refsect2"><h3><a name="g-spawn-async"></a>g_spawn_async ()</h3><pre class="programlisting"><a href="glib-Basic-Types.html#gboolean">gboolean</a>    g_spawn_async                   (const <a href="glib-Basic-Types.html#gchar">gchar</a> *working_directory,
                                             <a href="glib-Basic-Types.html#gchar">gchar</a> **argv,
                                             <a href="glib-Basic-Types.html#gchar">gchar</a> **envp,
                                             <a href="glib-Spawning-Processes.html#GSpawnFlags">GSpawnFlags</a> flags,
                                             <a href="glib-Spawning-Processes.html#GSpawnChildSetupFunc">GSpawnChildSetupFunc</a> child_setup,
                                             <a href="glib-Basic-Types.html#gpointer">gpointer</a> user_data,
                                             <a href="glib-Basic-Types.html#gint">gint</a> *child_pid,
                                             <a href="glib-Error-Reporting.html#GError">GError</a> **error);</pre><p>
See <a href="glib-Spawning-Processes.html#g-spawn-async-with-pipes">g_spawn_async_with_pipes</a>() for a full description; this function
simply calls the <a href="glib-Spawning-Processes.html#g-spawn-async-with-pipes">g_spawn_async_with_pipes</a>() without any pipes.</p><p>

</p><div class="variablelist"><table border="0"><col align="left"><tbody><tr><td><span class="term"><i><tt>working_directory</tt></i> :</span></td><td> child's current working directory, or <tt>NULL</tt> to inherit parent's
</td></tr><tr><td><span class="term"><i><tt>argv</tt></i> :</span></td><td> child's argument vector
</td></tr><tr><td><span class="term"><i><tt>envp</tt></i> :</span></td><td> child's environment, or <tt>NULL</tt> to inherit parent's
</td></tr><tr><td><span class="term"><i><tt>flags</tt></i> :</span></td><td> flags from <a href="glib-Spawning-Processes.html#GSpawnFlags">GSpawnFlags</a>
</td></tr><tr><td><span class="term"><i><tt>child_setup</tt></i> :</span></td><td> function to run in the child just before <tt>exec()</tt>
</td></tr><tr><td><span class="term"><i><tt>user_data</tt></i> :</span></td><td> user data for <i><tt>child_setup</tt></i>
</td></tr><tr><td><span class="term"><i><tt>child_pid</tt></i> :</span></td><td> return location for child process ID, or <tt>NULL</tt>
</td></tr><tr><td><span class="term"><i><tt>error</tt></i> :</span></td><td> return location for error
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> <tt>TRUE</tt> on success, <tt>FALSE</tt> if error is set
</td></tr></tbody></table></div></div><hr><div class="refsect2"><h3><a name="g-spawn-sync"></a>g_spawn_sync ()</h3><pre class="programlisting"><a href="glib-Basic-Types.html#gboolean">gboolean</a>    g_spawn_sync                    (const <a href="glib-Basic-Types.html#gchar">gchar</a> *working_directory,
                                             <a href="glib-Basic-Types.html#gchar">gchar</a> **argv,
                                             <a href="glib-Basic-Types.html#gchar">gchar</a> **envp,
                                             <a href="glib-Spawning-Processes.html#GSpawnFlags">GSpawnFlags</a> flags,
                                             <a href="glib-Spawning-Processes.html#GSpawnChildSetupFunc">GSpawnChildSetupFunc</a> child_setup,
                                             <a href="glib-Basic-Types.html#gpointer">gpointer</a> user_data,
                                             <a href="glib-Basic-Types.html#gchar">gchar</a> **standard_output,
                                             <a href="glib-Basic-Types.html#gchar">gchar</a> **standard_error,
                                             <a href="glib-Basic-Types.html#gint">gint</a> *exit_status,
                                             <a href="glib-Error-Reporting.html#GError">GError</a> **error);</pre><p>
Executes a child synchronously (waits for the child to exit before returning).
All output from the child is stored in <i><tt>standard_output</tt></i> and <i><tt>standard_error</tt></i>,
if those parameters are non-<tt>NULL</tt>. If <i><tt>exit_status</tt></i> is non-<tt>NULL</tt>, the exit 
status of the child is stored there as it would be returned by 
<tt>waitpid()</tt>; standard UNIX macros such as 
<tt>WIFEXITED()</tt> and <tt>WEXITSTATUS()</tt> 
must be used to evaluate the exit status. If an error occurs, no data is 
returned in <i><tt>standard_output</tt></i>, <i><tt>standard_error</tt></i>, or <i><tt>exit_status</tt></i>.
</p><p>
This function calls <a href="glib-Spawning-Processes.html#g-spawn-async-with-pipes">g_spawn_async_with_pipes</a>() internally; see that function
for full details on the other parameters.</p><p>

</p><div class="variablelist"><table border="0"><col align="left"><tbody><tr><td><span class="term"><i><tt>working_directory</tt></i> :</span></td><td> child's current working directory, or <tt>NULL</tt> to inherit parent's
</td></tr><tr><td><span class="term"><i><tt>argv</tt></i> :</span></td><td> child's argument vector
</td></tr><tr><td><span class="term"><i><tt>envp</tt></i> :</span></td><td> child's environment, or <tt>NULL</tt> to inherit parent's
</td></tr><tr><td><span class="term"><i><tt>flags</tt></i> :</span></td><td> flags from <a href="glib-Spawning-Processes.html#GSpawnFlags">GSpawnFlags</a>
</td></tr><tr><td><span class="term"><i><tt>child_setup</tt></i> :</span></td><td> function to run in the child just before <tt>exec()</tt>
</td></tr><tr><td><span class="term"><i><tt>user_data</tt></i> :</span></td><td> user data for <i><tt>child_setup</tt></i>
</td></tr><tr><td><span class="term"><i><tt>standard_output</tt></i> :</span></td><td> return location for child output 
</td></tr><tr><td><span class="term"><i><tt>standard_error</tt></i> :</span></td><td> return location for child error messages
</td></tr><tr><td><span class="term"><i><tt>exit_status</tt></i> :</span></td><td> child exit status, as returned by <tt>waitpid()</tt>
</td></tr><tr><td><span class="term"><i><tt>error</tt></i> :</span></td><td> return location for error
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> <tt>TRUE</tt> on success, <tt>FALSE</tt> if an error was set.
</td></tr></tbody></table></div></div><hr><div class="refsect2"><h3><a name="g-spawn-command-line-async"></a>g_spawn_command_line_async ()</h3><pre class="programlisting"><a href="glib-Basic-Types.html#gboolean">gboolean</a>    g_spawn_command_line_async      (const <a href="glib-Basic-Types.html#gchar">gchar</a> *command_line,
                                             <a href="glib-Error-Reporting.html#GError">GError</a> **error);</pre><p>
A simple version of <a href="glib-Spawning-Processes.html#g-spawn-async">g_spawn_async</a>() that parses a command line with
<a href="glib-Shell-related-Utilities.html#g-shell-parse-argv">g_shell_parse_argv</a>() and passes it to <a href="glib-Spawning-Processes.html#g-spawn-async">g_spawn_async</a>(). Runs a
command line in the background. Unlike <a href="glib-Spawning-Processes.html#g-spawn-async">g_spawn_async</a>(), the
<tt>G_SPAWN_SEARCH_PATH</tt> flag is enabled, other flags are not. Note
that <tt>G_SPAWN_SEARCH_PATH</tt> can have security implications, so
consider using <a href="glib-Spawning-Processes.html#g-spawn-async">g_spawn_async</a>() directly if appropriate. Possible
errors are those from <a href="glib-Shell-related-Utilities.html#g-shell-parse-argv">g_shell_parse_argv</a>() and <a href="glib-Spawning-Processes.html#g-spawn-async">g_spawn_async</a>().
</p><p>
The same concerns on Windows apply as for <a href="glib-Spawning-Processes.html#g-spawn-command-line-sync">g_spawn_command_line_sync</a>().</p><p>

</p><div class="variablelist"><table border="0"><col align="left"><tbody><tr><td><span class="term"><i><tt>command_line</tt></i> :</span></td><td> a command line
</td></tr><tr><td><span class="term"><i><tt>error</tt></i> :</span></td><td> return location for errors
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> <tt>TRUE</tt> on success, <tt>FALSE</tt> if error is set.
</td></tr></tbody></table></div></div><hr><div class="refsect2"><h3><a name="g-spawn-command-line-sync"></a>g_spawn_command_line_sync ()</h3><pre class="programlisting"><a href="glib-Basic-Types.html#gboolean">gboolean</a>    g_spawn_command_line_sync       (const <a href="glib-Basic-Types.html#gchar">gchar</a> *command_line,
                                             <a href="glib-Basic-Types.html#gchar">gchar</a> **standard_output,
                                             <a href="glib-Basic-Types.html#gchar">gchar</a> **standard_error,
                                             <a href="glib-Basic-Types.html#gint">gint</a> *exit_status,
                                             <a href="glib-Error-Reporting.html#GError">GError</a> **error);</pre><p>
A simple version of <a href="glib-Spawning-Processes.html#g-spawn-sync">g_spawn_sync</a>() with little-used parameters
removed, taking a command line instead of an argument vector.  See
<a href="glib-Spawning-Processes.html#g-spawn-sync">g_spawn_sync</a>() for full details. <i><tt>command_line</tt></i> will be parsed by
<a href="glib-Shell-related-Utilities.html#g-shell-parse-argv">g_shell_parse_argv</a>(). Unlike <a href="glib-Spawning-Processes.html#g-spawn-sync">g_spawn_sync</a>(), the <tt>G_SPAWN_SEARCH_PATH</tt> flag
is enabled. Note that <tt>G_SPAWN_SEARCH_PATH</tt> can have security
implications, so consider using <a href="glib-Spawning-Processes.html#g-spawn-sync">g_spawn_sync</a>() directly if
appropriate. Possible errors are those from <a href="glib-Spawning-Processes.html#g-spawn-sync">g_spawn_sync</a>() and those
from <a href="glib-Shell-related-Utilities.html#g-shell-parse-argv">g_shell_parse_argv</a>().
</p><p>
On Windows, please note the implications of <a href="glib-Shell-related-Utilities.html#g-shell-parse-argv">g_shell_parse_argv</a>()
parsing <i><tt>command_line</tt></i>. Space is a separator, and backslashes are
special. Thus you cannot simply pass a <i><tt>command_line</tt></i> containing
canonical Windows paths, like &quot;c:\\program files\\app\\app.exe&quot;, as
the backslashes will be eaten, and the space will act as a
separator. You need to enclose such paths with single quotes, like
&quot;'c:\\program files\\app\\app.exe' 'e:\\folder\\argument.txt'&quot;.</p><p>

</p><div class="variablelist"><table border="0"><col align="left"><tbody><tr><td><span class="term"><i><tt>command_line</tt></i> :</span></td><td> a command line 
</td></tr><tr><td><span class="term"><i><tt>standard_output</tt></i> :</span></td><td> return location for child output
</td></tr><tr><td><span class="term"><i><tt>standard_error</tt></i> :</span></td><td> return location for child errors
</td></tr><tr><td><span class="term"><i><tt>exit_status</tt></i> :</span></td><td> return location for child exit status
</td></tr><tr><td><span class="term"><i><tt>error</tt></i> :</span></td><td> return location for errors
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> <tt>TRUE</tt> on success, <tt>FALSE</tt> if an error was set
</td></tr></tbody></table></div></div></div></div><table class="navigation" width="100%" summary="Navigation footer" cellpadding="2" cellspacing="0"><tr valign="middle"><td align="left"><a accesskey="p" href="glib-Timers.html"><b>&lt;&lt; Timers</b></a></td><td align="right"><a accesskey="n" href="glib-File-Utilities.html"><b>File Utilities &gt;&gt;</b></a></td></tr></table></body></html>
