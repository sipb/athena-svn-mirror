<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta content="text/html; charset=ISO-8859-1" http-equiv="Content-Type"><title>IO Channels</title><meta name="generator" content="DocBook XSL Stylesheets V1.50.0"><meta name="generator" content="GTK-Doc V1.0 (XML mode)"><style type="text/css">
        .synopsis, .classsynopsis {
            background: #eeeeee;
            border: solid 1px #aaaaaa;
            padding: 0.5em;
        }
        .programlisting {
            background: #eeeeff;
            border: solid 1px #aaaaff;
            padding: 0.5em;
        }
        .variablelist {
            padding: 4px;
            margin-left: 3em;
        }
        .navigation {
            background: #ffeeee;
            border: solid 1px #ffaaaa;
            margin-top: 0.5em;
            margin-bottom: 0.5em;
        }
        .navigation a {
            color: #770000;
        }
        .navigation a:visited {
            color: #550000;
        }
        .navigation .title {
            font-size: 200%;
        }
      </style><link rel="home" href="index.html" title="GLib Reference Manual"><link rel="up" href="glib-core.html" title="GLib Core Application Support"><link rel="previous" href="glib-Memory-Allocation.html" title="Memory Allocation"><link rel="next" href="glib-Error-Reporting.html" title="Error Reporting"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><table class="navigation" width="100%" summary="Navigation header" cellpadding="2" cellspacing="2"><tr valign="middle"><td><a accesskey="p" href="glib-Memory-Allocation.html"><img src="left.png" width="24" height="24" border="0" alt="Prev"></a></td><td><a accesskey="u" href="glib-core.html"><img src="up.png" width="24" height="24" border="0" alt="Up"></a></td><td><a accesskey="h" href="index.html"><img src="home.png" width="24" height="24" border="0" alt="Home"></a></td><th width="100%" align="center">GLib Reference Manual</th><td><a accesskey="n" href="glib-Error-Reporting.html"><img src="right.png" width="24" height="24" border="0" alt="Next"></a></td></tr></table><div class="refentry"><a name="glib-IO-Channels"></a><div class="titlepage"></div><div class="refnamediv"><h2>IO Channels</h2><p>IO Channels &#8212; portable support for using files, pipes and sockets.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><pre class="synopsis">

#include &lt;glib.h&gt;


struct      <a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a>;

<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a>* <a href="glib-IO-Channels.html#g-io-channel-unix-new">g_io_channel_unix_new</a>           (int fd);
<a href="glib-Basic-Types.html#gint">gint</a>        <a href="glib-IO-Channels.html#g-io-channel-unix-get-fd">g_io_channel_unix_get_fd</a>        (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel);

void        <a href="glib-IO-Channels.html#g-io-channel-init">g_io_channel_init</a>               (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel);

<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a>* <a href="glib-IO-Channels.html#g-io-channel-new-file">g_io_channel_new_file</a>           (const <a href="glib-Basic-Types.html#gchar">gchar</a> *filename,
                                             const <a href="glib-Basic-Types.html#gchar">gchar</a> *mode,
                                             <a href="glib-Error-Reporting.html#GError">GError</a> **error);
<a href="glib-IO-Channels.html#GIOStatus">GIOStatus</a>   <a href="glib-IO-Channels.html#g-io-channel-read-chars">g_io_channel_read_chars</a>         (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel,
                                             <a href="glib-Basic-Types.html#gchar">gchar</a> *buf,
                                             <a href="glib-Basic-Types.html#gsize">gsize</a> count,
                                             <a href="glib-Basic-Types.html#gsize">gsize</a> *bytes_read,
                                             <a href="glib-Error-Reporting.html#GError">GError</a> **error);
<a href="glib-IO-Channels.html#GIOStatus">GIOStatus</a>   <a href="glib-IO-Channels.html#g-io-channel-read-unichar">g_io_channel_read_unichar</a>       (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel,
                                             <a href="glib-Unicode-Manipulation.html#gunichar">gunichar</a> *thechar,
                                             <a href="glib-Error-Reporting.html#GError">GError</a> **error);
<a href="glib-IO-Channels.html#GIOStatus">GIOStatus</a>   <a href="glib-IO-Channels.html#g-io-channel-read-line">g_io_channel_read_line</a>          (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel,
                                             <a href="glib-Basic-Types.html#gchar">gchar</a> **str_return,
                                             <a href="glib-Basic-Types.html#gsize">gsize</a> *length,
                                             <a href="glib-Basic-Types.html#gsize">gsize</a> *terminator_pos,
                                             <a href="glib-Error-Reporting.html#GError">GError</a> **error);
<a href="glib-IO-Channels.html#GIOStatus">GIOStatus</a>   <a href="glib-IO-Channels.html#g-io-channel-read-line-string">g_io_channel_read_line_string</a>   (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel,
                                             <a href="glib-Strings.html#GString">GString</a> *buffer,
                                             <a href="glib-Basic-Types.html#gsize">gsize</a> *terminator_pos,
                                             <a href="glib-Error-Reporting.html#GError">GError</a> **error);
<a href="glib-IO-Channels.html#GIOStatus">GIOStatus</a>   <a href="glib-IO-Channels.html#g-io-channel-read-to-end">g_io_channel_read_to_end</a>        (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel,
                                             <a href="glib-Basic-Types.html#gchar">gchar</a> **str_return,
                                             <a href="glib-Basic-Types.html#gsize">gsize</a> *length,
                                             <a href="glib-Error-Reporting.html#GError">GError</a> **error);
<a href="glib-IO-Channels.html#GIOStatus">GIOStatus</a>   <a href="glib-IO-Channels.html#g-io-channel-write-chars">g_io_channel_write_chars</a>        (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel,
                                             const <a href="glib-Basic-Types.html#gchar">gchar</a> *buf,
                                             <a href="glib-Basic-Types.html#gssize">gssize</a> count,
                                             <a href="glib-Basic-Types.html#gsize">gsize</a> *bytes_written,
                                             <a href="glib-Error-Reporting.html#GError">GError</a> **error);
<a href="glib-IO-Channels.html#GIOStatus">GIOStatus</a>   <a href="glib-IO-Channels.html#g-io-channel-write-unichar">g_io_channel_write_unichar</a>      (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel,
                                             <a href="glib-Unicode-Manipulation.html#gunichar">gunichar</a> thechar,
                                             <a href="glib-Error-Reporting.html#GError">GError</a> **error);
<a href="glib-IO-Channels.html#GIOStatus">GIOStatus</a>   <a href="glib-IO-Channels.html#g-io-channel-flush">g_io_channel_flush</a>              (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel,
                                             <a href="glib-Error-Reporting.html#GError">GError</a> **error);
<a href="glib-IO-Channels.html#GIOStatus">GIOStatus</a>   <a href="glib-IO-Channels.html#g-io-channel-seek-position">g_io_channel_seek_position</a>      (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel,
                                             <a href="glib-Basic-Types.html#gint64">gint64</a> offset,
                                             <a href="glib-IO-Channels.html#GSeekType">GSeekType</a> type,
                                             <a href="glib-Error-Reporting.html#GError">GError</a> **error);
enum        <a href="glib-IO-Channels.html#GSeekType">GSeekType</a>;
<a href="glib-IO-Channels.html#GIOStatus">GIOStatus</a>   <a href="glib-IO-Channels.html#g-io-channel-shutdown">g_io_channel_shutdown</a>           (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel,
                                             <a href="glib-Basic-Types.html#gboolean">gboolean</a> flush,
                                             <a href="glib-Error-Reporting.html#GError">GError</a> **err);

enum        <a href="glib-IO-Channels.html#GIOStatus">GIOStatus</a>;
enum        <a href="glib-IO-Channels.html#GIOChannelError">GIOChannelError</a>;
#define     <a href="glib-IO-Channels.html#G-IO-CHANNEL-ERROR-CAPS">G_IO_CHANNEL_ERROR</a>
<a href="glib-IO-Channels.html#GIOChannelError">GIOChannelError</a> <a href="glib-IO-Channels.html#g-io-channel-error-from-errno">g_io_channel_error_from_errno</a>
                                            (<a href="glib-Basic-Types.html#gint">gint</a> en);

void        <a href="glib-IO-Channels.html#g-io-channel-ref">g_io_channel_ref</a>                (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel);
void        <a href="glib-IO-Channels.html#g-io-channel-unref">g_io_channel_unref</a>              (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel);

<a href="glib-The-Main-Event-Loop.html#GSource">GSource</a>*    <a href="glib-IO-Channels.html#g-io-create-watch">g_io_create_watch</a>               (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel,
                                             <a href="glib-IO-Channels.html#GIOCondition">GIOCondition</a> condition);
<a href="glib-Basic-Types.html#guint">guint</a>       <a href="glib-IO-Channels.html#g-io-add-watch">g_io_add_watch</a>                  (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel,
                                             <a href="glib-IO-Channels.html#GIOCondition">GIOCondition</a> condition,
                                             <a href="glib-IO-Channels.html#GIOFunc">GIOFunc</a> func,
                                             <a href="glib-Basic-Types.html#gpointer">gpointer</a> user_data);
<a href="glib-Basic-Types.html#guint">guint</a>       <a href="glib-IO-Channels.html#g-io-add-watch-full">g_io_add_watch_full</a>             (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel,
                                             <a href="glib-Basic-Types.html#gint">gint</a> priority,
                                             <a href="glib-IO-Channels.html#GIOCondition">GIOCondition</a> condition,
                                             <a href="glib-IO-Channels.html#GIOFunc">GIOFunc</a> func,
                                             <a href="glib-Basic-Types.html#gpointer">gpointer</a> user_data,
                                             <a href="glib-Datasets.html#GDestroyNotify">GDestroyNotify</a> notify);
enum        <a href="glib-IO-Channels.html#GIOCondition">GIOCondition</a>;
<a href="glib-Basic-Types.html#gboolean">gboolean</a>    (<a href="glib-IO-Channels.html#GIOFunc">*GIOFunc</a>)                      (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *source,
                                             <a href="glib-IO-Channels.html#GIOCondition">GIOCondition</a> condition,
                                             <a href="glib-Basic-Types.html#gpointer">gpointer</a> data);

struct      <a href="glib-IO-Channels.html#GIOFuncs">GIOFuncs</a>;

<a href="glib-Basic-Types.html#gsize">gsize</a>       <a href="glib-IO-Channels.html#g-io-channel-get-buffer-size">g_io_channel_get_buffer_size</a>    (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel);
void        <a href="glib-IO-Channels.html#g-io-channel-set-buffer-size">g_io_channel_set_buffer_size</a>    (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel,
                                             <a href="glib-Basic-Types.html#gsize">gsize</a> size);
<a href="glib-IO-Channels.html#GIOCondition">GIOCondition</a> <a href="glib-IO-Channels.html#g-io-channel-get-buffer-condition">g_io_channel_get_buffer_condition</a>
                                            (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel);
<a href="glib-IO-Channels.html#GIOFlags">GIOFlags</a>    <a href="glib-IO-Channels.html#g-io-channel-get-flags">g_io_channel_get_flags</a>          (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel);
<a href="glib-IO-Channels.html#GIOStatus">GIOStatus</a>   <a href="glib-IO-Channels.html#g-io-channel-set-flags">g_io_channel_set_flags</a>          (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel,
                                             <a href="glib-IO-Channels.html#GIOFlags">GIOFlags</a> flags,
                                             <a href="glib-Error-Reporting.html#GError">GError</a> **error);
enum        <a href="glib-IO-Channels.html#GIOFlags">GIOFlags</a>;
G_CONST_RETURN <a href="glib-Basic-Types.html#gchar">gchar</a>* <a href="glib-IO-Channels.html#g-io-channel-get-line-term">g_io_channel_get_line_term</a>
                                            (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel,
                                             <a href="glib-Basic-Types.html#gint">gint</a> *length);
void        <a href="glib-IO-Channels.html#g-io-channel-set-line-term">g_io_channel_set_line_term</a>      (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel,
                                             const <a href="glib-Basic-Types.html#gchar">gchar</a> *line_term,
                                             <a href="glib-Basic-Types.html#gint">gint</a> length);
<a href="glib-Basic-Types.html#gboolean">gboolean</a>    <a href="glib-IO-Channels.html#g-io-channel-get-buffered">g_io_channel_get_buffered</a>       (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel);
void        <a href="glib-IO-Channels.html#g-io-channel-set-buffered">g_io_channel_set_buffered</a>       (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel,
                                             <a href="glib-Basic-Types.html#gboolean">gboolean</a> buffered);
G_CONST_RETURN <a href="glib-Basic-Types.html#gchar">gchar</a>* <a href="glib-IO-Channels.html#g-io-channel-get-encoding">g_io_channel_get_encoding</a>
                                            (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel);
<a href="glib-IO-Channels.html#GIOStatus">GIOStatus</a>   <a href="glib-IO-Channels.html#g-io-channel-set-encoding">g_io_channel_set_encoding</a>       (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel,
                                             const <a href="glib-Basic-Types.html#gchar">gchar</a> *encoding,
                                             <a href="glib-Error-Reporting.html#GError">GError</a> **error);
<a href="glib-Basic-Types.html#gboolean">gboolean</a>    <a href="glib-IO-Channels.html#g-io-channel-get-close-on-unref">g_io_channel_get_close_on_unref</a> (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel);
void        <a href="glib-IO-Channels.html#g-io-channel-set-close-on-unref">g_io_channel_set_close_on_unref</a> (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel,
                                             <a href="glib-Basic-Types.html#gboolean">gboolean</a> do_close);


<a href="glib-IO-Channels.html#GIOError">GIOError</a>    <a href="glib-IO-Channels.html#g-io-channel-read">g_io_channel_read</a>               (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel,
                                             <a href="glib-Basic-Types.html#gchar">gchar</a> *buf,
                                             <a href="glib-Basic-Types.html#gsize">gsize</a> count,
                                             <a href="glib-Basic-Types.html#gsize">gsize</a> *bytes_read);
enum        <a href="glib-IO-Channels.html#GIOError">GIOError</a>;
<a href="glib-IO-Channels.html#GIOError">GIOError</a>    <a href="glib-IO-Channels.html#g-io-channel-write">g_io_channel_write</a>              (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel,
                                             const <a href="glib-Basic-Types.html#gchar">gchar</a> *buf,
                                             <a href="glib-Basic-Types.html#gsize">gsize</a> count,
                                             <a href="glib-Basic-Types.html#gsize">gsize</a> *bytes_written);
<a href="glib-IO-Channels.html#GIOError">GIOError</a>    <a href="glib-IO-Channels.html#g-io-channel-seek">g_io_channel_seek</a>               (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel,
                                             <a href="glib-Basic-Types.html#gint64">gint64</a> offset,
                                             <a href="glib-IO-Channels.html#GSeekType">GSeekType</a> type);
void        <a href="glib-IO-Channels.html#g-io-channel-close">g_io_channel_close</a>              (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel);

</pre></div><div class="refsect1"><h2>Description</h2><p>
The <a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> data type aims to provide a portable method for using file
descriptors, pipes, and sockets, and integrating them into the
<a href="glib-The-Main-Event-Loop.html" title="The Main Event Loop">main event loop</a>.
Currently full support is available on UNIX platforms, support for
Windows is only partially complete.
</p><p>
To create a new <a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> on UNIX systems use <a href="glib-IO-Channels.html#g-io-channel-unix-new">g_io_channel_unix_new</a>().
This works for plain file descriptors, pipes and sockets.
Alternatively, a channel can be created for a file in a system independent
manner using <a href="glib-IO-Channels.html#g-io-channel-new-file">g_io_channel_new_file</a>().
</p><p>
Once a <a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> has been created, it can be used in a generic manner
with the functions <a href="glib-IO-Channels.html#g-io-channel-read-chars">g_io_channel_read_chars</a>(), <a href="glib-IO-Channels.html#g-io-channel-write-chars">g_io_channel_write_chars</a>(),
<a href="glib-IO-Channels.html#g-io-channel-seek-position">g_io_channel_seek_position</a>(), and <a href="glib-IO-Channels.html#g-io-channel-close">g_io_channel_close</a>().
</p><p>
To add a <a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> to the 
<a href="glib-The-Main-Event-Loop.html" title="The Main Event Loop">main event loop</a>
use <a href="glib-IO-Channels.html#g-io-add-watch">g_io_add_watch</a>() or <a href="glib-IO-Channels.html#g-io-add-watch-full">g_io_add_watch_full</a>(). Here you specify which events
you are interested in on the <a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a>, and provide a function to be
called whenever these events occur.
</p><p>
<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> instances are created with an initial reference count of 1.
<a href="glib-IO-Channels.html#g-io-channel-ref">g_io_channel_ref</a>() and <a href="glib-IO-Channels.html#g-io-channel-unref">g_io_channel_unref</a>() can be used to increment or
decrement the reference count respectively. When the reference count falls
to 0, the <a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> is freed. (Though it isn't closed automatically,
unless it was created using g_io_channel_new_from_file().)
Using <a href="glib-IO-Channels.html#g-io-add-watch">g_io_add_watch</a>() or <a href="glib-IO-Channels.html#g-io-add-watch-full">g_io_add_watch_full</a>() increments a channel's
reference count.
</p><p>
GTK+ contains the convenience function <a
href="../gtk/gtk-General.html#gtk-input-add-full"
>gtk_input_add_full</a>()
which creates a <a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> from a file descriptor and adds it to the
<a href="glib-The-Main-Event-Loop.html" title="The Main Event Loop">main event loop</a>.
The event source can later be removed with <a
href="../gtk/gtk-General.html#gtk-input-remove"
>gtk_input_remove</a>().
Similar functions can also be found in GDK.
</p><p>
The new functions <a href="glib-IO-Channels.html#g-io-channel-read-chars">g_io_channel_read_chars</a>(), <a href="glib-IO-Channels.html#g-io-channel-read-line">g_io_channel_read_line</a>(),
<a href="glib-IO-Channels.html#g-io-channel-read-line-string">g_io_channel_read_line_string</a>(), <a href="glib-IO-Channels.html#g-io-channel-read-to-end">g_io_channel_read_to_end</a>(),
<a href="glib-IO-Channels.html#g-io-channel-write-chars">g_io_channel_write_chars</a>(), <a href="glib-IO-Channels.html#g-io-channel-seek-position">g_io_channel_seek_position</a>(),
and <a href="glib-IO-Channels.html#g-io-channel-flush">g_io_channel_flush</a>() should not be mixed with the
deprecated functions <a href="glib-IO-Channels.html#g-io-channel-read">g_io_channel_read</a>(), <a href="glib-IO-Channels.html#g-io-channel-write">g_io_channel_write</a>(),
and <a href="glib-IO-Channels.html#g-io-channel-seek">g_io_channel_seek</a>() on the same channel.
</p></div><div class="refsect1"><h2>Details</h2><div class="refsect2"><h3><a name="GIOChannel"></a>struct GIOChannel</h3><pre class="programlisting">struct GIOChannel {

};
</pre><p>
A data structure representing an IO Channel. The fields should be considered
private and should only be accessed with the following functions.
</p></div><hr><div class="refsect2"><h3><a name="g-io-channel-unix-new"></a>g_io_channel_unix_new ()</h3><pre class="programlisting"><a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a>* g_io_channel_unix_new           (int fd);</pre><p>
Creates a new <a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> given a file descriptor.
On UNIX systems this works for plain files, pipes, and sockets.
</p><p>
The returned <a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> has a reference count of 1.
</p><p>
The default encoding for <a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> is UTF-8. If your application
is reading output from a command using via pipe, you may need to
set the encoding to the encoding of the current locale (see
<a href="glib-Character-Set-Conversion.html#g-get-charset">g_get_charset</a>()) with the <a href="glib-IO-Channels.html#g-io-channel-set-encoding">g_io_channel_set_encoding</a>() function.
</p><p>
If you want to read raw binary data without interpretation, then
call the g_io_charset_set_encoding() function with <tt>NULL</tt> for the
encoding argument.
</p><div class="variablelist"><table border="0"><col align="left"><tbody><tr><td><span class="term"><i><tt>fd</tt></i> :</span></td><td>a file descriptor.
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td>a new <a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a>.


</td></tr></tbody></table></div></div><hr><div class="refsect2"><h3><a name="g-io-channel-unix-get-fd"></a>g_io_channel_unix_get_fd ()</h3><pre class="programlisting"><a href="glib-Basic-Types.html#gint">gint</a>        g_io_channel_unix_get_fd        (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel);</pre><p>
Returns the file descriptor of the UNIX <a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a>.
</p><div class="variablelist"><table border="0"><col align="left"><tbody><tr><td><span class="term"><i><tt>channel</tt></i> :</span></td><td>a <a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a>, created with <a href="glib-IO-Channels.html#g-io-channel-unix-new">g_io_channel_unix_new</a>().
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td>the file descriptor of the <a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a>.


</td></tr></tbody></table></div></div><hr><div class="refsect2"><h3><a name="g-io-channel-init"></a>g_io_channel_init ()</h3><pre class="programlisting">void        g_io_channel_init               (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel);</pre><p>
Initializes a <a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> struct. This is called by each of the above functions
when creating a <a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a>, and so is not often needed by the application
programmer (unless you are creating a new type of <a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a>).
</p><div class="variablelist"><table border="0"><col align="left"><tbody><tr><td><span class="term"><i><tt>channel</tt></i> :</span></td><td>a <a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a>.


</td></tr></tbody></table></div></div><hr><div class="refsect2"><h3><a name="g-io-channel-new-file"></a>g_io_channel_new_file ()</h3><pre class="programlisting"><a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a>* g_io_channel_new_file           (const <a href="glib-Basic-Types.html#gchar">gchar</a> *filename,
                                             const <a href="glib-Basic-Types.html#gchar">gchar</a> *mode,
                                             <a href="glib-Error-Reporting.html#GError">GError</a> **error);</pre><p>
Open a file <i><tt>filename</tt></i> as a <a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> using mode <i><tt>mode</tt></i>. This
channel will be closed when the last reference to it is dropped,
so there is no need to call <a href="glib-IO-Channels.html#g-io-channel-close">g_io_channel_close</a>() (though doing
so will not cause problems, as long as no attempt is made to
access the channel after it is closed).</p><p>
</p><div class="variablelist"><table border="0"><col align="left"><tbody><tr><td><span class="term"><i><tt>filename</tt></i> :</span></td><td> A string containing the name of a file.
</td></tr><tr><td><span class="term"><i><tt>mode</tt></i> :</span></td><td> One of &quot;r&quot;, &quot;w&quot;, &quot;a&quot;, &quot;r+&quot;, &quot;w+&quot;, &quot;a+&quot;. These have
       the same meaning as in <tt>fopen()</tt>.
</td></tr><tr><td><span class="term"><i><tt>error</tt></i> :</span></td><td> A location to return an error of type <tt>G_FILE_ERROR</tt>.
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> A <a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> on success, <tt>NULL</tt> on failure.
</td></tr></tbody></table></div></div><hr><div class="refsect2"><h3><a name="g-io-channel-read-chars"></a>g_io_channel_read_chars ()</h3><pre class="programlisting"><a href="glib-IO-Channels.html#GIOStatus">GIOStatus</a>   g_io_channel_read_chars         (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel,
                                             <a href="glib-Basic-Types.html#gchar">gchar</a> *buf,
                                             <a href="glib-Basic-Types.html#gsize">gsize</a> count,
                                             <a href="glib-Basic-Types.html#gsize">gsize</a> *bytes_read,
                                             <a href="glib-Error-Reporting.html#GError">GError</a> **error);</pre><p>
Replacement for <a href="glib-IO-Channels.html#g-io-channel-read">g_io_channel_read</a>() with the new API.</p><p>

</p><div class="variablelist"><table border="0"><col align="left"><tbody><tr><td><span class="term"><i><tt>channel</tt></i> :</span></td><td> a <a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a>
</td></tr><tr><td><span class="term"><i><tt>buf</tt></i> :</span></td><td> a buffer to read data into
</td></tr><tr><td><span class="term"><i><tt>count</tt></i> :</span></td><td> the size of the buffer. Note that the buffer may
        not be complelely filled even if there is data
        in the buffer if the remaining data is not a
        complete character.
</td></tr><tr><td><span class="term"><i><tt>bytes_read</tt></i> :</span></td><td> The number of bytes read. This may be zero even on
             success if count &lt; 6 and the channel's encoding is non-<tt>NULL</tt>.
             This indicates that the next UTF-8 character is too wide for
             the buffer.
</td></tr><tr><td><span class="term"><i><tt>error</tt></i> :</span></td><td> A location to return an error of type <a href="glib-Character-Set-Conversion.html#GConvertError">GConvertError</a>
        or <a href="glib-IO-Channels.html#GIOChannelError">GIOChannelError</a>.
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> the status of the operation.
</td></tr></tbody></table></div></div><hr><div class="refsect2"><h3><a name="g-io-channel-read-unichar"></a>g_io_channel_read_unichar ()</h3><pre class="programlisting"><a href="glib-IO-Channels.html#GIOStatus">GIOStatus</a>   g_io_channel_read_unichar       (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel,
                                             <a href="glib-Unicode-Manipulation.html#gunichar">gunichar</a> *thechar,
                                             <a href="glib-Error-Reporting.html#GError">GError</a> **error);</pre><p>
This function cannot be called on a channel with <tt>NULL</tt> encoding.</p><p>

</p><div class="variablelist"><table border="0"><col align="left"><tbody><tr><td><span class="term"><i><tt>channel</tt></i> :</span></td><td> a <a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a>
</td></tr><tr><td><span class="term"><i><tt>thechar</tt></i> :</span></td><td> a location to return a character
</td></tr><tr><td><span class="term"><i><tt>error</tt></i> :</span></td><td> A location to return an error of type <a href="glib-Character-Set-Conversion.html#GConvertError">GConvertError</a>
        or <a href="glib-IO-Channels.html#GIOChannelError">GIOChannelError</a>
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> a <a href="glib-IO-Channels.html#GIOStatus">GIOStatus</a>
</td></tr></tbody></table></div></div><hr><div class="refsect2"><h3><a name="g-io-channel-read-line"></a>g_io_channel_read_line ()</h3><pre class="programlisting"><a href="glib-IO-Channels.html#GIOStatus">GIOStatus</a>   g_io_channel_read_line          (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel,
                                             <a href="glib-Basic-Types.html#gchar">gchar</a> **str_return,
                                             <a href="glib-Basic-Types.html#gsize">gsize</a> *length,
                                             <a href="glib-Basic-Types.html#gsize">gsize</a> *terminator_pos,
                                             <a href="glib-Error-Reporting.html#GError">GError</a> **error);</pre><p>
Reads a line, including the terminating character(s),
from a <a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> into a newly-allocated string.
<i><tt>str_return</tt></i> will contain allocated memory if the return
is <tt>G_IO_STATUS_NORMAL</tt>.</p><p>

</p><div class="variablelist"><table border="0"><col align="left"><tbody><tr><td><span class="term"><i><tt>channel</tt></i> :</span></td><td> a <a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a>
</td></tr><tr><td><span class="term"><i><tt>str_return</tt></i> :</span></td><td> The line read from the <a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a>, including the
             line terminator. This data should be freed with <a href="glib-Memory-Allocation.html#g-free">g_free</a>()
             when no longer needed. This is a nul-terminated string. 
             If a <i><tt>length</tt></i> of zero is returned, this will be <tt>NULL</tt> instead.
</td></tr><tr><td><span class="term"><i><tt>length</tt></i> :</span></td><td> location to store length of the read data, or <tt>NULL</tt>
</td></tr><tr><td><span class="term"><i><tt>terminator_pos</tt></i> :</span></td><td> location to store position of line terminator, or <tt>NULL</tt>
</td></tr><tr><td><span class="term"><i><tt>error</tt></i> :</span></td><td> A location to return an error of type <a href="glib-Character-Set-Conversion.html#GConvertError">GConvertError</a>
        or <a href="glib-IO-Channels.html#GIOChannelError">GIOChannelError</a>
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> the status of the operation.
</td></tr></tbody></table></div></div><hr><div class="refsect2"><h3><a name="g-io-channel-read-line-string"></a>g_io_channel_read_line_string ()</h3><pre class="programlisting"><a href="glib-IO-Channels.html#GIOStatus">GIOStatus</a>   g_io_channel_read_line_string   (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel,
                                             <a href="glib-Strings.html#GString">GString</a> *buffer,
                                             <a href="glib-Basic-Types.html#gsize">gsize</a> *terminator_pos,
                                             <a href="glib-Error-Reporting.html#GError">GError</a> **error);</pre><p>
Reads a line from a <a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a>, using a <a href="glib-Strings.html#GString">GString</a> as a buffer.</p><p>

</p><div class="variablelist"><table border="0"><col align="left"><tbody><tr><td><span class="term"><i><tt>channel</tt></i> :</span></td><td> a <a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a>
</td></tr><tr><td><span class="term"><i><tt>buffer</tt></i> :</span></td><td> a <a href="glib-Strings.html#GString">GString</a> into which the line will be written.
         If <i><tt>buffer</tt></i> already contains data, the old data will
         be overwritten.
</td></tr><tr><td><span class="term"><i><tt>terminator_pos</tt></i> :</span></td><td> location to store position of line terminator, or <tt>NULL</tt>
</td></tr><tr><td><span class="term"><i><tt>error</tt></i> :</span></td><td> a location to store an error of type <a href="glib-Character-Set-Conversion.html#GConvertError">GConvertError</a>
        or <a href="glib-IO-Channels.html#GIOChannelError">GIOChannelError</a>
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> the status of the operation.
</td></tr></tbody></table></div></div><hr><div class="refsect2"><h3><a name="g-io-channel-read-to-end"></a>g_io_channel_read_to_end ()</h3><pre class="programlisting"><a href="glib-IO-Channels.html#GIOStatus">GIOStatus</a>   g_io_channel_read_to_end        (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel,
                                             <a href="glib-Basic-Types.html#gchar">gchar</a> **str_return,
                                             <a href="glib-Basic-Types.html#gsize">gsize</a> *length,
                                             <a href="glib-Error-Reporting.html#GError">GError</a> **error);</pre><p>
Reads all the remaining data from the file.
</p><p>
Return value: <tt>G_IO_STATUS_NORMAL</tt> on success. This function never</p><p>

</p><div class="variablelist"><table border="0"><col align="left"><tbody><tr><td><span class="term"><i><tt>channel</tt></i> :</span></td><td> a <a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a>
</td></tr><tr><td><span class="term"><i><tt>str_return</tt></i> :</span></td><td> Location to store a pointer to a string holding
             the remaining data in the <a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a>. This data should
             be freed with <a href="glib-Memory-Allocation.html#g-free">g_free</a>() when no longer needed. This
             data is terminated by an extra nul character, but there 
             may be other nuls in the intervening data.
</td></tr><tr><td><span class="term"><i><tt>length</tt></i> :</span></td><td> Location to store length of the data
</td></tr><tr><td><span class="term"><i><tt>error</tt></i> :</span></td><td> A location to return an error of type <a href="glib-Character-Set-Conversion.html#GConvertError">GConvertError</a>
        or <a href="glib-IO-Channels.html#GIOChannelError">GIOChannelError</a>
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td><tt>G_IO_STATUS_EOF</tt>.
</td></tr></tbody></table></div></div><hr><div class="refsect2"><h3><a name="g-io-channel-write-chars"></a>g_io_channel_write_chars ()</h3><pre class="programlisting"><a href="glib-IO-Channels.html#GIOStatus">GIOStatus</a>   g_io_channel_write_chars        (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel,
                                             const <a href="glib-Basic-Types.html#gchar">gchar</a> *buf,
                                             <a href="glib-Basic-Types.html#gssize">gssize</a> count,
                                             <a href="glib-Basic-Types.html#gsize">gsize</a> *bytes_written,
                                             <a href="glib-Error-Reporting.html#GError">GError</a> **error);</pre><p>
Replacement for <a href="glib-IO-Channels.html#g-io-channel-write">g_io_channel_write</a>() with the new API.
</p><p>
On seekable channels with encodings other than <tt>NULL</tt> or UTF-8, generic
mixing of reading and writing is not allowed. A call to <a href="glib-IO-Channels.html#g-io-channel-write-chars">g_io_channel_write_chars</a>()
may only be made on a channel from which data has been read in the
cases described in the documentation for <a href="glib-IO-Channels.html#g-io-channel-set-encoding">g_io_channel_set_encoding</a>().</p><p>

</p><div class="variablelist"><table border="0"><col align="left"><tbody><tr><td><span class="term"><i><tt>channel</tt></i> :</span></td><td> a <a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a>
</td></tr><tr><td><span class="term"><i><tt>buf</tt></i> :</span></td><td> a buffer to write data from
</td></tr><tr><td><span class="term"><i><tt>count</tt></i> :</span></td><td> the size of the buffer. If -1, the buffer
        is taken to be a nul-terminated string.
</td></tr><tr><td><span class="term"><i><tt>bytes_written</tt></i> :</span></td><td> The number of bytes written. This can be nonzero
                even if the return value is not <tt>G_IO_STATUS_NORMAL</tt>.
                If the return value is <tt>G_IO_STATUS_NORMAL</tt> and the
                channel is blocking, this will always be equal
                to <i><tt>count</tt></i> if <i><tt>count</tt></i> &gt;= 0.
</td></tr><tr><td><span class="term"><i><tt>error</tt></i> :</span></td><td> A location to return an error of type <a href="glib-Character-Set-Conversion.html#GConvertError">GConvertError</a>
        or <a href="glib-IO-Channels.html#GIOChannelError">GIOChannelError</a>
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> the status of the operation.
</td></tr></tbody></table></div></div><hr><div class="refsect2"><h3><a name="g-io-channel-write-unichar"></a>g_io_channel_write_unichar ()</h3><pre class="programlisting"><a href="glib-IO-Channels.html#GIOStatus">GIOStatus</a>   g_io_channel_write_unichar      (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel,
                                             <a href="glib-Unicode-Manipulation.html#gunichar">gunichar</a> thechar,
                                             <a href="glib-Error-Reporting.html#GError">GError</a> **error);</pre><p>
This function cannot be called on a channel with <tt>NULL</tt> encoding.</p><p>

</p><div class="variablelist"><table border="0"><col align="left"><tbody><tr><td><span class="term"><i><tt>channel</tt></i> :</span></td><td> a <a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a>
</td></tr><tr><td><span class="term"><i><tt>thechar</tt></i> :</span></td><td> a character
</td></tr><tr><td><span class="term"><i><tt>error</tt></i> :</span></td><td> A location to return an error of type <a href="glib-Character-Set-Conversion.html#GConvertError">GConvertError</a>
        or <a href="glib-IO-Channels.html#GIOChannelError">GIOChannelError</a>
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> a <a href="glib-IO-Channels.html#GIOStatus">GIOStatus</a>
</td></tr></tbody></table></div></div><hr><div class="refsect2"><h3><a name="g-io-channel-flush"></a>g_io_channel_flush ()</h3><pre class="programlisting"><a href="glib-IO-Channels.html#GIOStatus">GIOStatus</a>   g_io_channel_flush              (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel,
                                             <a href="glib-Error-Reporting.html#GError">GError</a> **error);</pre><p>
Flushes the write buffer for the GIOChannel.</p><p>

</p><div class="variablelist"><table border="0"><col align="left"><tbody><tr><td><span class="term"><i><tt>channel</tt></i> :</span></td><td> a <a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a>
</td></tr><tr><td><span class="term"><i><tt>error</tt></i> :</span></td><td> location to store an error of type <a href="glib-IO-Channels.html#GIOChannelError">GIOChannelError</a>
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> the status of the operation: One of
  G_IO_CHANNEL_NORMAL, G_IO_CHANNEL_AGAIN, or
  <a href="glib-IO-Channels.html#G-IO-CHANNEL-ERROR-CAPS">G_IO_CHANNEL_ERROR</a>.
</td></tr></tbody></table></div></div><hr><div class="refsect2"><h3><a name="g-io-channel-seek-position"></a>g_io_channel_seek_position ()</h3><pre class="programlisting"><a href="glib-IO-Channels.html#GIOStatus">GIOStatus</a>   g_io_channel_seek_position      (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel,
                                             <a href="glib-Basic-Types.html#gint64">gint64</a> offset,
                                             <a href="glib-IO-Channels.html#GSeekType">GSeekType</a> type,
                                             <a href="glib-Error-Reporting.html#GError">GError</a> **error);</pre><p>
Replacement for <a href="glib-IO-Channels.html#g-io-channel-seek">g_io_channel_seek</a>() with the new API.</p><p>

</p><div class="variablelist"><table border="0"><col align="left"><tbody><tr><td><span class="term"><i><tt>channel</tt></i> :</span></td><td> a <a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a>
</td></tr><tr><td><span class="term"><i><tt>offset</tt></i> :</span></td><td> The offset in bytes from the position specified by <i><tt>type</tt></i>
</td></tr><tr><td><span class="term"><i><tt>type</tt></i> :</span></td><td> a <a href="glib-IO-Channels.html#GSeekType">GSeekType</a>. The type <tt>G_SEEK_CUR</tt> is only allowed in those
                     cases where a call to <a href="glib-IO-Channels.html#g-io-channel-set-encoding">g_io_channel_set_encoding</a>()
                     is allowed. See the documentation for
                     <a href="glib-IO-Channels.html#g-io-channel-set-encoding">g_io_channel_set_encoding</a>() for details.
</td></tr><tr><td><span class="term"><i><tt>error</tt></i> :</span></td><td> A location to return an error of type <a href="glib-IO-Channels.html#GIOChannelError">GIOChannelError</a>
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> the status of the operation.
</td></tr></tbody></table></div></div><hr><div class="refsect2"><h3><a name="GSeekType"></a>enum GSeekType</h3><pre class="programlisting">typedef enum
{
  G_SEEK_CUR,
  G_SEEK_SET,
  G_SEEK_END
} GSeekType;
</pre><p>
An enumeration specifying the base position for a <a href="glib-IO-Channels.html#g-io-channel-seek-position">g_io_channel_seek_position</a>()
operation.
</p><div class="variablelist"><table border="0"><col align="left"><tbody><tr><td><span class="term"><tt>G_SEEK_CUR</tt></span></td><td>the current position in the file.
</td></tr><tr><td><span class="term"><tt>G_SEEK_SET</tt></span></td><td>the start of the file.
</td></tr><tr><td><span class="term"><tt>G_SEEK_END</tt></span></td><td>the end of the file.

</td></tr></tbody></table></div></div><hr><div class="refsect2"><h3><a name="g-io-channel-shutdown"></a>g_io_channel_shutdown ()</h3><pre class="programlisting"><a href="glib-IO-Channels.html#GIOStatus">GIOStatus</a>   g_io_channel_shutdown           (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel,
                                             <a href="glib-Basic-Types.html#gboolean">gboolean</a> flush,
                                             <a href="glib-Error-Reporting.html#GError">GError</a> **err);</pre><p>
Close an IO channel. Any pending data to be written will be
flushed if <i><tt>flush</tt></i> is <tt>TRUE</tt>. The channel will not be freed until the
last reference is dropped using <a href="glib-IO-Channels.html#g-io-channel-unref">g_io_channel_unref</a>().</p><p>

</p><div class="variablelist"><table border="0"><col align="left"><tbody><tr><td><span class="term"><i><tt>channel</tt></i> :</span></td><td> a <a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a>
</td></tr><tr><td><span class="term"><i><tt>flush</tt></i> :</span></td><td> if <tt>TRUE</tt>, flush pending
</td></tr><tr><td><span class="term"><i><tt>err</tt></i> :</span></td><td> location to store a <a href="glib-IO-Channels.html#GIOChannelError">GIOChannelError</a>
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> the status of the operation.
</td></tr></tbody></table></div></div><hr><div class="refsect2"><h3><a name="GIOStatus"></a>enum GIOStatus</h3><pre class="programlisting">typedef enum
{
  G_IO_STATUS_ERROR,
  G_IO_STATUS_NORMAL,
  G_IO_STATUS_EOF,
  G_IO_STATUS_AGAIN
} GIOStatus;
</pre><p>
Stati returned by most of the <a href="glib-IO-Channels.html#GIOFuncs">GIOFuncs</a> functions. 
</p><div class="variablelist"><table border="0"><col align="left"><tbody><tr><td><span class="term"><tt>G_IO_STATUS_ERROR</tt></span></td><td>An error occurred.
</td></tr><tr><td><span class="term"><tt>G_IO_STATUS_NORMAL</tt></span></td><td>Success.
</td></tr><tr><td><span class="term"><tt>G_IO_STATUS_EOF</tt></span></td><td>End of file.
</td></tr><tr><td><span class="term"><tt>G_IO_STATUS_AGAIN</tt></span></td><td>Resource temporarily unavailable.

</td></tr></tbody></table></div></div><hr><div class="refsect2"><h3><a name="GIOChannelError"></a>enum GIOChannelError</h3><pre class="programlisting">typedef enum
{
  /* Derived from errno */
  G_IO_CHANNEL_ERROR_FBIG,
  G_IO_CHANNEL_ERROR_INVAL,
  G_IO_CHANNEL_ERROR_IO,
  G_IO_CHANNEL_ERROR_ISDIR,
  G_IO_CHANNEL_ERROR_NOSPC,
  G_IO_CHANNEL_ERROR_NXIO,
  G_IO_CHANNEL_ERROR_OVERFLOW,
  G_IO_CHANNEL_ERROR_PIPE,
  /* Other */
  G_IO_CHANNEL_ERROR_FAILED
} GIOChannelError;
</pre><p>
Error codes returned by <a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> operations.
</p><div class="variablelist"><table border="0"><col align="left"><tbody><tr><td><span class="term"><tt>G_IO_CHANNEL_ERROR_FBIG</tt></span></td><td>File too large.
</td></tr><tr><td><span class="term"><tt>G_IO_CHANNEL_ERROR_INVAL</tt></span></td><td>Invalid argument.
</td></tr><tr><td><span class="term"><tt>G_IO_CHANNEL_ERROR_IO</tt></span></td><td>IO error.
</td></tr><tr><td><span class="term"><tt>G_IO_CHANNEL_ERROR_ISDIR</tt></span></td><td>File is a directory.
</td></tr><tr><td><span class="term"><tt>G_IO_CHANNEL_ERROR_NOSPC</tt></span></td><td>No space left on device.
</td></tr><tr><td><span class="term"><tt>G_IO_CHANNEL_ERROR_NXIO</tt></span></td><td>No such device or address.
</td></tr><tr><td><span class="term"><tt>G_IO_CHANNEL_ERROR_OVERFLOW</tt></span></td><td>Value too large for defined datatype.
</td></tr><tr><td><span class="term"><tt>G_IO_CHANNEL_ERROR_PIPE</tt></span></td><td>Broken pipe.
</td></tr><tr><td><span class="term"><tt>G_IO_CHANNEL_ERROR_FAILED</tt></span></td><td>Some other error.

</td></tr></tbody></table></div></div><hr><div class="refsect2"><h3><a name="G-IO-CHANNEL-ERROR-CAPS"></a>G_IO_CHANNEL_ERROR</h3><pre class="programlisting">#define G_IO_CHANNEL_ERROR g_io_channel_error_quark()
</pre><p>
Error domain for <a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> operations. Errors in this domain will
be from the <a href="glib-IO-Channels.html#GIOChannelError">GIOChannelError</a> enumeration. See <a href="glib-Error-Reporting.html#GError">GError</a> for information on
error domains.
</p></div><hr><div class="refsect2"><h3><a name="g-io-channel-error-from-errno"></a>g_io_channel_error_from_errno ()</h3><pre class="programlisting"><a href="glib-IO-Channels.html#GIOChannelError">GIOChannelError</a> g_io_channel_error_from_errno
                                            (<a href="glib-Basic-Types.html#gint">gint</a> en);</pre><p>
Converts an <tt>errno</tt> error number to a <a href="glib-IO-Channels.html#GIOChannelError">GIOChannelError</a>.</p><p>

</p><div class="variablelist"><table border="0"><col align="left"><tbody><tr><td><span class="term"><i><tt>en</tt></i> :</span></td><td> an <tt>errno</tt> error number, e.g. <tt>EINVAL</tt>.
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> a <a href="glib-IO-Channels.html#GIOChannelError">GIOChannelError</a> error number, e.g. <tt>G_IO_CHANNEL_ERROR_INVAL</tt>.
</td></tr></tbody></table></div></div><hr><div class="refsect2"><h3><a name="g-io-channel-ref"></a>g_io_channel_ref ()</h3><pre class="programlisting">void        g_io_channel_ref                (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel);</pre><p>
Increments the reference count of a <a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a>.
</p><div class="variablelist"><table border="0"><col align="left"><tbody><tr><td><span class="term"><i><tt>channel</tt></i> :</span></td><td>a <a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a>.


</td></tr></tbody></table></div></div><hr><div class="refsect2"><h3><a name="g-io-channel-unref"></a>g_io_channel_unref ()</h3><pre class="programlisting">void        g_io_channel_unref              (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel);</pre><p>
Decrements the reference count of a <a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a>.
</p><div class="variablelist"><table border="0"><col align="left"><tbody><tr><td><span class="term"><i><tt>channel</tt></i> :</span></td><td>a <a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a>.


</td></tr></tbody></table></div></div><hr><div class="refsect2"><h3><a name="g-io-create-watch"></a>g_io_create_watch ()</h3><pre class="programlisting"><a href="glib-The-Main-Event-Loop.html#GSource">GSource</a>*    g_io_create_watch               (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel,
                                             <a href="glib-IO-Channels.html#GIOCondition">GIOCondition</a> condition);</pre><p>
Creates a <a href="glib-The-Main-Event-Loop.html#GSource">GSource</a> that's dispatched when <i><tt>condition</tt></i> is met for the given
<i><tt>channel</tt></i>. For example, if condition is G_IO_IN, the source will be dispatched
when there's data available for reading.  <a href="glib-IO-Channels.html#g-io-add-watch">g_io_add_watch</a>() is a simpler
interface to this same functionality, for the case where you want to add the
source to the default main loop at the default priority.
</p><div class="variablelist"><table border="0"><col align="left"><tbody><tr><td><span class="term"><i><tt>channel</tt></i> :</span></td><td>a <a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> to watch
</td></tr><tr><td><span class="term"><i><tt>condition</tt></i> :</span></td><td>conditions to watch for
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td>a new <a href="glib-The-Main-Event-Loop.html#GSource">GSource</a>


</td></tr></tbody></table></div></div><hr><div class="refsect2"><h3><a name="g-io-add-watch"></a>g_io_add_watch ()</h3><pre class="programlisting"><a href="glib-Basic-Types.html#guint">guint</a>       g_io_add_watch                  (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel,
                                             <a href="glib-IO-Channels.html#GIOCondition">GIOCondition</a> condition,
                                             <a href="glib-IO-Channels.html#GIOFunc">GIOFunc</a> func,
                                             <a href="glib-Basic-Types.html#gpointer">gpointer</a> user_data);</pre><p>
Adds the <a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> into the
<a href="glib-The-Main-Event-Loop.html" title="The Main Event Loop">main event loop</a>
with the default priority.
</p><div class="variablelist"><table border="0"><col align="left"><tbody><tr><td><span class="term"><i><tt>channel</tt></i> :</span></td><td>a <a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a>.
</td></tr><tr><td><span class="term"><i><tt>condition</tt></i> :</span></td><td>the condition to watch for.
</td></tr><tr><td><span class="term"><i><tt>func</tt></i> :</span></td><td>the function to call when the condition is satisfied.
</td></tr><tr><td><span class="term"><i><tt>user_data</tt></i> :</span></td><td>user data to pass to <i><tt>func</tt></i>.
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td>the event source id.


</td></tr></tbody></table></div></div><hr><div class="refsect2"><h3><a name="g-io-add-watch-full"></a>g_io_add_watch_full ()</h3><pre class="programlisting"><a href="glib-Basic-Types.html#guint">guint</a>       g_io_add_watch_full             (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel,
                                             <a href="glib-Basic-Types.html#gint">gint</a> priority,
                                             <a href="glib-IO-Channels.html#GIOCondition">GIOCondition</a> condition,
                                             <a href="glib-IO-Channels.html#GIOFunc">GIOFunc</a> func,
                                             <a href="glib-Basic-Types.html#gpointer">gpointer</a> user_data,
                                             <a href="glib-Datasets.html#GDestroyNotify">GDestroyNotify</a> notify);</pre><p>
Adds the <a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> into the
<a href="glib-The-Main-Event-Loop.html" title="The Main Event Loop">main event loop</a>
with the given priority.
</p><div class="variablelist"><table border="0"><col align="left"><tbody><tr><td><span class="term"><i><tt>channel</tt></i> :</span></td><td>a <a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a>.
</td></tr><tr><td><span class="term"><i><tt>priority</tt></i> :</span></td><td>the priority of the <a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> source.
</td></tr><tr><td><span class="term"><i><tt>condition</tt></i> :</span></td><td>the condition to watch for.
</td></tr><tr><td><span class="term"><i><tt>func</tt></i> :</span></td><td>the function to call when the condition is satisfied.
</td></tr><tr><td><span class="term"><i><tt>user_data</tt></i> :</span></td><td>user data to pass to <i><tt>func</tt></i>.
</td></tr><tr><td><span class="term"><i><tt>notify</tt></i> :</span></td><td>the function to call when the source is removed.
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td>the event source id.


</td></tr></tbody></table></div></div><hr><div class="refsect2"><h3><a name="GIOCondition"></a>enum GIOCondition</h3><pre class="programlisting">typedef enum
{
  G_IO_IN	GLIB_SYSDEF_POLLIN,
  G_IO_OUT	GLIB_SYSDEF_POLLOUT,
  G_IO_PRI	GLIB_SYSDEF_POLLPRI,
  G_IO_ERR	GLIB_SYSDEF_POLLERR,
  G_IO_HUP	GLIB_SYSDEF_POLLHUP,
  G_IO_NVAL	GLIB_SYSDEF_POLLNVAL
} GIOCondition;
</pre><p>
A bitwise combination representing a condition to watch for on an event
source.
</p><div class="variablelist"><table border="0"><col align="left"><tbody><tr><td><span class="term"><tt>G_IO_IN</tt></span></td><td>There is data to read.
</td></tr><tr><td><span class="term"><tt>G_IO_OUT</tt></span></td><td>Data can be written (without blocking).
</td></tr><tr><td><span class="term"><tt>G_IO_PRI</tt></span></td><td>There is urgent data to read.
</td></tr><tr><td><span class="term"><tt>G_IO_ERR</tt></span></td><td>Error condition.
</td></tr><tr><td><span class="term"><tt>G_IO_HUP</tt></span></td><td>Hung up (the connection has been broken, usually for pipes 
           and sockets).
</td></tr><tr><td><span class="term"><tt>G_IO_NVAL</tt></span></td><td>Invalid request. The file descriptor is not open.

</td></tr></tbody></table></div></div><hr><div class="refsect2"><h3><a name="GIOFunc"></a>GIOFunc ()</h3><pre class="programlisting"><a href="glib-Basic-Types.html#gboolean">gboolean</a>    (*GIOFunc)                      (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *source,
                                             <a href="glib-IO-Channels.html#GIOCondition">GIOCondition</a> condition,
                                             <a href="glib-Basic-Types.html#gpointer">gpointer</a> data);</pre><p>
Specifies the type of function passed to <a href="glib-IO-Channels.html#g-io-add-watch">g_io_add_watch</a>() or
<a href="glib-IO-Channels.html#g-io-add-watch-full">g_io_add_watch_full</a>(), which is called when the requested condition on a
<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> is satisfied.
</p><div class="variablelist"><table border="0"><col align="left"><tbody><tr><td><span class="term"><i><tt>source</tt></i> :</span></td><td>the <a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> event source.
</td></tr><tr><td><span class="term"><i><tt>condition</tt></i> :</span></td><td>the condition which has been satisfied.
</td></tr><tr><td><span class="term"><i><tt>data</tt></i> :</span></td><td>user data set in <a href="glib-IO-Channels.html#g-io-add-watch">g_io_add_watch</a>() or <a href="glib-IO-Channels.html#g-io-add-watch-full">g_io_add_watch_full</a>().
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td>the function should return <tt>FALSE</tt> if the event source should be
removed.


</td></tr></tbody></table></div></div><hr><div class="refsect2"><h3><a name="GIOFuncs"></a>struct GIOFuncs</h3><pre class="programlisting">struct GIOFuncs {

  GIOStatus (*io_read)           (GIOChannel   *channel, 
			          gchar        *buf, 
				  gsize         count,
				  gsize        *bytes_read,
				  GError      **err);
  GIOStatus (*io_write)          (GIOChannel   *channel, 
				  const gchar  *buf, 
				  gsize         count,
				  gsize        *bytes_written,
				  GError      **err);
  GIOStatus (*io_seek)           (GIOChannel   *channel, 
				  gint64        offset, 
				  GSeekType     type,
				  GError      **err);
  GIOStatus  (*io_close)         (GIOChannel   *channel,
				  GError      **err);
  GSource*   (*io_create_watch)  (GIOChannel   *channel,
				  GIOCondition  condition);
  void       (*io_free)          (GIOChannel   *channel);
  GIOStatus  (*io_set_flags)     (GIOChannel   *channel,
                                  GIOFlags      flags,
				  GError      **err);
  GIOFlags   (*io_get_flags)     (GIOChannel   *channel);
};
</pre><p>
A table of functions used to handle different types of <a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> in a
generic way.
</p></div><hr><div class="refsect2"><h3><a name="g-io-channel-get-buffer-size"></a>g_io_channel_get_buffer_size ()</h3><pre class="programlisting"><a href="glib-Basic-Types.html#gsize">gsize</a>       g_io_channel_get_buffer_size    (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel);</pre><p>
Gets the buffer size.</p><p>

</p><div class="variablelist"><table border="0"><col align="left"><tbody><tr><td><span class="term"><i><tt>channel</tt></i> :</span></td><td> a <a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a>
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> the size of the buffer.
</td></tr></tbody></table></div></div><hr><div class="refsect2"><h3><a name="g-io-channel-set-buffer-size"></a>g_io_channel_set_buffer_size ()</h3><pre class="programlisting">void        g_io_channel_set_buffer_size    (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel,
                                             <a href="glib-Basic-Types.html#gsize">gsize</a> size);</pre><p>
Sets the buffer size.</p><p>

</p><div class="variablelist"><table border="0"><col align="left"><tbody><tr><td><span class="term"><i><tt>channel</tt></i> :</span></td><td> a <a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a>
</td></tr><tr><td><span class="term"><i><tt>size</tt></i> :</span></td><td> the size of the buffer. 0 == pick a good size
</td></tr></tbody></table></div></div><hr><div class="refsect2"><h3><a name="g-io-channel-get-buffer-condition"></a>g_io_channel_get_buffer_condition ()</h3><pre class="programlisting"><a href="glib-IO-Channels.html#GIOCondition">GIOCondition</a> g_io_channel_get_buffer_condition
                                            (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel);</pre><p>
This function returns a <a href="glib-IO-Channels.html#GIOCondition">GIOCondition</a> depending on whether there
is data to be read/space to write data in the
internal buffers in the <a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a>. Only the flags <tt>G_IO_IN</tt> and
<tt>G_IO_OUT</tt> may be set.</p><p>

</p><div class="variablelist"><table border="0"><col align="left"><tbody><tr><td><span class="term"><i><tt>channel</tt></i> :</span></td><td> A <a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a>
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> A <a href="glib-IO-Channels.html#GIOCondition">GIOCondition</a>
</td></tr></tbody></table></div></div><hr><div class="refsect2"><h3><a name="g-io-channel-get-flags"></a>g_io_channel_get_flags ()</h3><pre class="programlisting"><a href="glib-IO-Channels.html#GIOFlags">GIOFlags</a>    g_io_channel_get_flags          (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel);</pre><p>
Gets the current flags for a <a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a>, including read-only
flags such as <tt>G_IO_FLAG_IS_READABLE</tt>.
</p><p>
The values of the flags <tt>G_IO_FLAG_IS_READABLE</tt> and <tt>G_IO_FLAG_IS_WRITEABLE</tt>
are cached for internal use by the channel when it is created.
If they should change at some later point (e.g. partial shutdown
of a socket with the UNIX <tt>shutdown()</tt> function), the user
should immediately call <a href="glib-IO-Channels.html#g-io-channel-get-flags">g_io_channel_get_flags</a>() to update
the internal values of these flags.</p><p>

</p><div class="variablelist"><table border="0"><col align="left"><tbody><tr><td><span class="term"><i><tt>channel</tt></i> :</span></td><td> a <a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a>
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> the flags which are set on the channel
</td></tr></tbody></table></div></div><hr><div class="refsect2"><h3><a name="g-io-channel-set-flags"></a>g_io_channel_set_flags ()</h3><pre class="programlisting"><a href="glib-IO-Channels.html#GIOStatus">GIOStatus</a>   g_io_channel_set_flags          (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel,
                                             <a href="glib-IO-Channels.html#GIOFlags">GIOFlags</a> flags,
                                             <a href="glib-Error-Reporting.html#GError">GError</a> **error);</pre><p>
Sets the (writeable) flags in <i><tt>channel</tt></i> to (<i><tt>flags</tt></i> &amp; <tt>G_IO_CHANNEL_SET_MASK</tt>).</p><p>

</p><div class="variablelist"><table border="0"><col align="left"><tbody><tr><td><span class="term"><i><tt>channel</tt></i> :</span></td><td> a <a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a>.
</td></tr><tr><td><span class="term"><i><tt>flags</tt></i> :</span></td><td> the flags to set on the IO channel.
</td></tr><tr><td><span class="term"><i><tt>error</tt></i> :</span></td><td> A location to return an error of type <a href="glib-IO-Channels.html#GIOChannelError">GIOChannelError</a>.
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> the status of the operation. 
</td></tr></tbody></table></div></div><hr><div class="refsect2"><h3><a name="GIOFlags"></a>enum GIOFlags</h3><pre class="programlisting">typedef enum
{
  G_IO_FLAG_APPEND = 1 &lt;&lt; 0,
  G_IO_FLAG_NONBLOCK = 1 &lt;&lt; 1,
  G_IO_FLAG_IS_READABLE = 1 &lt;&lt; 2,	/* Read only flag */
  G_IO_FLAG_IS_WRITEABLE = 1 &lt;&lt; 3,	/* Read only flag */
  G_IO_FLAG_IS_SEEKABLE = 1 &lt;&lt; 4,	/* Read only flag */
  G_IO_FLAG_MASK = (1 &lt;&lt; 5) - 1,
  G_IO_FLAG_GET_MASK = G_IO_FLAG_MASK,
  G_IO_FLAG_SET_MASK = G_IO_FLAG_APPEND | G_IO_FLAG_NONBLOCK
} GIOFlags;
</pre><p>
Specifies properties of a <a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a>. Some of the flags can only
be read with <a href="glib-IO-Channels.html#g-io-channel-get-flags">g_io_channel_get_flags</a>(), but not changed with
<a href="glib-IO-Channels.html#g-io-channel-set-flags">g_io_channel_set_flags</a>(). 
</p><div class="variablelist"><table border="0"><col align="left"><tbody><tr><td><span class="term"><tt>G_IO_FLAG_APPEND</tt></span></td><td>turns on append mode, corresponds to <tt>O_APPEND</tt> (see the 
   documentation of the UNIX <tt>open()</tt> syscall).
</td></tr><tr><td><span class="term"><tt>G_IO_FLAG_NONBLOCK</tt></span></td><td>turns on nonblocking mode, corresponds to 
   <tt>O_NONBLOCK</tt>/<tt>O_NDELAY</tt> (see the documentation of the UNIX 
   <tt>open()</tt> syscall).
</td></tr><tr><td><span class="term"><tt>G_IO_FLAG_IS_READABLE</tt></span></td><td>indicates that the io channel is readable. This flag 
   can not be changed.
</td></tr><tr><td><span class="term"><tt>G_IO_FLAG_IS_WRITEABLE</tt></span></td><td>indicates that the io channel is writable. This flag 
   can not be changed.
</td></tr><tr><td><span class="term"><tt>G_IO_FLAG_IS_SEEKABLE</tt></span></td><td>indicates that the io channel is seekable, i.e. that 
   <a href="glib-IO-Channels.html#g-io-channel-seek-position">g_io_channel_seek_position</a>() can be used on it. This flag can not be changed.
</td></tr><tr><td><span class="term"><tt>G_IO_FLAG_MASK</tt></span></td><td>
</td></tr><tr><td><span class="term"><tt>G_IO_FLAG_GET_MASK</tt></span></td><td>
</td></tr><tr><td><span class="term"><tt>G_IO_FLAG_SET_MASK</tt></span></td><td>

</td></tr></tbody></table></div></div><hr><div class="refsect2"><h3><a name="g-io-channel-get-line-term"></a>g_io_channel_get_line_term ()</h3><pre class="programlisting">G_CONST_RETURN <a href="glib-Basic-Types.html#gchar">gchar</a>* g_io_channel_get_line_term
                                            (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel,
                                             <a href="glib-Basic-Types.html#gint">gint</a> *length);</pre><p>
This returns the string that <a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> uses to determine
where in the file a line break occurs. A value of <tt>NULL</tt>
indicates auto detection.</p><p>

</p><div class="variablelist"><table border="0"><col align="left"><tbody><tr><td><span class="term"><i><tt>channel</tt></i> :</span></td><td> a <a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a>
</td></tr><tr><td><span class="term"><i><tt>length</tt></i> :</span></td><td> a location to return the length of the line terminator
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> The line termination string. This value
  is owned by GLib and must not be freed.
</td></tr></tbody></table></div></div><hr><div class="refsect2"><h3><a name="g-io-channel-set-line-term"></a>g_io_channel_set_line_term ()</h3><pre class="programlisting">void        g_io_channel_set_line_term      (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel,
                                             const <a href="glib-Basic-Types.html#gchar">gchar</a> *line_term,
                                             <a href="glib-Basic-Types.html#gint">gint</a> length);</pre><p>
This sets the string that <a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> uses to determine
where in the file a line break occurs.</p><p>

</p><div class="variablelist"><table border="0"><col align="left"><tbody><tr><td><span class="term"><i><tt>channel</tt></i> :</span></td><td> a <a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a>
</td></tr><tr><td><span class="term"><i><tt>line_term</tt></i> :</span></td><td> The line termination string. Use <tt>NULL</tt> for auto detect.
            Auto detection breaks on &quot;\n&quot;, &quot;\r\n&quot;, &quot;\r&quot;, &quot;\0&quot;, and
            the Unicode paragraph separator. Auto detection should
            not be used for anything other than file-based channels.
</td></tr><tr><td><span class="term"><i><tt>length</tt></i> :</span></td><td> The length of the termination string. If -1 is passed, the
         string is assumed to be nul-terminated. This option allows
         termination strings with embeded nuls.
</td></tr></tbody></table></div></div><hr><div class="refsect2"><h3><a name="g-io-channel-get-buffered"></a>g_io_channel_get_buffered ()</h3><pre class="programlisting"><a href="glib-Basic-Types.html#gboolean">gboolean</a>    g_io_channel_get_buffered       (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel);</pre><p>
Returns whether <i><tt>channel</tt></i> is buffered.</p><p>

</p><div class="variablelist"><table border="0"><col align="left"><tbody><tr><td><span class="term"><i><tt>channel</tt></i> :</span></td><td> a <a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a>.
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> <tt>TRUE</tt> if the <i><tt>channel</tt></i> is buffered. 
</td></tr></tbody></table></div></div><hr><div class="refsect2"><h3><a name="g-io-channel-set-buffered"></a>g_io_channel_set_buffered ()</h3><pre class="programlisting">void        g_io_channel_set_buffered       (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel,
                                             <a href="glib-Basic-Types.html#gboolean">gboolean</a> buffered);</pre><p>
The buffering state can only be set if the channel's encoding
is <tt>NULL</tt>. For any other encoding, the channel must be buffered.
</p><p>
A buffered channel can only be set unbuffered if the channel's
internal buffers have been flushed. Newly created channels or
channels which have returned <tt>G_IO_STATUS_EOF</tt>
not require such a flush. For write-only channels, a call to
<a href="glib-IO-Channels.html#g-io-channel-flush">g_io_channel_flush</a>() is sufficient. For all other channels,
the buffers may be flushed by a call to <a href="glib-IO-Channels.html#g-io-channel-seek-position">g_io_channel_seek_position</a>().
This includes the possibility of seeking with seek type <tt>G_SEEK_CUR</tt>
and an offset of zero. Note that this means that socket-based
channels cannot be set unbuffered once they have had data
read from them.
</p><p>
On unbuffered channels, it is safe to mix read and write
calls from the new and old APIs, if this is necessary for
maintaining old code.
</p><p>
The default state of the channel is buffered.</p><p>

</p><div class="variablelist"><table border="0"><col align="left"><tbody><tr><td><span class="term"><i><tt>channel</tt></i> :</span></td><td> a <a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a>
</td></tr><tr><td><span class="term"><i><tt>buffered</tt></i> :</span></td><td> whether to set the channel buffered or unbuffered
</td></tr></tbody></table></div></div><hr><div class="refsect2"><h3><a name="g-io-channel-get-encoding"></a>g_io_channel_get_encoding ()</h3><pre class="programlisting">G_CONST_RETURN <a href="glib-Basic-Types.html#gchar">gchar</a>* g_io_channel_get_encoding
                                            (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel);</pre><p>
Gets the encoding for the input/output of the channel. The internal
encoding is always UTF-8. The encoding <tt>NULL</tt> makes the
channel safe for binary data.</p><p>

</p><div class="variablelist"><table border="0"><col align="left"><tbody><tr><td><span class="term"><i><tt>channel</tt></i> :</span></td><td> a <a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a>
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> A string containing the encoding, this string is
  owned by GLib and must not be freed.
</td></tr></tbody></table></div></div><hr><div class="refsect2"><h3><a name="g-io-channel-set-encoding"></a>g_io_channel_set_encoding ()</h3><pre class="programlisting"><a href="glib-IO-Channels.html#GIOStatus">GIOStatus</a>   g_io_channel_set_encoding       (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel,
                                             const <a href="glib-Basic-Types.html#gchar">gchar</a> *encoding,
                                             <a href="glib-Error-Reporting.html#GError">GError</a> **error);</pre><p>
Sets the encoding for the input/output of the channel. The internal
encoding is always UTF-8. The default encoding for the
external file is UTF-8.
</p><p>
The encoding <tt>NULL</tt> is safe to use with binary data.
</p><p>
The encoding can only be set if one of the following conditions
is true:
</p><p>
1. The channel was just created, and has not been written to
   or read from yet.
</p><p>
2. The channel is write-only.
</p><p>
3. The channel is a file, and the file pointer was just
   repositioned by a call to <a href="glib-IO-Channels.html#g-io-channel-seek-position">g_io_channel_seek_position</a>().
   (This flushes all the internal buffers.)
</p><p>
4. The current encoding is <tt>NULL</tt> or UTF-8.
</p><p>
5. One of the (new API) read functions has just returned <tt>G_IO_STATUS_EOF</tt>
   (or, in the case of <a href="glib-IO-Channels.html#g-io-channel-read-to-end">g_io_channel_read_to_end</a>(), <tt>G_IO_STATUS_NORMAL</tt>).
</p><p>
6. One of the functions <a href="glib-IO-Channels.html#g-io-channel-read-chars">g_io_channel_read_chars</a>() or <a href="glib-IO-Channels.html#g-io-channel-read-unichar">g_io_channel_read_unichar</a>()
   has returned <tt>G_IO_STATUS_AGAIN</tt> or <tt>G_IO_STATUS_ERROR</tt>. This may be
   useful in the case of <tt>G_CONVERT_ERROR_ILLEGAL_SEQUENCE</tt>.
   Returning one of these statuses from <a href="glib-IO-Channels.html#g-io-channel-read-line">g_io_channel_read_line</a>(),
   <a href="glib-IO-Channels.html#g-io-channel-read-line-string">g_io_channel_read_line_string</a>(), or <a href="glib-IO-Channels.html#g-io-channel-read-to-end">g_io_channel_read_to_end</a>()
   does <span class="emphasis"><em>not</em></span> guarantee that the encoding can be changed.
</p><p>
Channels which do not meet one of the above conditions cannot call
<a href="glib-IO-Channels.html#g-io-channel-seek-position">g_io_channel_seek_position</a>() with an offset of <tt>G_SEEK_CUR</tt>,
and, if they are &quot;seekable&quot;, cannot
call <a href="glib-IO-Channels.html#g-io-channel-write-chars">g_io_channel_write_chars</a>() after calling one
of the API &quot;read&quot; functions.</p><p>

</p><div class="variablelist"><table border="0"><col align="left"><tbody><tr><td><span class="term"><i><tt>channel</tt></i> :</span></td><td> a <a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a>
</td></tr><tr><td><span class="term"><i><tt>encoding</tt></i> :</span></td><td> the encoding type
</td></tr><tr><td><span class="term"><i><tt>error</tt></i> :</span></td><td> location to store an error of type <a href="glib-Character-Set-Conversion.html#GConvertError">GConvertError</a>.
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> <tt>G_IO_STATUS_NORMAL</tt> if the encoding was successfully set.
</td></tr></tbody></table></div></div><hr><div class="refsect2"><h3><a name="g-io-channel-get-close-on-unref"></a>g_io_channel_get_close_on_unref ()</h3><pre class="programlisting"><a href="glib-Basic-Types.html#gboolean">gboolean</a>    g_io_channel_get_close_on_unref (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel);</pre><p>
Returns whether the file/socket/whatever associated with <i><tt>channel</tt></i>
will be closed when <i><tt>channel</tt></i> receives its final unref and is
destroyed. The default value of this is <tt>TRUE</tt> for channels created
by <a href="glib-IO-Channels.html#g-io-channel-new-file">g_io_channel_new_file</a>(), and <tt>FALSE</tt> for all other channels.</p><p>

</p><div class="variablelist"><table border="0"><col align="left"><tbody><tr><td><span class="term"><i><tt>channel</tt></i> :</span></td><td> a <a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a>.
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> Whether the channel will be closed on the final unref of
              the GIOChannel data structure.
</td></tr></tbody></table></div></div><hr><div class="refsect2"><h3><a name="g-io-channel-set-close-on-unref"></a>g_io_channel_set_close_on_unref ()</h3><pre class="programlisting">void        g_io_channel_set_close_on_unref (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel,
                                             <a href="glib-Basic-Types.html#gboolean">gboolean</a> do_close);</pre><p>
Setting this flag to <tt>TRUE</tt> for a channel you have already closed
can cause problems.</p><p>

</p><div class="variablelist"><table border="0"><col align="left"><tbody><tr><td><span class="term"><i><tt>channel</tt></i> :</span></td><td> a <a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a>
</td></tr><tr><td><span class="term"><i><tt>do_close</tt></i> :</span></td><td> Whether to close the channel on the final unref of
           the GIOChannel data structure. The default value of
           this is <tt>TRUE</tt> for channels created by <a href="glib-IO-Channels.html#g-io-channel-new-file">g_io_channel_new_file</a>(),
           and <tt>FALSE</tt> for all other channels.
</td></tr></tbody></table></div></div><hr><div class="refsect2"><h3><a name="g-io-channel-read"></a>g_io_channel_read ()</h3><pre class="programlisting"><a href="glib-IO-Channels.html#GIOError">GIOError</a>    g_io_channel_read               (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel,
                                             <a href="glib-Basic-Types.html#gchar">gchar</a> *buf,
                                             <a href="glib-Basic-Types.html#gsize">gsize</a> count,
                                             <a href="glib-Basic-Types.html#gsize">gsize</a> *bytes_read);</pre><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Warning</h3><p><tt>g_io_channel_read</tt> is deprecated and should not be used in newly-written code. Use <a href="glib-IO-Channels.html#g-io-channel-read-chars">g_io_channel_read_chars</a>() instead.</p></div><p>
Reads data from a <a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a>.</p><p>
</p><div class="variablelist"><table border="0"><col align="left"><tbody><tr><td><span class="term"><i><tt>channel</tt></i> :</span></td><td> a <a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a>. 
</td></tr><tr><td><span class="term"><i><tt>buf</tt></i> :</span></td><td> a buffer to read the data into (which should be at least count bytes long).
</td></tr><tr><td><span class="term"><i><tt>count</tt></i> :</span></td><td> the number of bytes to read from the <a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a>.
</td></tr><tr><td><span class="term"><i><tt>bytes_read</tt></i> :</span></td><td> returns the number of bytes actually read. 
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> <tt>G_IO_ERROR_NONE</tt> if the operation was successful. 

</td></tr></tbody></table></div></div><hr><div class="refsect2"><h3><a name="GIOError"></a>enum GIOError</h3><pre class="programlisting">typedef enum
{
  G_IO_ERROR_NONE,
  G_IO_ERROR_AGAIN,
  G_IO_ERROR_INVAL,
  G_IO_ERROR_UNKNOWN
} GIOError;
</pre><p>
<a href="glib-IO-Channels.html#GIOError">GIOError</a> is only used by the deprecated functions <a href="glib-IO-Channels.html#g-io-channel-read">g_io_channel_read</a>(),
<a href="glib-IO-Channels.html#g-io-channel-write">g_io_channel_write</a>(), and <a href="glib-IO-Channels.html#g-io-channel-seek">g_io_channel_seek</a>().
</p></div><hr><div class="refsect2"><h3><a name="g-io-channel-write"></a>g_io_channel_write ()</h3><pre class="programlisting"><a href="glib-IO-Channels.html#GIOError">GIOError</a>    g_io_channel_write              (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel,
                                             const <a href="glib-Basic-Types.html#gchar">gchar</a> *buf,
                                             <a href="glib-Basic-Types.html#gsize">gsize</a> count,
                                             <a href="glib-Basic-Types.html#gsize">gsize</a> *bytes_written);</pre><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Warning</h3><p><tt>g_io_channel_write</tt> is deprecated and should not be used in newly-written code. Use <a href="glib-IO-Channels.html#g-io-channel-write-chars">g_io_channel_write_chars</a>() instead.</p></div><p>
Writes data to a <a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a>.</p><p>
</p><div class="variablelist"><table border="0"><col align="left"><tbody><tr><td><span class="term"><i><tt>channel</tt></i> :</span></td><td>  a <a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a>.
</td></tr><tr><td><span class="term"><i><tt>buf</tt></i> :</span></td><td> the buffer containing the data to write. 
</td></tr><tr><td><span class="term"><i><tt>count</tt></i> :</span></td><td> the number of bytes to write.
</td></tr><tr><td><span class="term"><i><tt>bytes_written</tt></i> :</span></td><td>  the number of bytes actually written.
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td>  <tt>G_IO_ERROR_NONE</tt> if the operation was successful.

</td></tr></tbody></table></div></div><hr><div class="refsect2"><h3><a name="g-io-channel-seek"></a>g_io_channel_seek ()</h3><pre class="programlisting"><a href="glib-IO-Channels.html#GIOError">GIOError</a>    g_io_channel_seek               (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel,
                                             <a href="glib-Basic-Types.html#gint64">gint64</a> offset,
                                             <a href="glib-IO-Channels.html#GSeekType">GSeekType</a> type);</pre><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Warning</h3><p><tt>g_io_channel_seek</tt> is deprecated and should not be used in newly-written code. Use <a href="glib-IO-Channels.html#g-io-channel-seek-position">g_io_channel_seek_position</a>() instead.</p></div><p>
Sets the current position in the <a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a>, similar to the standard library
function <tt>fseek()</tt>.</p><p>
</p><div class="variablelist"><table border="0"><col align="left"><tbody><tr><td><span class="term"><i><tt>channel</tt></i> :</span></td><td> a <a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a>. 
</td></tr><tr><td><span class="term"><i><tt>offset</tt></i> :</span></td><td> an offset, in bytes, which is added to the position specified by <i><tt>type</tt></i>
</td></tr><tr><td><span class="term"><i><tt>type</tt></i> :</span></td><td> the position in the file, which can be <tt>G_SEEK_CUR</tt> (the current
       position), <tt>G_SEEK_SET</tt> (the start of the file), or <tt>G_SEEK_END</tt> (the end of the
       file).
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> <tt>G_IO_ERROR_NONE</tt> if the operation was successful.

</td></tr></tbody></table></div></div><hr><div class="refsect2"><h3><a name="g-io-channel-close"></a>g_io_channel_close ()</h3><pre class="programlisting">void        g_io_channel_close              (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel);</pre><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Warning</h3><p><tt>g_io_channel_close</tt> is deprecated and should not be used in newly-written code. Use <a href="glib-IO-Channels.html#g-io-channel-shutdown">g_io_channel_shutdown</a>() instead.</p></div><p>
Close an IO channel. Any pending data to be written will be
flushed, ignoring errors. The channel will not be freed until the
last reference is dropped using <a href="glib-IO-Channels.html#g-io-channel-unref">g_io_channel_unref</a>().</p><p>
</p><div class="variablelist"><table border="0"><col align="left"><tbody><tr><td><span class="term"><i><tt>channel</tt></i> :</span></td><td> A <a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a>
</td></tr></tbody></table></div></div></div><div class="refsect1"><h2>See Also</h2><p>
</p><div class="variablelist"><table border="0"><col align="left"><tbody><tr><td><span class="term"><a
href="../gtk/gtk-General.html#gtk-input-add-full"
>gtk_input_add_full</a>(), <a
href="../gtk/gtk-General.html#gtk-input-remove"
>gtk_input_remove</a>(), <a
href="../gdk/gdk-Input.html#gdk-input-add"
>gdk_input_add</a>(),
<a
href="../gdk/gdk-Input.html#gdk-input-add-full"
>gdk_input_add_full</a>(), <a
href="../gdk/gdk-Input.html#gdk-input-remove"
>gdk_input_remove</a>()</span></td><td><p>
Convenience functions for creating <a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> instances and adding them to the
<a href="glib-The-Main-Event-Loop.html" title="The Main Event Loop">main event loop</a>.
</p></td></tr></tbody></table></div><p>
</p></div></div><table class="navigation" width="100%" summary="Navigation footer" cellpadding="2" cellspacing="0"><tr valign="middle"><td align="left"><a accesskey="p" href="glib-Memory-Allocation.html"><b>&lt;&lt; Memory Allocation</b></a></td><td align="right"><a accesskey="n" href="glib-Error-Reporting.html"><b>Error Reporting &gt;&gt;</b></a></td></tr></table></body></html>
