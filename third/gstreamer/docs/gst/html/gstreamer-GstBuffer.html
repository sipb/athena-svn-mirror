<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>GstBuffer</title><meta name="generator" content="DocBook XSL Stylesheets V1.65.1"><link rel="home" href="index.html" title="GStreamer 0.8 Core Reference Manual"><link rel="up" href="gstreamer.html" title="GStreamer Core Library"><link rel="previous" href="GstBin.html" title="GstBin"><link rel="next" href="gstreamer-GstCaps.html" title="GstCaps"><meta name="generator" content="GTK-Doc V1.2 (XML mode)"><style type="text/css">
        .synopsis, .classsynopsis {
            background: #eeeeee;
            border: solid 1px #aaaaaa;
            padding: 0.5em;
        }
        .programlisting {
            background: #eeeeff;
            border: solid 1px #aaaaff;
            padding: 0.5em;
        }
        .variablelist {
            padding: 4px;
            margin-left: 3em;
        }
        .navigation {
            background: #ffeeee;
            border: solid 1px #ffaaaa;
            margin-top: 0.5em;
            margin-bottom: 0.5em;
        }
        .navigation a {
            color: #770000;
        }
        .navigation a:visited {
            color: #550000;
        }
        .navigation .title {
            font-size: 200%;
        }
      </style></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><table class="navigation" width="100%" summary="Navigation header" cellpadding="2" cellspacing="2"><tr valign="middle"><td><a accesskey="p" href="GstBin.html"><img src="left.png" width="24" height="24" border="0" alt="Prev"></a></td><td><a accesskey="u" href="gstreamer.html"><img src="up.png" width="24" height="24" border="0" alt="Up"></a></td><td><a accesskey="h" href="index.html"><img src="home.png" width="24" height="24" border="0" alt="Home"></a></td><th width="100%" align="center">GStreamer 0.8 Core Reference Manual</th><td><a accesskey="n" href="gstreamer-GstCaps.html"><img src="right.png" width="24" height="24" border="0" alt="Next"></a></td></tr></table><div class="refentry" lang="en"><a name="gstreamer-GstBuffer"></a><div class="titlepage"><div></div><div></div></div><div class="refnamediv"><h2><span class="refentrytitle">GstBuffer</span></h2><p>GstBuffer &#8212; Data-passing buffer type, supporting sub-buffers.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><pre class="synopsis">

#include &lt;gst/gst.h&gt;


struct      <a href="gstreamer-GstBuffer.html#GstBuffer">GstBuffer</a>;
<a href="gstreamer-GstBuffer.html#GstBuffer">GstBuffer</a>*  <a href="gstreamer-GstBuffer.html#gst-buffer-new">gst_buffer_new</a>                  (void);
<a href="gstreamer-GstBuffer.html#GstBuffer">GstBuffer</a>*  <a href="gstreamer-GstBuffer.html#gst-buffer-new-and-alloc">gst_buffer_new_and_alloc</a>        (guint size);
enum        <a href="gstreamer-GstBuffer.html#GstBufferFlag">GstBufferFlag</a>;
#define     <a href="gstreamer-GstBuffer.html#GST-BUFFER-FLAGS-CAPS">GST_BUFFER_FLAGS</a>                (buf)
#define     <a href="gstreamer-GstBuffer.html#GST-BUFFER-FLAG-IS-SET-CAPS">GST_BUFFER_FLAG_IS_SET</a>          (buf,flag)
#define     <a href="gstreamer-GstBuffer.html#GST-BUFFER-FLAG-SET-CAPS">GST_BUFFER_FLAG_SET</a>             (buf,flag)
#define     <a href="gstreamer-GstBuffer.html#GST-BUFFER-FLAG-UNSET-CAPS">GST_BUFFER_FLAG_UNSET</a>           (buf,flag)
#define     <a href="gstreamer-GstBuffer.html#gst-buffer-set-data">gst_buffer_set_data</a>             (buf, data, size)
#define     <a href="gstreamer-GstBuffer.html#GST-BUFFER-DATA-CAPS">GST_BUFFER_DATA</a>                 (buf)
#define     <a href="gstreamer-GstBuffer.html#GST-BUFFER-SIZE-CAPS">GST_BUFFER_SIZE</a>                 (buf)
#define     <a href="gstreamer-GstBuffer.html#GST-BUFFER-MAXSIZE-CAPS">GST_BUFFER_MAXSIZE</a>              (buf)
#define     <a href="gstreamer-GstBuffer.html#GST-BUFFER-TIMESTAMP-CAPS">GST_BUFFER_TIMESTAMP</a>            (buf)
#define     <a href="gstreamer-GstBuffer.html#GST-BUFFER-DURATION-CAPS">GST_BUFFER_DURATION</a>             (buf)
#define     <a href="gstreamer-GstBuffer.html#GST-BUFFER-OFFSET-CAPS">GST_BUFFER_OFFSET</a>               (buf)
#define     <a href="gstreamer-GstBuffer.html#GST-BUFFER-OFFSET-END-CAPS">GST_BUFFER_OFFSET_END</a>           (buf)
#define     <a href="gstreamer-GstBuffer.html#gst-buffer-ref">gst_buffer_ref</a>                  (buf)
#define     <a href="gstreamer-GstBuffer.html#gst-buffer-ref-by-count">gst_buffer_ref_by_count</a>         (buf,c)
#define     <a href="gstreamer-GstBuffer.html#gst-buffer-unref">gst_buffer_unref</a>                (buf)
void        <a href="gstreamer-GstBuffer.html#gst-buffer-stamp">gst_buffer_stamp</a>                (<a href="gstreamer-GstBuffer.html#GstBuffer">GstBuffer</a> *dest,
                                             const <a href="gstreamer-GstBuffer.html#GstBuffer">GstBuffer</a> *src);
#define     <a href="gstreamer-GstBuffer.html#gst-buffer-copy">gst_buffer_copy</a>                 (buf)
#define     <a href="gstreamer-GstBuffer.html#gst-buffer-is-writable">gst_buffer_is_writable</a>          (buf)
#define     <a href="gstreamer-GstBuffer.html#gst-buffer-copy-on-write">gst_buffer_copy_on_write</a>        (buf)
<a href="gstreamer-GstBuffer.html#GstBuffer">GstBuffer</a>*  <a href="gstreamer-GstBuffer.html#gst-buffer-create-sub">gst_buffer_create_sub</a>           (<a href="gstreamer-GstBuffer.html#GstBuffer">GstBuffer</a> *parent,
                                             guint offset,
                                             guint size);
<a href="gstreamer-GstBuffer.html#GstBuffer">GstBuffer</a>*  <a href="gstreamer-GstBuffer.html#gst-buffer-join">gst_buffer_join</a>                 (<a href="gstreamer-GstBuffer.html#GstBuffer">GstBuffer</a> *buf1,
                                             <a href="gstreamer-GstBuffer.html#GstBuffer">GstBuffer</a> *buf2);
<a href="gstreamer-GstBuffer.html#GstBuffer">GstBuffer</a>*  <a href="gstreamer-GstBuffer.html#gst-buffer-merge">gst_buffer_merge</a>                (<a href="gstreamer-GstBuffer.html#GstBuffer">GstBuffer</a> *buf1,
                                             <a href="gstreamer-GstBuffer.html#GstBuffer">GstBuffer</a> *buf2);
<a href="gstreamer-GstBuffer.html#GstBuffer">GstBuffer</a>*  <a href="gstreamer-GstBuffer.html#gst-buffer-span">gst_buffer_span</a>                 (<a href="gstreamer-GstBuffer.html#GstBuffer">GstBuffer</a> *buf1,
                                             guint32 offset,
                                             <a href="gstreamer-GstBuffer.html#GstBuffer">GstBuffer</a> *buf2,
                                             guint32 len);
gboolean    <a href="gstreamer-GstBuffer.html#gst-buffer-is-span-fast">gst_buffer_is_span_fast</a>         (<a href="gstreamer-GstBuffer.html#GstBuffer">GstBuffer</a> *buf1,
                                             <a href="gstreamer-GstBuffer.html#GstBuffer">GstBuffer</a> *buf2);
void        <a href="gstreamer-GstBuffer.html#gst-buffer-default-free">gst_buffer_default_free</a>         (<a href="gstreamer-GstBuffer.html#GstBuffer">GstBuffer</a> *buffer);
<a href="gstreamer-GstBuffer.html#GstBuffer">GstBuffer</a>*  <a href="gstreamer-GstBuffer.html#gst-buffer-default-copy">gst_buffer_default_copy</a>         (<a href="gstreamer-GstBuffer.html#GstBuffer">GstBuffer</a> *buffer);
#define     <a href="gstreamer-GstBuffer.html#GST-BUFFER-TRACE-NAME-CAPS">GST_BUFFER_TRACE_NAME</a>
#define     <a href="gstreamer-GstBuffer.html#GST-BUFFER-REFCOUNT-CAPS">GST_BUFFER_REFCOUNT</a>             (buf)
#define     <a href="gstreamer-GstBuffer.html#GST-BUFFER-REFCOUNT-VALUE-CAPS">GST_BUFFER_REFCOUNT_VALUE</a>       (buf)
#define     <a href="gstreamer-GstBuffer.html#GST-BUFFER-COPY-FUNC-CAPS">GST_BUFFER_COPY_FUNC</a>            (buf)
#define     <a href="gstreamer-GstBuffer.html#GST-BUFFER-FREE-FUNC-CAPS">GST_BUFFER_FREE_FUNC</a>            (buf)
#define     <a href="gstreamer-GstBuffer.html#GST-BUFFER-FREE-DATA-FUNC-CAPS">GST_BUFFER_FREE_DATA_FUNC</a>       (buf)
void        (<a href="gstreamer-GstBuffer.html#GstBufferFreeDataFunc">*GstBufferFreeDataFunc</a>)        (<a href="gstreamer-GstBuffer.html#GstBuffer">GstBuffer</a> *buffer);
#define     <a href="gstreamer-GstBuffer.html#GST-BUFFER-PRIVATE-CAPS">GST_BUFFER_PRIVATE</a>              (buf)
#define     <a href="gstreamer-GstBuffer.html#GST-BUFFER-OFFSET-NONE-CAPS">GST_BUFFER_OFFSET_NONE</a>
#define     <a href="gstreamer-GstBuffer.html#GST-BUFFER-MAXSIZE-NONE-CAPS">GST_BUFFER_MAXSIZE_NONE</a>
#define     <a href="gstreamer-GstBuffer.html#GST-BUFFER-DURATION-IS-VALID-CAPS">GST_BUFFER_DURATION_IS_VALID</a>    (buffer)
#define     <a href="gstreamer-GstBuffer.html#GST-BUFFER-TIMESTAMP-IS-VALID-CAPS">GST_BUFFER_TIMESTAMP_IS_VALID</a>   (buffer)
#define     <a href="gstreamer-GstBuffer.html#GST-BUFFER-OFFSET-IS-VALID-CAPS">GST_BUFFER_OFFSET_IS_VALID</a>      (buffer)
#define     <a href="gstreamer-GstBuffer.html#GST-BUFFER-OFFSET-END-IS-VALID-CAPS">GST_BUFFER_OFFSET_END_IS_VALID</a>  (buffer)
#define     <a href="gstreamer-GstBuffer.html#GST-BUFFER-MAXSIZE-IS-VALID-CAPS">GST_BUFFER_MAXSIZE_IS_VALID</a>     (buffer)


</pre></div><div class="refsect1" lang="en"><a name="id2557475"></a><h2>Description</h2><p>
Buffers are the basic unit of data transfer in GStreamer.  The GstBuffer type
provides all the state necessary to define a region of memory as part of a
stream.  Sub-buffers are also supported, allowing a smaller region of a
buffer to become its own buffer, with mechanisms in place to ensure that
neither memory space goes away. 
</p><p>
Buffers are usually created with <a href="gstreamer-GstBuffer.html#gst-buffer-new"><tt class="function">gst_buffer_new()</tt></a>. After a buffer has been 
created one will typically allocate memory for it and set the size of the 
buffer data.  The following example creates a buffer that can hold a given
video frame with a given width, height and bits per plane.
</p><div class="example"><a name="id2557506"></a><p class="title"><b>Example 3. Creating a buffer for a video frame</b></p><pre class="programlisting">
  GstBuffer *buffer;
  gint size, width, height, bpp;

  ...

  size = width * height * bpp;

  buffer = <a href="gstreamer-GstBuffer.html#gst-buffer-new"><tt class="function">gst_buffer_new()</tt></a>;
  GST_BUFFER_SIZE (buffer) = size;
  GST_BUFFER_DATA (buffer) = g_alloc (size);
  ...
  </pre></div><p>
</p><p>
Alternatively, use <a href="gstreamer-GstBuffer.html#gst-buffer-new-and-alloc"><tt class="function">gst_buffer_new_and_alloc()</tt></a> 
to create a buffer with preallocated data of a given size.
</p><p>
If an element knows what pad you will push the buffer out on, it should use
<a href="GstPad.html#gst-pad-alloc-buffer"><tt class="function">gst_pad_alloc_buffer()</tt></a> instead to create a buffer.  This allows downstream
elements to provide special buffers to write in, like hardware buffers.
</p><p>
<a href="gstreamer-GstBuffer.html#gst-buffer-ref"><tt class="function">gst_buffer_ref()</tt></a> is used to increase the refcount of a buffer. This must be
done when you want to keep a handle to the buffer after pushing it to the
next element.
</p><p>
To efficiently create a smaller buffer out of an existing one, you can
use <a href="gstreamer-GstBuffer.html#gst-buffer-create-sub"><tt class="function">gst_buffer_create_sub()</tt></a>.
</p><p>
If the plug-in wants to modify the buffer in-place, it should first obtain
a buffer that is safe to modify by using <a href="gstreamer-GstBuffer.html#gst-buffer-copy-on-write"><tt class="function">gst_buffer_copy_on_write()</tt></a>.  This
function is optimized so that a copy will only be made when it is necessary.
</p><p>
Several flags of the buffer can be set and unset with the <a href="gstreamer-GstBuffer.html#GST-BUFFER-FLAG-SET-CAPS"><tt class="function">GST_BUFFER_FLAG_SET()</tt></a>
and <a href="gstreamer-GstBuffer.html#GST-BUFFER-FLAG-UNSET-CAPS"><tt class="function">GST_BUFFER_FLAG_UNSET()</tt></a> macros. Use <a href="gstreamer-GstBuffer.html#GST-BUFFER-FLAG-IS-SET-CAPS"><tt class="function">GST_BUFFER_FLAG_IS_SET()</tt></a> to test it
a certain <a href="gstreamer-GstBuffer.html#GstBufferFlag"><span class="type">GstBufferFlag</span></a> is set.
</p><p>
Buffers can be efficiently merged into a larger buffer with <a href="gstreamer-GstBuffer.html#gst-buffer-merge"><tt class="function">gst_buffer_merge()</tt></a> and
<a href="gstreamer-GstBuffer.html#gst-buffer-span"><tt class="function">gst_buffer_span()</tt></a> if the <a href="gstreamer-GstBuffer.html#gst-buffer-is-span-fast"><tt class="function">gst_buffer_is_span_fast()</tt></a> function returns TRUE.
</p><p>
An element should either unref the buffer or push it out on a src pad
using <a href="GstPad.html#gst-pad-push"><tt class="function">gst_pad_push()</tt></a> (see <a href="GstPad.html" title="GstPad"><span class="type">GstPad</span></a>).

Buffers usually are freed by unreffing them with <a href="gstreamer-GstBuffer.html#gst-buffer-unref"><tt class="function">gst_buffer_unref()</tt></a>.
Do not use <tt class="function">gst_buffer_free()</tt> : this function effectively frees the buffer
regardless of the refcount, which is dangerous.
</p><p>
Last reviewed on August 12th, 2004 (0.8.5)
</p></div><div class="refsect1" lang="en"><a name="id2557757"></a><h2>Details</h2><div class="refsect2" lang="en"><a name="id2557762"></a><h3><a name="GstBuffer"></a>struct GstBuffer</h3><a class="indexterm" name="id2557773"></a><pre class="programlisting">struct GstBuffer {

  GstData		 data_type;

  /* pointer to data and its size */
  guint8		*data;			/* pointer to buffer data */
  guint			 size;			/* size of buffer data */
  guint			 maxsize;		/* max size of this buffer */

  /* timestamp */
  GstClockTime		 timestamp;
  GstClockTime		 duration;

  /* media specific offset
   * for video frames, this could be the number of frames,
   * for audio data, this could be the number of audio samples,
   * for file data or compressed data, this could be the number of bytes
   * offset_end is the last offset contained in the buffer. The format specifies
   * the meaning of both of them exactly.
   */
  guint64		 offset;
  guint64		 offset_end;

  GstBufferFreeDataFunc  free_data;
  gpointer		 buffer_private;

  gpointer _gst_reserved[GST_PADDING];
};
</pre><p>
The basic structure of a buffer.
</p></div><hr><div class="refsect2" lang="en"><a name="id2557801"></a><h3><a name="gst-buffer-new"></a>gst_buffer_new ()</h3><a class="indexterm" name="id2557812"></a><pre class="programlisting"><a href="gstreamer-GstBuffer.html#GstBuffer">GstBuffer</a>*  gst_buffer_new                  (void);</pre><p>
Creates a newly allocated buffer without any data.</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> the new <a href="gstreamer-GstBuffer.html#GstBuffer"><span class="type">GstBuffer</span></a>.
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2557859"></a><h3><a name="gst-buffer-new-and-alloc"></a>gst_buffer_new_and_alloc ()</h3><a class="indexterm" name="id2557870"></a><pre class="programlisting"><a href="gstreamer-GstBuffer.html#GstBuffer">GstBuffer</a>*  gst_buffer_new_and_alloc        (guint size);</pre><p>
Creates a newly allocated buffer with data of the given size.</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>size</tt></i> :</span></td><td> the size of the new buffer's data.
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> the new <a href="gstreamer-GstBuffer.html#GstBuffer"><span class="type">GstBuffer</span></a>.
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2557939"></a><h3><a name="GstBufferFlag"></a>enum GstBufferFlag</h3><a class="indexterm" name="id2557950"></a><pre class="programlisting">typedef enum {
  GST_BUFFER_READONLY   = GST_DATA_READONLY,
  GST_BUFFER_SUBBUFFER  = GST_DATA_FLAG_LAST,
  GST_BUFFER_ORIGINAL,
  GST_BUFFER_DONTFREE,
  GST_BUFFER_KEY_UNIT,		/* deprecated, use reverse DELTA_UNIT */
  GST_BUFFER_DONTKEEP,    /* FIXME: is this deprecated ? there is no reference in gstreamer, gst-plugins */
  GST_BUFFER_IN_CAPS,
  GST_BUFFER_DELTA_UNIT,	/* this unit depends on a previous unit */
  GST_BUFFER_FLAG_LAST	= GST_DATA_FLAG_LAST + 8
} GstBufferFlag;
</pre><p>
A set of buffer flags used to describe properties of a <a href="gstreamer-GstBuffer.html#GstBuffer"><span class="type">GstBuffer</span></a>.</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><tt class="literal">GST_BUFFER_READONLY</tt></span></td><td> the buffer is read-only.
</td></tr><tr><td><span class="term"><tt class="literal">GST_BUFFER_SUBBUFFER</tt></span></td><td> the buffer is a subbuffer, the parent buffer can be
found with the <tt class="function">GST_BUFFER_POOL_PRIVATE()</tt> macro.
</td></tr><tr><td><span class="term"><tt class="literal">GST_BUFFER_ORIGINAL</tt></span></td><td> buffer is not a copy of another buffer.
</td></tr><tr><td><span class="term"><tt class="literal">GST_BUFFER_DONTFREE</tt></span></td><td> do not try to free the data when this buffer is
unreferenced.
</td></tr><tr><td><span class="term"><tt class="literal">GST_BUFFER_KEY_UNIT</tt></span></td><td> the buffer holds a key unit, a unit that can be
decoded independently of other buffers.
This flag has been deprecated, see <span class="type">GST_BUFFER_DELTA_UNIT</span>.
</td></tr><tr><td><span class="term"><tt class="literal">GST_BUFFER_DONTKEEP</tt></span></td><td> the buffer should not be <tt class="function">ref()</tt>ed, but copied instead
before doing anything with it (for specially allocated hw buffers and such)
</td></tr><tr><td><span class="term"><tt class="literal">GST_BUFFER_IN_CAPS</tt></span></td><td> the buffer has been added as a field in a <a href="gstreamer-GstCaps.html#GstCaps"><span class="type">GstCaps</span></a>.
</td></tr><tr><td><span class="term"><tt class="literal">GST_BUFFER_DELTA_UNIT</tt></span></td><td> this unit cannot be decoded independently.
Since 0.8.5
</td></tr><tr><td><span class="term"><tt class="literal">GST_BUFFER_FLAG_LAST</tt></span></td><td> additional flags can be added starting from this flag.
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2558173"></a><h3><a name="GST-BUFFER-FLAGS-CAPS"></a>GST_BUFFER_FLAGS()</h3><a class="indexterm" name="id2558184"></a><pre class="programlisting">#define GST_BUFFER_FLAGS(buf)                   GST_DATA_FLAGS(buf)
</pre><p>
Gets the flags from this buffer.
</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>buf</tt></i> :</span></td><td>a <a href="gstreamer-GstBuffer.html#GstBuffer"><span class="type">GstBuffer</span></a> to retrieve the flags from.


</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2558226"></a><h3><a name="GST-BUFFER-FLAG-IS-SET-CAPS"></a>GST_BUFFER_FLAG_IS_SET()</h3><a class="indexterm" name="id2558237"></a><pre class="programlisting">#define GST_BUFFER_FLAG_IS_SET(buf,flag)        GST_DATA_FLAG_IS_SET (buf, flag)
</pre><p>
Gives the status of a given flag of a buffer.
</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>buf</tt></i> :</span></td><td>a <a href="gstreamer-GstBuffer.html#GstBuffer"><span class="type">GstBuffer</span></a> to query flags of.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>flag</tt></i> :</span></td><td>the <a href="gstreamer-GstBuffer.html#GstBufferFlag"><span class="type">GstBufferFlag</span></a> to check.


</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2558302"></a><h3><a name="GST-BUFFER-FLAG-SET-CAPS"></a>GST_BUFFER_FLAG_SET()</h3><a class="indexterm" name="id2558313"></a><pre class="programlisting">#define GST_BUFFER_FLAG_SET(buf,flag)           GST_DATA_FLAG_SET (buf, flag)
</pre><p>
Sets a buffer flag.
</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>buf</tt></i> :</span></td><td>a <a href="gstreamer-GstBuffer.html#GstBuffer"><span class="type">GstBuffer</span></a> to modify flags of.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>flag</tt></i> :</span></td><td>the <a href="gstreamer-GstBuffer.html#GstBufferFlag"><span class="type">GstBufferFlag</span></a> to set.


</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2558378"></a><h3><a name="GST-BUFFER-FLAG-UNSET-CAPS"></a>GST_BUFFER_FLAG_UNSET()</h3><a class="indexterm" name="id2558389"></a><pre class="programlisting">#define GST_BUFFER_FLAG_UNSET(buf,flag)         GST_DATA_FLAG_UNSET (buf, flag)
</pre><p>
Clears a buffer flag.
</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>buf</tt></i> :</span></td><td>a <a href="gstreamer-GstBuffer.html#GstBuffer"><span class="type">GstBuffer</span></a> to modify flags of.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>flag</tt></i> :</span></td><td>the <a href="gstreamer-GstBuffer.html#GstBufferFlag"><span class="type">GstBufferFlag</span></a> to clear.


</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2558454"></a><h3><a name="gst-buffer-set-data"></a>gst_buffer_set_data()</h3><a class="indexterm" name="id2558465"></a><pre class="programlisting">#define     gst_buffer_set_data(buf, data, size)</pre><p>
A convenience function to set the data and size on a buffer
</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>buf</tt></i> :</span></td><td>The buffer to modify
</td></tr><tr><td><span class="term"><i class="parameter"><tt>data</tt></i> :</span></td><td>The data to set on the buffer
</td></tr><tr><td><span class="term"><i class="parameter"><tt>size</tt></i> :</span></td><td>The size to set on the buffer


</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2558528"></a><h3><a name="GST-BUFFER-DATA-CAPS"></a>GST_BUFFER_DATA()</h3><a class="indexterm" name="id2558540"></a><pre class="programlisting">#define GST_BUFFER_DATA(buf)			(GST_BUFFER(buf)-&gt;data)
</pre><p>
Retrieves a pointer to the data element of this buffer.
</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>buf</tt></i> :</span></td><td>a <a href="gstreamer-GstBuffer.html#GstBuffer"><span class="type">GstBuffer</span></a> to get data pointer of.
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td>the pointer to the actual data contents of the buffer.


</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2558594"></a><h3><a name="GST-BUFFER-SIZE-CAPS"></a>GST_BUFFER_SIZE()</h3><a class="indexterm" name="id2558605"></a><pre class="programlisting">#define GST_BUFFER_SIZE(buf)			(GST_BUFFER(buf)-&gt;size)
</pre><p>
Gets the size of the data in this buffer.
</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>buf</tt></i> :</span></td><td>a <a href="gstreamer-GstBuffer.html#GstBuffer"><span class="type">GstBuffer</span></a> to get data size of.


</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2558648"></a><h3><a name="GST-BUFFER-MAXSIZE-CAPS"></a>GST_BUFFER_MAXSIZE()</h3><a class="indexterm" name="id2558659"></a><pre class="programlisting">#define GST_BUFFER_MAXSIZE(buf)			(GST_BUFFER(buf)-&gt;maxsize)
</pre><p>
Gets the maximum size of this buffer.
</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>buf</tt></i> :</span></td><td>a <a href="gstreamer-GstBuffer.html#GstBuffer"><span class="type">GstBuffer</span></a> to get maximum size of.


</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2558702"></a><h3><a name="GST-BUFFER-TIMESTAMP-CAPS"></a>GST_BUFFER_TIMESTAMP()</h3><a class="indexterm" name="id2558713"></a><pre class="programlisting">#define GST_BUFFER_TIMESTAMP(buf)		(GST_BUFFER(buf)-&gt;timestamp)
</pre><p>
Gets the timestamp for this buffer.
</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>buf</tt></i> :</span></td><td>a <a href="gstreamer-GstBuffer.html#GstBuffer"><span class="type">GstBuffer</span></a> to get timestamp of.


</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2558756"></a><h3><a name="GST-BUFFER-DURATION-CAPS"></a>GST_BUFFER_DURATION()</h3><a class="indexterm" name="id2558767"></a><pre class="programlisting">#define GST_BUFFER_DURATION(buf)		(GST_BUFFER(buf)-&gt;duration)
</pre><p>
Gets the duration in nanoseconds of the data in the buffer.
Value will be GST_CLOCK_TIME_NONE if the duration is unknown.
</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>buf</tt></i> :</span></td><td>a <a href="gstreamer-GstBuffer.html#GstBuffer"><span class="type">GstBuffer</span></a> to get the duration from.


</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2558812"></a><h3><a name="GST-BUFFER-OFFSET-CAPS"></a>GST_BUFFER_OFFSET()</h3><a class="indexterm" name="id2558823"></a><pre class="programlisting">#define GST_BUFFER_OFFSET(buf)			(GST_BUFFER(buf)-&gt;offset)
</pre><p>
Gets the offset in the source file of the beinning of this buffer.
</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>buf</tt></i> :</span></td><td>a <a href="gstreamer-GstBuffer.html#GstBuffer"><span class="type">GstBuffer</span></a> to get offset of.


</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2558867"></a><h3><a name="GST-BUFFER-OFFSET-END-CAPS"></a>GST_BUFFER_OFFSET_END()</h3><a class="indexterm" name="id2558878"></a><pre class="programlisting">#define GST_BUFFER_OFFSET_END(buf)		(GST_BUFFER(buf)-&gt;offset_end)
</pre><p>
Gets the offset in the source file of the end of this buffer.
</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>buf</tt></i> :</span></td><td>a <a href="gstreamer-GstBuffer.html#GstBuffer"><span class="type">GstBuffer</span></a> to get offset of.


</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2558922"></a><h3><a name="gst-buffer-ref"></a>gst_buffer_ref()</h3><a class="indexterm" name="id2558933"></a><pre class="programlisting">#define		gst_buffer_ref(buf)		GST_BUFFER (gst_data_ref (GST_DATA (buf)))
</pre><p>
Increases the refcount of the given buffer by one.
</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>buf</tt></i> :</span></td><td>a <a href="gstreamer-GstBuffer.html#GstBuffer"><span class="type">GstBuffer</span></a> to increase the refcount of.


</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2558976"></a><h3><a name="gst-buffer-ref-by-count"></a>gst_buffer_ref_by_count()</h3><a class="indexterm" name="id2558987"></a><pre class="programlisting">#define		gst_buffer_ref_by_count(buf,c)	GST_BUFFER (gst_data_ref_by_count (GST_DATA (buf), c))
</pre><p>
Increases the refcount of the buffer by the given value. 
</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>buf</tt></i> :</span></td><td>a <a href="gstreamer-GstBuffer.html#GstBuffer"><span class="type">GstBuffer</span></a> to increase the refcount of.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>c</tt></i> :</span></td><td>the value to add to the refcount.


</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2559045"></a><h3><a name="gst-buffer-unref"></a>gst_buffer_unref()</h3><a class="indexterm" name="id2559055"></a><pre class="programlisting">#define		gst_buffer_unref(buf)		gst_data_unref (GST_DATA (buf))
</pre><p>
Decreases the refcount of the buffer. If the refcount reaches 0, the buffer
will be freed.
</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>buf</tt></i> :</span></td><td>a <a href="gstreamer-GstBuffer.html#GstBuffer"><span class="type">GstBuffer</span></a> to unref.


</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2559099"></a><h3><a name="gst-buffer-stamp"></a>gst_buffer_stamp ()</h3><a class="indexterm" name="id2559109"></a><pre class="programlisting">void        gst_buffer_stamp                (<a href="gstreamer-GstBuffer.html#GstBuffer">GstBuffer</a> *dest,
                                             const <a href="gstreamer-GstBuffer.html#GstBuffer">GstBuffer</a> *src);</pre><p>
Copies additional information (timestamps and offsets) from one buffer to
the other.</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>dest</tt></i> :</span></td><td> buffer to stamp
</td></tr><tr><td><span class="term"><i class="parameter"><tt>src</tt></i> :</span></td><td> buffer to stamp from
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2559182"></a><h3><a name="gst-buffer-copy"></a>gst_buffer_copy()</h3><a class="indexterm" name="id2559193"></a><pre class="programlisting">#define		gst_buffer_copy(buf)		GST_BUFFER (gst_data_copy (GST_DATA (buf)))
</pre><p>
Copies the given buffer using the copy function of the parent GstData structure.
</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>buf</tt></i> :</span></td><td>a <a href="gstreamer-GstBuffer.html#GstBuffer"><span class="type">GstBuffer</span></a> to copy.
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td>a new <a href="gstreamer-GstBuffer.html#GstBuffer"><span class="type">GstBuffer</span></a> copy of the buffer.


</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2559254"></a><h3><a name="gst-buffer-is-writable"></a>gst_buffer_is_writable()</h3><a class="indexterm" name="id2559265"></a><pre class="programlisting">#define		gst_buffer_is_writable(buf)	gst_data_is_writable (GST_DATA (buf))
</pre><p>
Tests if you can safely write data into a buffer's data array.
</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>buf</tt></i> :</span></td><td>a <a href="gstreamer-GstBuffer.html#GstBuffer"><span class="type">GstBuffer</span></a> to check


</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2559308"></a><h3><a name="gst-buffer-copy-on-write"></a>gst_buffer_copy_on_write()</h3><a class="indexterm" name="id2559319"></a><pre class="programlisting">#define		gst_buffer_copy_on_write(buf)   GST_BUFFER (gst_data_copy_on_write (GST_DATA (buf)))
</pre><p>
This function returns a buffer that is safe to write to.
Copy the buffer if the refcount &gt; 1 so that the newly 
created buffer can be safely written to. 
If the refcount is 1, this function just returns the original buffer.
</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>buf</tt></i> :</span></td><td>a <a href="gstreamer-GstBuffer.html#GstBuffer"><span class="type">GstBuffer</span></a> to copy
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td>the <a href="gstreamer-GstBuffer.html#GstBuffer"><span class="type">GstBuffer</span></a> that can safely be written to.


</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2559384"></a><h3><a name="gst-buffer-create-sub"></a>gst_buffer_create_sub ()</h3><a class="indexterm" name="id2559395"></a><pre class="programlisting"><a href="gstreamer-GstBuffer.html#GstBuffer">GstBuffer</a>*  gst_buffer_create_sub           (<a href="gstreamer-GstBuffer.html#GstBuffer">GstBuffer</a> *parent,
                                             guint offset,
                                             guint size);</pre><p>
Creates a sub-buffer from the parent at a given offset.
This sub-buffer uses the actual memory space of the parent buffer.
This function will copy the offset and timestamp field when the 
offset is 0, else they are set to _NONE.
The duration field of the new buffer are set to GST_CLOCK_TIME_NONE.</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>parent</tt></i> :</span></td><td> a parent <a href="gstreamer-GstBuffer.html#GstBuffer"><span class="type">GstBuffer</span></a> to create a subbuffer from.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>offset</tt></i> :</span></td><td> the offset into parent <a href="gstreamer-GstBuffer.html#GstBuffer"><span class="type">GstBuffer</span></a>.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>size</tt></i> :</span></td><td> the size of the new <a href="gstreamer-GstBuffer.html#GstBuffer"><span class="type">GstBuffer</span></a> sub-buffer (with size &gt; 0).
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> the new <a href="gstreamer-GstBuffer.html#GstBuffer"><span class="type">GstBuffer</span></a>, or NULL if there was an error.
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2559537"></a><h3><a name="gst-buffer-join"></a>gst_buffer_join ()</h3><a class="indexterm" name="id2559548"></a><pre class="programlisting"><a href="gstreamer-GstBuffer.html#GstBuffer">GstBuffer</a>*  gst_buffer_join                 (<a href="gstreamer-GstBuffer.html#GstBuffer">GstBuffer</a> *buf1,
                                             <a href="gstreamer-GstBuffer.html#GstBuffer">GstBuffer</a> *buf2);</pre><p>
Create a new buffer that is the concatenation of the two source
buffers.  The original buffers are unreferenced.
</p><p>
If the buffers point to contiguous areas of memory, the buffer
is created without copying the data.</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>buf1</tt></i> :</span></td><td> a first source <a href="gstreamer-GstBuffer.html#GstBuffer"><span class="type">GstBuffer</span></a> to merge.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>buf2</tt></i> :</span></td><td> the second source <a href="gstreamer-GstBuffer.html#GstBuffer"><span class="type">GstBuffer</span></a> to merge.
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> the new <a href="gstreamer-GstBuffer.html#GstBuffer"><span class="type">GstBuffer</span></a> that's the concatenation of the source buffers.
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2559661"></a><h3><a name="gst-buffer-merge"></a>gst_buffer_merge ()</h3><a class="indexterm" name="id2559672"></a><pre class="programlisting"><a href="gstreamer-GstBuffer.html#GstBuffer">GstBuffer</a>*  gst_buffer_merge                (<a href="gstreamer-GstBuffer.html#GstBuffer">GstBuffer</a> *buf1,
                                             <a href="gstreamer-GstBuffer.html#GstBuffer">GstBuffer</a> *buf2);</pre><p>
Create a new buffer that is the concatenation of the two source
buffers.  The original source buffers will not be modified or
unref'd.
</p><p>
WARNING: Incorrect use of this function can lead to memory leaks.
It is recommended to use <a href="gstreamer-GstBuffer.html#gst-buffer-join"><tt class="function">gst_buffer_join()</tt></a> instead of this function.
</p><p>
If the buffers point to contiguous areas of memory, the buffer
is created without copying the data.</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>buf1</tt></i> :</span></td><td> a first source <a href="gstreamer-GstBuffer.html#GstBuffer"><span class="type">GstBuffer</span></a> to merge.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>buf2</tt></i> :</span></td><td> the second source <a href="gstreamer-GstBuffer.html#GstBuffer"><span class="type">GstBuffer</span></a> to merge.
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> the new <a href="gstreamer-GstBuffer.html#GstBuffer"><span class="type">GstBuffer</span></a> that's the concatenation of the source buffers.
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2559801"></a><h3><a name="gst-buffer-span"></a>gst_buffer_span ()</h3><a class="indexterm" name="id2559812"></a><pre class="programlisting"><a href="gstreamer-GstBuffer.html#GstBuffer">GstBuffer</a>*  gst_buffer_span                 (<a href="gstreamer-GstBuffer.html#GstBuffer">GstBuffer</a> *buf1,
                                             guint32 offset,
                                             <a href="gstreamer-GstBuffer.html#GstBuffer">GstBuffer</a> *buf2,
                                             guint32 len);</pre><p>
Creates a new buffer that consists of part of buf1 and buf2.
Logically, buf1 and buf2 are concatenated into a single larger
buffer, and a new buffer is created at the given offset inside
this space, with a given length.
</p><p>
If the two source buffers are children of the same larger buffer,
and are contiguous, the new buffer will be a child of the shared
parent, and thus no copying is necessary. you can use 
<a href="gstreamer-GstBuffer.html#gst-buffer-is-span-fast"><tt class="function">gst_buffer_is_span_fast()</tt></a> to determine if a memcpy will be needed.</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>buf1</tt></i> :</span></td><td> a first source <a href="gstreamer-GstBuffer.html#GstBuffer"><span class="type">GstBuffer</span></a> to merge.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>offset</tt></i> :</span></td><td> the offset in the first buffer from where the new
buffer should start.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>buf2</tt></i> :</span></td><td> the second source <a href="gstreamer-GstBuffer.html#GstBuffer"><span class="type">GstBuffer</span></a> to merge.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>len</tt></i> :</span></td><td> the total length of the new buffer.
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> the new <a href="gstreamer-GstBuffer.html#GstBuffer"><span class="type">GstBuffer</span></a> that spans the two source buffers.
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2559984"></a><h3><a name="gst-buffer-is-span-fast"></a>gst_buffer_is_span_fast ()</h3><a class="indexterm" name="id2559995"></a><pre class="programlisting">gboolean    gst_buffer_is_span_fast         (<a href="gstreamer-GstBuffer.html#GstBuffer">GstBuffer</a> *buf1,
                                             <a href="gstreamer-GstBuffer.html#GstBuffer">GstBuffer</a> *buf2);</pre><p>
Determines whether a <a href="gstreamer-GstBuffer.html#gst-buffer-span"><tt class="function">gst_buffer_span()</tt></a> can be done without copying
the contents, that is, whether the data areas are contiguous.</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>buf1</tt></i> :</span></td><td> a first source <a href="gstreamer-GstBuffer.html#GstBuffer"><span class="type">GstBuffer</span></a>.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>buf2</tt></i> :</span></td><td> the second source <a href="gstreamer-GstBuffer.html#GstBuffer"><span class="type">GstBuffer</span></a>.
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> TRUE if the buffers are contiguous, 
FALSE if a copy would be required.
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2560105"></a><h3><a name="gst-buffer-default-free"></a>gst_buffer_default_free ()</h3><a class="indexterm" name="id2560116"></a><pre class="programlisting">void        gst_buffer_default_free         (<a href="gstreamer-GstBuffer.html#GstBuffer">GstBuffer</a> *buffer);</pre><p>
Frees the memory associated with the buffer including the buffer data,
unless the GST_BUFFER_DONTFREE flags was set or the buffer data is NULL.</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>buffer</tt></i> :</span></td><td> a <a href="gstreamer-GstBuffer.html#GstBuffer"><span class="type">GstBuffer</span></a> to free.
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2560176"></a><h3><a name="gst-buffer-default-copy"></a>gst_buffer_default_copy ()</h3><a class="indexterm" name="id2560187"></a><pre class="programlisting"><a href="gstreamer-GstBuffer.html#GstBuffer">GstBuffer</a>*  gst_buffer_default_copy         (<a href="gstreamer-GstBuffer.html#GstBuffer">GstBuffer</a> *buffer);</pre><p>
Make a full newly allocated copy of the given buffer, data and all.</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>buffer</tt></i> :</span></td><td> a <a href="gstreamer-GstBuffer.html#GstBuffer"><span class="type">GstBuffer</span></a> to make a copy of.
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> the new <a href="gstreamer-GstBuffer.html#GstBuffer"><span class="type">GstBuffer</span></a>.
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2560264"></a><h3><a name="GST-BUFFER-TRACE-NAME-CAPS"></a>GST_BUFFER_TRACE_NAME</h3><a class="indexterm" name="id2560275"></a><pre class="programlisting">#define GST_BUFFER_TRACE_NAME		"GstBuffer"
</pre><p>
The name used for tracing memory allocations
</p></div><hr><div class="refsect2" lang="en"><a name="id2560292"></a><h3><a name="GST-BUFFER-REFCOUNT-CAPS"></a>GST_BUFFER_REFCOUNT()</h3><a class="indexterm" name="id2560304"></a><pre class="programlisting">#define GST_BUFFER_REFCOUNT(buf)		GST_DATA_REFCOUNT(buf)
</pre><p>
Gets a handle to the refcount structure of the buffer.
</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>buf</tt></i> :</span></td><td>a <a href="gstreamer-GstBuffer.html#GstBuffer"><span class="type">GstBuffer</span></a> to get the refcount structure of.


</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2560346"></a><h3><a name="GST-BUFFER-REFCOUNT-VALUE-CAPS"></a>GST_BUFFER_REFCOUNT_VALUE()</h3><a class="indexterm" name="id2560359"></a><pre class="programlisting">#define GST_BUFFER_REFCOUNT_VALUE(buf)		GST_DATA_REFCOUNT_VALUE(buf)
</pre><p>
Gets the current refcount value of the buffer.
</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>buf</tt></i> :</span></td><td>a <a href="gstreamer-GstBuffer.html#GstBuffer"><span class="type">GstBuffer</span></a> to get the refcount value of.


</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2560401"></a><h3><a name="GST-BUFFER-COPY-FUNC-CAPS"></a>GST_BUFFER_COPY_FUNC()</h3><a class="indexterm" name="id2560412"></a><pre class="programlisting">#define GST_BUFFER_COPY_FUNC(buf)		GST_DATA_COPY_FUNC(buf)
</pre><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Warning</h3><p><tt class="literal">GST_BUFFER_COPY_FUNC</tt> is deprecated and should not be used in newly-written code.</p></div><p>
Calls the buffer-specific copy function on the given buffer.
</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>buf</tt></i> :</span></td><td>a <a href="gstreamer-GstBuffer.html#GstBuffer"><span class="type">GstBuffer</span></a> to copy.


</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2560465"></a><h3><a name="GST-BUFFER-FREE-FUNC-CAPS"></a>GST_BUFFER_FREE_FUNC()</h3><a class="indexterm" name="id2560476"></a><pre class="programlisting">#define GST_BUFFER_FREE_FUNC(buf)		GST_DATA_FREE_FUNC(buf)
</pre><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Warning</h3><p><tt class="literal">GST_BUFFER_FREE_FUNC</tt> is deprecated and should not be used in newly-written code.</p></div><p>
Calls the buffer-specific free function on the given buffer.
</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>buf</tt></i> :</span></td><td>a <a href="gstreamer-GstBuffer.html#GstBuffer"><span class="type">GstBuffer</span></a> to free.


</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2560530"></a><h3><a name="GST-BUFFER-FREE-DATA-FUNC-CAPS"></a>GST_BUFFER_FREE_DATA_FUNC()</h3><a class="indexterm" name="id2560542"></a><pre class="programlisting">#define GST_BUFFER_FREE_DATA_FUNC(buf)          (GST_BUFFER(buf)-&gt;free_data)
</pre><p>
A function that should be called if the buffer has no more references left.
Elements that utilize hardware memory could use this to re-queue
the buffer after it's been unreferenced. If no free_data_func has been
provided, the default will be used which simply deallocates the memory
region and the GstBuffer object. Manual implementations that want to
free their own memory but don't do anything special otherwise are
suggested to set the GST_BUFFER_DONTFREE flag on the buffer and call the
default data free function (<a href="gstreamer-GstBuffer.html#gst-buffer-default-free"><tt class="function">gst_buffer_default_free()</tt></a>) from their manual
implementation.
</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>buf</tt></i> :</span></td><td>the <a href="gstreamer-GstBuffer.html#GstBuffer"><span class="type">GstBuffer</span></a> this function belongs to


</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2560605"></a><h3><a name="GstBufferFreeDataFunc"></a>GstBufferFreeDataFunc ()</h3><a class="indexterm" name="id2560617"></a><pre class="programlisting">void        (*GstBufferFreeDataFunc)        (<a href="gstreamer-GstBuffer.html#GstBuffer">GstBuffer</a> *buffer);</pre><p>
the type for the GST_BUFFER_FREE_DATA_FUNC
</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>buffer</tt></i> :</span></td><td>the <a href="gstreamer-GstBuffer.html#GstBuffer"><span class="type">GstBuffer</span></a> on which it will operate, when called


</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2560672"></a><h3><a name="GST-BUFFER-PRIVATE-CAPS"></a>GST_BUFFER_PRIVATE()</h3><a class="indexterm" name="id2560683"></a><pre class="programlisting">#define GST_BUFFER_PRIVATE(buf)                 (GST_BUFFER(buf)-&gt;buffer_private)
</pre><p>
Private data for the buffer. This can be used to store a pointer to the
object that can then be retrieved in something like the BUFFER_FREE_DATA_FUNC.
</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>buf</tt></i> :</span></td><td>the <a href="gstreamer-GstBuffer.html#GstBuffer"><span class="type">GstBuffer</span></a> this data belongs to


</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2560729"></a><h3><a name="GST-BUFFER-OFFSET-NONE-CAPS"></a>GST_BUFFER_OFFSET_NONE</h3><a class="indexterm" name="id2560740"></a><pre class="programlisting">#define GST_BUFFER_OFFSET_NONE	((guint64)-1)
</pre><p>

</p></div><hr><div class="refsect2" lang="en"><a name="id2560756"></a><h3><a name="GST-BUFFER-MAXSIZE-NONE-CAPS"></a>GST_BUFFER_MAXSIZE_NONE</h3><a class="indexterm" name="id2560769"></a><pre class="programlisting">#define GST_BUFFER_MAXSIZE_NONE	((guint)0)
</pre><p>

</p></div><hr><div class="refsect2" lang="en"><a name="id2560784"></a><h3><a name="GST-BUFFER-DURATION-IS-VALID-CAPS"></a>GST_BUFFER_DURATION_IS_VALID()</h3><a class="indexterm" name="id2560795"></a><pre class="programlisting">#define GST_BUFFER_DURATION_IS_VALID(buffer)	(GST_CLOCK_TIME_IS_VALID (GST_BUFFER_DURATION (buffer)))
</pre><p>
Tests if the duration is known.
</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>buffer</tt></i> :</span></td><td>the <a href="gstreamer-GstBuffer.html#GstBuffer"><span class="type">GstBuffer</span></a> to check for the duration


</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2560839"></a><h3><a name="GST-BUFFER-TIMESTAMP-IS-VALID-CAPS"></a>GST_BUFFER_TIMESTAMP_IS_VALID()</h3><a class="indexterm" name="id2560851"></a><pre class="programlisting">#define GST_BUFFER_TIMESTAMP_IS_VALID(buffer)	(GST_CLOCK_TIME_IS_VALID (GST_BUFFER_TIMESTAMP (buffer)))
</pre><p>
Tests if the timestamp is known.
</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>buffer</tt></i> :</span></td><td>the <a href="gstreamer-GstBuffer.html#GstBuffer"><span class="type">GstBuffer</span></a> to check for the timestamp


</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2560895"></a><h3><a name="GST-BUFFER-OFFSET-IS-VALID-CAPS"></a>GST_BUFFER_OFFSET_IS_VALID()</h3><a class="indexterm" name="id2560907"></a><pre class="programlisting">#define GST_BUFFER_OFFSET_IS_VALID(buffer)	(GST_BUFFER_OFFSET (buffer) != GST_BUFFER_OFFSET_NONE)
</pre><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>buffer</tt></i> :</span></td><td>


</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2560941"></a><h3><a name="GST-BUFFER-OFFSET-END-IS-VALID-CAPS"></a>GST_BUFFER_OFFSET_END_IS_VALID()</h3><a class="indexterm" name="id2560954"></a><pre class="programlisting">#define GST_BUFFER_OFFSET_END_IS_VALID(buffer)	(GST_BUFFER_OFFSET_END (buffer) != GST_BUFFER_OFFSET_NONE)
</pre><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>buffer</tt></i> :</span></td><td>


</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2560988"></a><h3><a name="GST-BUFFER-MAXSIZE-IS-VALID-CAPS"></a>GST_BUFFER_MAXSIZE_IS_VALID()</h3><a class="indexterm" name="id2561000"></a><pre class="programlisting">#define GST_BUFFER_MAXSIZE_IS_VALID(buffer)	(GST_BUFFER_MAXSIZE (buffer) != GST_BUFFER_MAXSIZE_NONE)
</pre><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>buffer</tt></i> :</span></td><td>


</td></tr></tbody></table></div></div></div><div class="refsect1" lang="en"><a name="id2561035"></a><h2>See Also</h2><p>
<span class="type">GstBufferPool</span>, <a href="GstPad.html" title="GstPad"><span class="type">GstPad</span></a>, <a href="gstreamer-GstData.html#GstData"><span class="type">GstData</span></a>
</p></div></div><table class="navigation" width="100%" summary="Navigation footer" cellpadding="2" cellspacing="0"><tr valign="middle"><td align="left"><a accesskey="p" href="GstBin.html"><b>&lt;&lt; GstBin</b></a></td><td align="right"><a accesskey="n" href="gstreamer-GstCaps.html"><b>GstCaps &gt;&gt;</b></a></td></tr></table></body></html>
