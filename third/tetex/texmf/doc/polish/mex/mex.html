<HTML>
<HEAD>
<meta http-equiv="content-type" content="text/html; charset=iso-8859-2">
<TITLE>MeX, pdfMeX</TITLE>
</HEAD>

<BODY>

<!-- May 2002. Staszek Wawrykiewicz (StaW@gust.org.pl).
TeX Live 7 revision. Public domain. -->

<center>
<h2>MeX i pdfMeX</h2>
</center>
MeX jest adaptacj± formatu PLAIN TeX do sk³adu w&nbsp;jêzyku polskim
z&nbsp;uwzglêdnieniem polskich zwyczajów drukarskich.<br>
Autorzy: Bogus³aw Jackowski i&nbsp;Marek Ryæko.<br>
Dokumentacja poni¿sza omawia pokrótce tworzenie formatu <code>mex.fmt</code>
(lub <code>pdfmex.fmt</code>, dla programu pdfTeX -- wersji TeX-a tworz±cej 
od razu pliki PDF)
i&nbsp;jego u¿ycie w&nbsp;instalacji zgodnej z&nbsp;<code>Web2c</code> 
(dystrybucje teTeX, fpTeX, TeX Live) a&nbsp;tak¿e MiKTeX.
Szczegó³owe informacje nt. pakietu MeX zawarto w&nbsp;pliku
<code>mexinfo.pol</code>.

<p>
W najnowszych dystrybucjach do³±czono prosty plik przyk³adowy 
<code>doc/polish/mex/tstmex.tex</code>, s³u¿±cy do przetestowania poprawnego 
dzia³ania formatu MeX. Pocz±tkuj±cym u¿ytkownikom zaleca siê 
zapoznanie z&nbsp;zawarto¶ci± tego pliku.
Plik ten dostêpny jest tak¿e na serwerze 
<a href="ftp://ftp.gust.org.pl/pub/TeX/GUST/contrib/zaczynam/">GUST</a>.

<hr>

<h3>I. Przygotowanie formatu MeX/pdfMeX (polskiej implementacji formatu Plain)</h3>

Przygotowanie formatu MeX (lub pdfMeX dla programu pdfTeX, tworz±cego
pliki PDF) polega w&nbsp;skrócie na uruchomieniu: 
<pre>
tex --ini mex.ini
</pre>
(dla pdfTeX: <code>pdftex --ini pdfmex.ini</code>). Podczas przetwarzania 
wczytywane s± pliki makr formatu MeX, a&nbsp;tak¿e
<code>plain.tex</code> oraz wzorce przenoszenia wyrazów dla jêzyka polskiego
i&nbsp;angloamerykañskiego.

<p>
Poniewa¿ wygenerowany plik powinien znale¼æ siê w&nbsp;odpowiednim
miejscu struktury katalogów, a&nbsp;tak¿e powinien zostaæ ,,zarejestrowany''
w&nbsp;instalacji, wspó³czesne dystrybucje u³atwiaj± proces generowania. 

<ul>
<li>W&nbsp;dystrybucjach 
opartych na Web2c (fpTeX, teTeX, TeX Live) formaty generowane s± przy pomocy
programu <code>fmtutil</code> (<code>fmtutil --help</code> wy¶wietla dostêpne
opcje) za¶ deklaracje formatów znajduj± siê w&nbsp;pliku 
<code>texmf/web2c/fmtutil.cnf</code> (gdy posiadamy drzewo katalogów
zawieraj±ce lokalne pliki konfiguracyjne instalacji systemu TeX, program
<code>fmtutil</code> korzysta z&nbsp;lokalnej kopii <code>fmtutil.cnf</code>;
dok³adne po³o¿enie pliku wy¶wietli uruchomienie polecenia:
<code>kpsewhich fmtutil.cnf</code>). 
W&nbsp;systemach Unix/Linux ca³y proces generowania formatu dostêpny jest
z&nbsp;menu <code>Formats</code> programu <code>texconfig</code>, które
pozwala modyfikowaæ plik <code>fmtutil.cnf</code>,
co polega na usuniêciu znaku #
przed deklacj± wybranego formatu b±d¼ zablokowaniu takim znakiem
formatów niepo¿±danych. Po zapisaniu pliku
format zostanie automatyczne wygenerowany. W&nbsp;systemach Windows
nale¿y samodzielnie zmodyfikowaæ plik <code>fmtutil.cnf</code>, po czym
uruchomiæ polecenie <code>fmtutil --byfmt=mex</code>
(lub <code>fmtutil --byfmt=pdfmex</code>).

<li> 
W MiKTeX (od wersji 2.0)
nale¿y uruchomiæ w&nbsp;menu <code>MiKTeX Options</code> podmenu
<code>TeX Formats</code>, zaznaczyæ format
<code>MeX</code> (<code>pdfMeX</code>) i&nbsp;utworzyæ (przyciskiem
<code>Build</code>) potrzebny format.
</ul>

<p>
W&nbsp;obu omawianych przypadkach tworzony jest plik formatu
<code>mex.fmt</code> (lub <code>pdfmex.fmt</code>), który jest kopiowany 
do w³a¶ciwego katalogu, zawieraj±cego pliki
formatów oraz tworzone jest polecenie <code>mex</code> lub <code>pdfmex</code>
(uruchamia on program <code>tex</code>
z&nbsp;formatem <code>mex</code> lub program <code>pdftex</code> 
z&nbsp;formatem <code>pdfmex</code>).</p>

<hr>

<h3>II. U¿ycie</h3>

 Aktualne implementacje, oparte na Web2c 7.3, a&nbsp;tak¿e MiKTeX pozwalaj± wreszcie
 na prawid³owe przekodowanie znaków diakrytycznych w&nbsp;pliku TeX-owym
 na wewnêtrzn± reprezentacjê. Przekodowanie dzia³a te¿ w&nbsp;drug±
 stronê, kiedy TeX wy¶wietla komunikaty i&nbsp;zapisuje pliki
 <code>.log</code>, a&nbsp;tak¿e pliki ze spisem tre¶ci, skorowidzem itp.
 Do tego celu u¿ywa siê zewnêtrznych, tekstowych plików <code>TCX</code>.
 Co wiêcej, przekodowanie (plik TCX) mo¿e byæ deklarowane bezpo¶rednio
 w&nbsp;pliku TeX-owym. Je¶li <b>pierwszy</b> wiersz pliku zawiera
 komentarz strukturalny postaci<br>
     <code>%&mex --translate-file=il2-pl</code><br>
 to plik mo¿e byæ przetworzony za pomoc± polecenia <code>tex plik.tex</code>;
 zostanie wtedy wczytany format <code>mex.fmt</code> oraz tablica
 <code>il2-pl.tcx</code>
 przekodowania z&nbsp;uk³adu iso8859-2 do uk³adu fontów PL (wewnêtrznego
 dla programu TeX). Mo¿emy te¿ u¿yc polecenia:<br>
   <code>mex --translate-file=TCXFILE myfile.tex</code><br>
 lub deklaracjê przekodowania umie¶ciæ (jak wy¿ej) w&nbsp;pierwszym wierszu pliku.
 <code>mex</code> jest tu poleceniem uruchomienia TeX-a z formatem
 <code>mex.fmt</code> -- polecenie takie
   tworzy siê kopiuj±c (w&nbsp;katalogu zawieraj±cym binaria) program 
   tex do mex .<br>
 W&nbsp;dystrybucjach dostarczono szereg plikow TCX. Mo¿na je znale¼æ
 w&nbsp;katalogu <code>texmf/web2c/</code>:
 
<p>
<table border>
<tr>
 <td>  amiga-pl.tcx </td> <td> AmigaPL do PL </td>
</tr>
<tr>
   <td>il2-pl.tcx</td>    <td> iso8859-2 (latin2) do PL </td>
</tr>
<tr>
   <td>cp1250pl.tcx</td> <td> Windows cp1250 do PL </td>
</tr>
<tr>
   <td>cp852-pl.tcx</td>  <td> IBM cp852 do PL </td>
</tr>
<tr>
   <td>macce-pl.tcx</td>  <td> Apple MacCE do PL  </td>
</tr>
<tr>
   <td>maz-pl.tcx</td>    <td> Mazovia do PL  </td>
</tr>
</table>

<hr>

<h3> III. Polskie fonty PostScriptowe</h3>

 Aktualne dystrybucje zawieraj± fonty serii PL w&nbsp;wersji Type&nbsp;1 (postscriptowe).
 Mo¿na je tak¿e znale¼æ w&nbsp;najbli¿szym wê¼le CTAN lub jego kopii,
 np.:<br>
 <code>ftp://sunsite.icm.edu.pl/CTAN/fonts/psfonts/polish/plpsfont/</code>.<br>
 Pliki <code>.pfb</code> znajduj± siê w&nbsp;podkatalogu
 <code>texmf/fonts/type1/public/pl/</code> naszej instalacji.
<p>
 Sterownik <code>dvips</code> (zamieniaj±cy wynik pracy TeX-a, plik DVI,
 do formatu PostScript) wymaga aby deklaracje map fontowych 
 (dla fontów PL konkretnie zawarto¶æ <code>texmf/dvips/pl/pl.map</code>) 
 by³y do³±czone do pliku <code>texmf/dvips/config/psfonts.map</code>.
 Mapy fontowe mo¿na alternatywnie do³±czyæ w&nbsp;pliku 
 <code>texmf/dvips/config/config.ps</code> (lub jego lokalnej kopii),
 dopisuj±c wiersz:<br>
 <code>p +pl.map</code><br>
 po deklaracji g³ównej mapy fontowej: <code>p psfonts.map</code>. <p>

 Aby fonty Type&nbsp;1 by³y u¿yte przez program <code>pdfTeX</code>, 
 nale¿y sprawdziæ jakie mapy fontowe s± deklarowane w&nbsp;pliku 
 <code>texmf/pdftex/config/psfonts.map</code> -- powinien on tak¿e
 zawieraæ deklaracje map fontowych dla fontów PL.<p>

W dystrybucji TeX Live wszystkie aktualnie dostêpne polskie fonty
Type1 s± gotowe do u¿ycia zarówno przez program <code>dvips</code>,
jak i&nbsp;<code>pdftex</code>.<p>

Bardziej szczegó³owe omówienie instalacji fontów Type1 zawarte
jest w&nbsp;artykule <a href="../../html/polish/fonty/fonthint.html">Instalowanie
fontów Type1/True Type</a>. <p>

<hr>

<i>Staszek Wawrykiewicz</i> (StaW@gust.org.pl), 25.05.2001.

</BODY>
</HTML>
