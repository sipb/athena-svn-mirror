<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>bonobo-moniker-util</title><meta name="generator" content="DocBook XSL Stylesheets V1.65.1"><link rel="home" href="index.html" title="Libbonobo Reference Manual"><link rel="up" href="monikers.html" title="Monikers"><link rel="previous" href="libbonobo-bonobo-moniker-simple.html" title="BonoboMonikerSimple"><link rel="next" href="libbonobo-bonobo-moniker-extender.html" title="BonoboMonikerExtender"><link rel="chapter" href="general.html" title="General"><link rel="refentry" href="libbonobo-bonobo-main.html" title="bonobo-main"><link rel="refentry" href="libbonobo-bonobo-running-context.html" title="BonoboRunningContext"><link rel="refentry" href="libbonobo-bonobo-shutdown.html" title="bonobo-shutdown"><link rel="refentry" href="libbonobo-bonobo-i18n.html" title="bonobo-i18n"><link rel="refentry" href="libbonobo-bonobo-types.html" title="bonobo-types"><link rel="refentry" href="libbonobo-bonobo-context.html" title="bonobo-context"><link rel="refentry" href="libbonobo-bonobo-exception.html" title="bonobo-exception"><link rel="refentry" href="libbonobo-bonobo-application.html" title="bonobo-application"><link rel="refentry" href="libbonobo-bonobo-app-client.html" title="bonobo-app-client"><link rel="chapter" href="factories.html" title="Objects, Factories, Reference Counting"><link rel="refentry" href="libbonobo-bonobo-object.html" title="BonoboObject"><link rel="refentry" href="libbonobo-bonobo-generic-factory.html" title="BonoboGenericFactory"><link rel="refentry" href="libbonobo-bonobo-shlib-factory.html" title="bonobo-shlib-factory"><link rel="refentry" href="refcounting.html" title="Reference Counting"><link rel="chapter" href="property-bags.html" title="Property Bags, Events, Listeners"><link rel="refentry" href="properties.html" title="Properties"><link rel="refentry" href="libbonobo-bonobo-event-source.html" title="bonobo-event-source"><link rel="refentry" href="libbonobo-bonobo-listener.html" title="bonobo-listener"><link rel="refentry" href="libbonobo-bonobo-property-bag.html" title="BonoboPropertyBag"><link rel="refentry" href="libbonobo-bonobo-arg.html" title="bonobo-arg"><link rel="refentry" href="libbonobo-bonobo-property-bag-client.html" title="bonobo-property-bag-client"><link rel="chapter" href="monikers.html" title="Monikers"><link rel="refentry" href="monikers-overview.html" title="Monikers in the Bonobo Component System"><link rel="refentry" href="libbonobo-bonobo-moniker.html" title="BonoboMoniker"><link rel="refentry" href="libbonobo-bonobo-moniker-simple.html" title="BonoboMonikerSimple"><link rel="refentry" href="libbonobo-bonobo-moniker-util.html" title="bonobo-moniker-util"><link rel="refentry" href="libbonobo-bonobo-moniker-extender.html" title="BonoboMonikerExtender"><link rel="refentry" href="libbonobo-bonobo-item-handler.html" title="BonoboItemHandler"><link rel="refentry" href="libbonobo-bonobo-item-container.html" title="BonoboItemContainer"><link rel="refentry" href="libbonobo-bonobo-moniker-context.html" title="bonobo-moniker-context"><link rel="chapter" href="streams.html" title="Storages and Streams"><link rel="refentry" href="libbonobo-bonobo-storage-memory.html" title="bonobo-storage-memory"><link rel="refentry" href="libbonobo-bonobo-stream-memory.html" title="BonoboStreamMem"><link rel="refentry" href="libbonobo-bonobo-storage.html" title="bonobo-storage"><link rel="refentry" href="libbonobo-bonobo-stream-client.html" title="bonobo-stream-client"><link rel="chapter" href="persist.html" title="Persistency"><link rel="refentry" href="libbonobo-bonobo-persist.html" title="BonoboPersist"><link rel="refentry" href="libbonobo-bonobo-persist-file.html" title="BonoboPersistFile"><link rel="refentry" href="libbonobo-bonobo-persist-stream.html" title="BonoboPersistStream"><link rel="refentry" href="libbonobo-bonobo-persist-client.html" title="bonobo-persist-client"><link rel="chapter" href="misc.html" title="Miscellaneous"><link rel="refentry" href="debugging.html" title="Debugging"><link rel="refentry" href="libbonobo-faq.html" title="Common Questions"><link rel="refentry" href="libbonobo-bonobo-config-database.html" title="bonobo-config-database"><link rel="section" href="libbonobo-bonobo-moniker-util.html#id2854367" title="Description"><link rel="section" href="libbonobo-bonobo-moniker-util.html#id2854460" title="Details"><meta name="generator" content="GTK-Doc V1.2 (XML mode)"><link rel="stylesheet" href="style.css" type="text/css"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><table class="navigation" width="100%" summary="Navigation header" cellpadding="2" cellspacing="2"><tr valign="middle"><td><a accesskey="p" href="libbonobo-bonobo-moniker-simple.html"><img src="left.png" width="24" height="24" border="0" alt="Prev"></a></td><td><a accesskey="u" href="monikers.html"><img src="up.png" width="24" height="24" border="0" alt="Up"></a></td><td><a accesskey="h" href="index.html"><img src="home.png" width="24" height="24" border="0" alt="Home"></a></td><th width="100%" align="center">Libbonobo Reference Manual</th><td><a accesskey="n" href="libbonobo-bonobo-moniker-extender.html"><img src="right.png" width="24" height="24" border="0" alt="Next"></a></td></tr></table><div class="refentry" lang="en"><a name="libbonobo-bonobo-moniker-util"></a><div class="titlepage"><div></div><div></div></div><div class="refnamediv"><h2><span class="refentrytitle">bonobo-moniker-util</span></h2><p>bonobo-moniker-util &#8212; Object activation and construction through monikers.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><pre class="synopsis">



Bonobo_Unknown <a href="libbonobo-bonobo-moniker-util.html#bonobo-get-object">bonobo_get_object</a>            (const CORBA_char *name,
                                             const char *interface_name,
                                             CORBA_Environment *opt_ev);
Bonobo_Moniker <a href="libbonobo-bonobo-moniker-util.html#bonobo-moniker-client-new-from-name">bonobo_moniker_client_new_from_name</a>
                                            (const CORBA_char *name,
                                             CORBA_Environment *opt_ev);
CORBA_char* <a href="libbonobo-bonobo-moniker-util.html#bonobo-moniker-client-get-name">bonobo_moniker_client_get_name</a>  (Bonobo_Moniker moniker,
                                             CORBA_Environment *opt_ev);
Bonobo_Unknown <a href="libbonobo-bonobo-moniker-util.html#bonobo-moniker-client-resolve-default">bonobo_moniker_client_resolve_default</a>
                                            (Bonobo_Moniker moniker,
                                             const char *interface_name,
                                             CORBA_Environment *opt_ev);
gboolean    <a href="libbonobo-bonobo-moniker-util.html#bonobo-moniker-client-equal">bonobo_moniker_client_equal</a>     (Bonobo_Moniker moniker,
                                             const CORBA_char *name,
                                             CORBA_Environment *opt_ev);
void        (<a href="libbonobo-bonobo-moniker-util.html#BonoboMonikerAsyncFn">*BonoboMonikerAsyncFn</a>)         (Bonobo_Unknown object,
                                             CORBA_Environment *ev,
                                             gpointer user_data);
void        <a href="libbonobo-bonobo-moniker-util.html#bonobo-get-object-async">bonobo_get_object_async</a>         (const CORBA_char *name,
                                             const char *interface_name,
                                             CORBA_Environment *ev,
                                             <a href="libbonobo-bonobo-moniker-util.html#BonoboMonikerAsyncFn">BonoboMonikerAsyncFn</a> cb,
                                             gpointer user_data);
void        <a href="libbonobo-bonobo-moniker-util.html#bonobo-moniker-client-new-from-name-async">bonobo_moniker_client_new_from_name_async</a>
                                            (const CORBA_char *name,
                                             CORBA_Environment *ev,
                                             <a href="libbonobo-bonobo-moniker-util.html#BonoboMonikerAsyncFn">BonoboMonikerAsyncFn</a> cb,
                                             gpointer user_data);
void        <a href="libbonobo-bonobo-moniker-util.html#bonobo-moniker-resolve-async">bonobo_moniker_resolve_async</a>    (Bonobo_Moniker moniker,
                                             Bonobo_ResolveOptions *options,
                                             const char *interface_name,
                                             CORBA_Environment *ev,
                                             <a href="libbonobo-bonobo-moniker-util.html#BonoboMonikerAsyncFn">BonoboMonikerAsyncFn</a> cb,
                                             gpointer user_data);
void        <a href="libbonobo-bonobo-moniker-util.html#bonobo-moniker-resolve-async-default">bonobo_moniker_resolve_async_default</a>
                                            (Bonobo_Moniker moniker,
                                             const char *interface_name,
                                             CORBA_Environment *ev,
                                             <a href="libbonobo-bonobo-moniker-util.html#BonoboMonikerAsyncFn">BonoboMonikerAsyncFn</a> cb,
                                             gpointer user_data);
CORBA_char* <a href="libbonobo-bonobo-moniker-util.html#bonobo-moniker-util-get-parent-name">bonobo_moniker_util_get_parent_name</a>
                                            (Bonobo_Moniker moniker,
                                             CORBA_Environment *opt_ev);
Bonobo_Unknown <a href="libbonobo-bonobo-moniker-util.html#bonobo-moniker-util-qi-return">bonobo_moniker_util_qi_return</a>
                                            (Bonobo_Unknown object,
                                             const CORBA_char *requested_interface,
                                             CORBA_Environment *ev);
const char* <a href="libbonobo-bonobo-moniker-util.html#bonobo-moniker-util-parse-name">bonobo_moniker_util_parse_name</a>  (const char *name,
                                             int *plen);
int         <a href="libbonobo-bonobo-moniker-util.html#bonobo-moniker-util-seek-std-separator">bonobo_moniker_util_seek_std_separator</a>
                                            (const CORBA_char *str,
                                             int min_idx);
char*       <a href="libbonobo-bonobo-moniker-util.html#bonobo-moniker-util-escape">bonobo_moniker_util_escape</a>      (const char *string,
                                             int offset);
char*       <a href="libbonobo-bonobo-moniker-util.html#bonobo-moniker-util-unescape">bonobo_moniker_util_unescape</a>    (const char *string,
                                             int num_chars);
void        <a href="libbonobo-bonobo-moniker-util.html#bonobo-url-register">bonobo_url_register</a>             (char *oafiid,
                                             char *url,
                                             char *mime_type,
                                             Bonobo_Unknown object,
                                             CORBA_Environment *ev);
void        <a href="libbonobo-bonobo-moniker-util.html#bonobo-url-unregister">bonobo_url_unregister</a>           (char *oafiid,
                                             char *url,
                                             CORBA_Environment *ev);
Bonobo_Unknown <a href="libbonobo-bonobo-moniker-util.html#bonobo-url-lookup">bonobo_url_lookup</a>            (char *oafiid,
                                             char *url,
                                             CORBA_Environment *ev);
</pre></div><div class="refsect1" lang="en"><a name="id2854367"></a><h2>Description</h2><p>
The moniker utility functions provide two sets of functions:
  </p><div class="itemizedlist"><ul type="disc"><li><p>
      Helper functions for constructing and resolving monikers,
      and a simple get_object method that constructs and resolves
      against an interface in a single pass. Also, asynchronous
      versions of these methods are provided using the <span class="type">BonoboAsync</span>
      code. 
      </p></li><li><p>
      Helper functions for the implementation of new custom
      monikers are also provided here, along with a lot of the
      grunt code neccessary for moniker implementation, particularly
      constructing the chained list of sub-monikers that comprises
      a complex moniker.
      </p></li></ul></div><p>
</p><p>
The most useful function to get a feel for what monikers can do
is the <tt class="function">bonobo_get_object</tt> method. This is
used to create a moniker and resolve it against a given interface
like this:
  </p><div class="example"><a name="id2854422"></a><p class="title"><b>Example 3. GetObject example</b></p><pre class="programlisting">
GtkWidget *
moniker_resolve_demo (void)
{
	Bonobo_Control control;
	CORBA_Environment ev;

	CORBA_exception_init (&amp;ev);

	control = bonobo_get_object ("file:/demo/a.jpeg",
                                     "Bonobo/Control", NULL);

	if (control == CORBA_OBJECT_NIL)
		g_error ("Failed to get object file:/demo/a.jpeg");

	return bonobo_widget_new_control (control);
}
     </pre></div><p>
  This also makes a control out of the widget.
</p><p>
  It is worth noting that when resolving monikers a contracted
version of the interface name may be used, ommitting the 'IDL:'
prefix and / or the ':0' suffix.
</p></div><div class="refsect1" lang="en"><a name="id2854460"></a><h2>Details</h2><div class="refsect2" lang="en"><a name="id2854466"></a><h3><a name="bonobo-get-object"></a>bonobo_get_object ()</h3><a class="indexterm" name="id2854478"></a><pre class="programlisting">Bonobo_Unknown bonobo_get_object            (const CORBA_char *name,
                                             const char *interface_name,
                                             CORBA_Environment *opt_ev);</pre><p>
This encapsulates both the parse stage and resolve process of using
a moniker, providing a simple VisualBasic like mechanism for using the
object name space.</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>name</tt></i> :</span></td><td> the name of a moniker
</td></tr><tr><td><span class="term"><i class="parameter"><tt>interface_name</tt></i> :</span></td><td> the name of the interface we want returned as the result 
</td></tr><tr><td><span class="term"><i class="parameter"><tt>opt_ev</tt></i> :</span></td><td> an optional corba exception environment 
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> the requested interface or CORBA_OBJECT_NIL
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2854586"></a><h3><a name="bonobo-moniker-client-new-from-name"></a>bonobo_moniker_client_new_from_name ()</h3><a class="indexterm" name="id2854599"></a><pre class="programlisting">Bonobo_Moniker bonobo_moniker_client_new_from_name
                                            (const CORBA_char *name,
                                             CORBA_Environment *opt_ev);</pre><p>
This routine tries to parse a Moniker in string form
</p><p>
eg. file:/tmp/a.tar.gz<span class="type">gzip</span>:<span class="type">tar</span>:
</p><p>
into a CORBA_Object representation of this that can
later be resolved against an interface.</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>name</tt></i> :</span></td><td> the name of a moniker
</td></tr><tr><td><span class="term"><i class="parameter"><tt>opt_ev</tt></i> :</span></td><td> an optional corba exception environment 
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> a new Moniker handle
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2854710"></a><h3><a name="bonobo-moniker-client-get-name"></a>bonobo_moniker_client_get_name ()</h3><a class="indexterm" name="id2854721"></a><pre class="programlisting">CORBA_char* bonobo_moniker_client_get_name  (Bonobo_Moniker moniker,
                                             CORBA_Environment *opt_ev);</pre><p>
</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>moniker</tt></i> :</span></td><td> a moniker handle
</td></tr><tr><td><span class="term"><i class="parameter"><tt>opt_ev</tt></i> :</span></td><td> a corba exception environment 
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> the name of the moniker.
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2854804"></a><h3><a name="bonobo-moniker-client-resolve-default"></a>bonobo_moniker_client_resolve_default ()</h3><a class="indexterm" name="id2854816"></a><pre class="programlisting">Bonobo_Unknown bonobo_moniker_client_resolve_default
                                            (Bonobo_Moniker moniker,
                                             const char *interface_name,
                                             CORBA_Environment *opt_ev);</pre><p>
This resolves the moniker object against the given interface,
with a default set of resolve options.</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>moniker</tt></i> :</span></td><td> a moniker
</td></tr><tr><td><span class="term"><i class="parameter"><tt>interface_name</tt></i> :</span></td><td> the name of the interface we want returned as the result 
</td></tr><tr><td><span class="term"><i class="parameter"><tt>opt_ev</tt></i> :</span></td><td> an optional corba exception environment 
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> the interfaces resolved to or CORBA_OBJECT_NIL
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2854925"></a><h3><a name="bonobo-moniker-client-equal"></a>bonobo_moniker_client_equal ()</h3><a class="indexterm" name="id2854937"></a><pre class="programlisting">gboolean    bonobo_moniker_client_equal     (Bonobo_Moniker moniker,
                                             const CORBA_char *name,
                                             CORBA_Environment *opt_ev);</pre><p>
Compare a full <i class="parameter"><tt>moniker</tt></i> with the given <i class="parameter"><tt>name</tt></i></p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>moniker</tt></i> :</span></td><td> The moniker
</td></tr><tr><td><span class="term"><i class="parameter"><tt>name</tt></i> :</span></td><td> a moniker name eg. file:/demo/a.jpeg
</td></tr><tr><td><span class="term"><i class="parameter"><tt>opt_ev</tt></i> :</span></td><td> optional CORBA_Environment or NULL.
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> TRUE if they are the same
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2855053"></a><h3><a name="BonoboMonikerAsyncFn"></a>BonoboMonikerAsyncFn ()</h3><a class="indexterm" name="id2855065"></a><pre class="programlisting">void        (*BonoboMonikerAsyncFn)         (Bonobo_Unknown object,
                                             CORBA_Environment *ev,
                                             gpointer user_data);</pre><p>
Callback function, invoked when <a href="libbonobo-bonobo-moniker-util.html#bonobo-get-object-async"><tt class="function">bonobo_get_object_async()</tt></a> completes its work.
</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>object</tt></i> :</span></td><td>the newly-activated object, or <tt class="literal">CORBA_OBJECT_NIL</tt> if an exception occurred
</td></tr><tr><td><span class="term"><i class="parameter"><tt>ev</tt></i> :</span></td><td>CORBA environment that may contain an exception if an activation error occurred
</td></tr><tr><td><span class="term"><i class="parameter"><tt>user_data</tt></i> :</span></td><td>user data


</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2855174"></a><h3><a name="bonobo-get-object-async"></a>bonobo_get_object_async ()</h3><a class="indexterm" name="id2855186"></a><pre class="programlisting">void        bonobo_get_object_async         (const CORBA_char *name,
                                             const char *interface_name,
                                             CORBA_Environment *ev,
                                             <a href="libbonobo-bonobo-moniker-util.html#BonoboMonikerAsyncFn">BonoboMonikerAsyncFn</a> cb,
                                             gpointer user_data);</pre><p>
An async version of bonobo_get_object</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>name</tt></i> :</span></td><td> 
</td></tr><tr><td><span class="term"><i class="parameter"><tt>interface_name</tt></i> :</span></td><td> the name of the interface we want returned as the result 
</td></tr><tr><td><span class="term"><i class="parameter"><tt>ev</tt></i> :</span></td><td> a corba exception environment 
</td></tr><tr><td><span class="term"><i class="parameter"><tt>cb</tt></i> :</span></td><td> the async callback that gets the response 
</td></tr><tr><td><span class="term"><i class="parameter"><tt>user_data</tt></i> :</span></td><td> user context data to pass to that callback 
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2855325"></a><h3><a name="bonobo-moniker-client-new-from-name-async"></a>bonobo_moniker_client_new_from_name_async ()</h3><a class="indexterm" name="id2855339"></a><pre class="programlisting">void        bonobo_moniker_client_new_from_name_async
                                            (const CORBA_char *name,
                                             CORBA_Environment *ev,
                                             <a href="libbonobo-bonobo-moniker-util.html#BonoboMonikerAsyncFn">BonoboMonikerAsyncFn</a> cb,
                                             gpointer user_data);</pre><p>
An asynchronous version of new_from_name</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>name</tt></i> :</span></td><td> the name
</td></tr><tr><td><span class="term"><i class="parameter"><tt>ev</tt></i> :</span></td><td> a corba exception environment 
</td></tr><tr><td><span class="term"><i class="parameter"><tt>cb</tt></i> :</span></td><td> the async callback that gets the response
</td></tr><tr><td><span class="term"><i class="parameter"><tt>user_data</tt></i> :</span></td><td> user context data to pass to that callback
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2855456"></a><h3><a name="bonobo-moniker-resolve-async"></a>bonobo_moniker_resolve_async ()</h3><a class="indexterm" name="id2855468"></a><pre class="programlisting">void        bonobo_moniker_resolve_async    (Bonobo_Moniker moniker,
                                             Bonobo_ResolveOptions *options,
                                             const char *interface_name,
                                             CORBA_Environment *ev,
                                             <a href="libbonobo-bonobo-moniker-util.html#BonoboMonikerAsyncFn">BonoboMonikerAsyncFn</a> cb,
                                             gpointer user_data);</pre><p>
An async version of bonobo_moniker_client_resolve</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>moniker</tt></i> :</span></td><td> the moniker to resolve
</td></tr><tr><td><span class="term"><i class="parameter"><tt>options</tt></i> :</span></td><td> resolve options
</td></tr><tr><td><span class="term"><i class="parameter"><tt>interface_name</tt></i> :</span></td><td> the name of the interface we want returned as the result 
</td></tr><tr><td><span class="term"><i class="parameter"><tt>ev</tt></i> :</span></td><td> a corba exception environment 
</td></tr><tr><td><span class="term"><i class="parameter"><tt>cb</tt></i> :</span></td><td> the async callback that gets the response 
</td></tr><tr><td><span class="term"><i class="parameter"><tt>user_data</tt></i> :</span></td><td> user context data to pass to that callback 
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2855631"></a><h3><a name="bonobo-moniker-resolve-async-default"></a>bonobo_moniker_resolve_async_default ()</h3><a class="indexterm" name="id2855644"></a><pre class="programlisting">void        bonobo_moniker_resolve_async_default
                                            (Bonobo_Moniker moniker,
                                             const char *interface_name,
                                             CORBA_Environment *ev,
                                             <a href="libbonobo-bonobo-moniker-util.html#BonoboMonikerAsyncFn">BonoboMonikerAsyncFn</a> cb,
                                             gpointer user_data);</pre><p>
An async version of bonobo_moniker_client_resolve_default</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>moniker</tt></i> :</span></td><td> 
</td></tr><tr><td><span class="term"><i class="parameter"><tt>interface_name</tt></i> :</span></td><td> the name of the interface we want returned as the result 
</td></tr><tr><td><span class="term"><i class="parameter"><tt>ev</tt></i> :</span></td><td> a corba exception environment 
</td></tr><tr><td><span class="term"><i class="parameter"><tt>cb</tt></i> :</span></td><td> the async callback that gets the response 
</td></tr><tr><td><span class="term"><i class="parameter"><tt>user_data</tt></i> :</span></td><td> user context data to pass to that callback 
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2855785"></a><h3><a name="bonobo-moniker-util-get-parent-name"></a>bonobo_moniker_util_get_parent_name ()</h3><a class="indexterm" name="id2855798"></a><pre class="programlisting">CORBA_char* bonobo_moniker_util_get_parent_name
                                            (Bonobo_Moniker moniker,
                                             CORBA_Environment *opt_ev);</pre><p>
This gets the name of the parent moniker ( recursively
all of the parents of this moniker ).</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>moniker</tt></i> :</span></td><td> the moniker
</td></tr><tr><td><span class="term"><i class="parameter"><tt>opt_ev</tt></i> :</span></td><td> an optional corba exception environment
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> the name; use CORBA_free to release it.
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2855883"></a><h3><a name="bonobo-moniker-util-qi-return"></a>bonobo_moniker_util_qi_return ()</h3><a class="indexterm" name="id2855895"></a><pre class="programlisting">Bonobo_Unknown bonobo_moniker_util_qi_return
                                            (Bonobo_Unknown object,
                                             const CORBA_char *requested_interface,
                                             CORBA_Environment *ev);</pre><p>
A helper function to share code from the end of a resolve
implementation; this ensures that the returned object is of
the correct interface by doing a queryInterface on the object.</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>object</tt></i> :</span></td><td> the unknown to query
</td></tr><tr><td><span class="term"><i class="parameter"><tt>requested_interface</tt></i> :</span></td><td> the desired interface
</td></tr><tr><td><span class="term"><i class="parameter"><tt>ev</tt></i> :</span></td><td> a corba exception environment 
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> an handle to the requested interface
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2856005"></a><h3><a name="bonobo-moniker-util-parse-name"></a>bonobo_moniker_util_parse_name ()</h3><a class="indexterm" name="id2856017"></a><pre class="programlisting">const char* bonobo_moniker_util_parse_name  (const char *name,
                                             int *plen);</pre><p>
This routine finds the rightmost moniker name. For example
it will return "cache:" if you pass in "file:/tmp.txt<span class="type">cache</span>:". It will 
also store the length of the parent string in <i class="parameter"><tt>plen</tt></i> (13 for the above 
example)</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>name</tt></i> :</span></td><td> a moniker name
</td></tr><tr><td><span class="term"><i class="parameter"><tt>plen</tt></i> :</span></td><td> an optional pointer to store the parent length
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> the name of the rightmost moniker
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2856118"></a><h3><a name="bonobo-moniker-util-seek-std-separator"></a>bonobo_moniker_util_seek_std_separator ()</h3><a class="indexterm" name="id2856131"></a><pre class="programlisting">int         bonobo_moniker_util_seek_std_separator
                                            (const CORBA_char *str,
                                             int min_idx);</pre><p>
This looks for a moniker separator in a moniker's name string.
</p><p>
 See also bonobo_moniker_util_escape</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>str</tt></i> :</span></td><td> the string to scan
</td></tr><tr><td><span class="term"><i class="parameter"><tt>min_idx</tt></i> :</span></td><td> the minimum offset at which a separator can be found.
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> the position of the separator, or a
pointer to the end of the string.
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2856219"></a><h3><a name="bonobo-moniker-util-escape"></a>bonobo_moniker_util_escape ()</h3><a class="indexterm" name="id2856231"></a><pre class="programlisting">char*       bonobo_moniker_util_escape      (const char *string,
                                             int offset);</pre><p>
Escapes possible separator characters inside a moniker
these include '!' and '#', the '\' escaping character is
used.</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>string</tt></i> :</span></td><td> an unescaped string
</td></tr><tr><td><span class="term"><i class="parameter"><tt>offset</tt></i> :</span></td><td> an offset of characters to ignore
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> an escaped sub-string.
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2856314"></a><h3><a name="bonobo-moniker-util-unescape"></a>bonobo_moniker_util_unescape ()</h3><a class="indexterm" name="id2856326"></a><pre class="programlisting">char*       bonobo_moniker_util_unescape    (const char *string,
                                             int num_chars);</pre><p>
This routine strips <i class="parameter"><tt>num_chars</tt></i>: from the start of
<i class="parameter"><tt>string</tt></i>, discards the rest, and proceeds to un-escape
characters escaped with '\'.</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>string</tt></i> :</span></td><td> a string
</td></tr><tr><td><span class="term"><i class="parameter"><tt>num_chars</tt></i> :</span></td><td> the number of chars to process.
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> the unescaped sub string.
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2856421"></a><h3><a name="bonobo-url-register"></a>bonobo_url_register ()</h3><a class="indexterm" name="id2856432"></a><pre class="programlisting">void        bonobo_url_register             (char *oafiid,
                                             char *url,
                                             char *mime_type,
                                             Bonobo_Unknown object,
                                             CORBA_Environment *ev);</pre><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>oafiid</tt></i> :</span></td><td>
</td></tr><tr><td><span class="term"><i class="parameter"><tt>url</tt></i> :</span></td><td>
</td></tr><tr><td><span class="term"><i class="parameter"><tt>mime_type</tt></i> :</span></td><td>
</td></tr><tr><td><span class="term"><i class="parameter"><tt>object</tt></i> :</span></td><td>
</td></tr><tr><td><span class="term"><i class="parameter"><tt>ev</tt></i> :</span></td><td>


</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2856563"></a><h3><a name="bonobo-url-unregister"></a>bonobo_url_unregister ()</h3><a class="indexterm" name="id2856575"></a><pre class="programlisting">void        bonobo_url_unregister           (char *oafiid,
                                             char *url,
                                             CORBA_Environment *ev);</pre><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>oafiid</tt></i> :</span></td><td>
</td></tr><tr><td><span class="term"><i class="parameter"><tt>url</tt></i> :</span></td><td>
</td></tr><tr><td><span class="term"><i class="parameter"><tt>ev</tt></i> :</span></td><td>


</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2856663"></a><h3><a name="bonobo-url-lookup"></a>bonobo_url_lookup ()</h3><a class="indexterm" name="id2856674"></a><pre class="programlisting">Bonobo_Unknown bonobo_url_lookup            (char *oafiid,
                                             char *url,
                                             CORBA_Environment *ev);</pre><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>oafiid</tt></i> :</span></td><td>
</td></tr><tr><td><span class="term"><i class="parameter"><tt>url</tt></i> :</span></td><td>
</td></tr><tr><td><span class="term"><i class="parameter"><tt>ev</tt></i> :</span></td><td>
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td>


</td></tr></tbody></table></div></div></div></div><table class="navigation" width="100%" summary="Navigation footer" cellpadding="2" cellspacing="0"><tr valign="middle"><td align="left"><a accesskey="p" href="libbonobo-bonobo-moniker-simple.html"><b>&lt;&lt; BonoboMonikerSimple</b></a></td><td align="right"><a accesskey="n" href="libbonobo-bonobo-moniker-extender.html"><b>BonoboMonikerExtender &gt;&gt;</b></a></td></tr></table></body></html>
