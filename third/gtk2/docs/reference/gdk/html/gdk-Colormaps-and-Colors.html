<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Colormaps and Colors</title><meta name="generator" content="DocBook XSL Stylesheets V1.66.0"><link rel="start" href="index.html" title="GDK Reference Manual"><link rel="up" href="reference.html" title="API Reference"><link rel="prev" href="gdk-Pixbufs.html" title="Pixbufs"><link rel="next" href="gdk-Visuals.html" title="Visuals"><meta name="generator" content="GTK-Doc V1.2 (XML mode)"><link rel="stylesheet" href="style.css" type="text/css"><link rel="reference" href="reference.html" title="API Reference"><link rel="index" href="ix01.html" title="Index"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><table class="navigation" width="100%" summary="Navigation header" cellpadding="2" cellspacing="2"><tr valign="middle"><td><a accesskey="p" href="gdk-Pixbufs.html"><img src="left.png" width="24" height="24" border="0" alt="Prev"></a></td><td><a accesskey="u" href="reference.html"><img src="up.png" width="24" height="24" border="0" alt="Up"></a></td><td><a accesskey="h" href="index.html"><img src="home.png" width="24" height="24" border="0" alt="Home"></a></td><th width="100%" align="center">GDK Reference Manual</th><td><a accesskey="n" href="gdk-Visuals.html"><img src="right.png" width="24" height="24" border="0" alt="Next"></a></td></tr></table><div class="refentry" lang="en"><a name="gdk-Colormaps-and-Colors"></a><div class="titlepage"></div><div class="refnamediv"><table width="100%"><tr><td valign="top"><h2><span class="refentrytitle">Colormaps and Colors</span></h2><p>Colormaps and Colors &#8212; Manipulation of colors and colormaps</p></td><td valign="top" align="right"></td></tr></table></div><div class="refsynopsisdiv"><h2>Synopsis</h2><pre class="synopsis">

#include &lt;gdk/gdk.h&gt;


struct      <a href="gdk-Colormaps-and-Colors.html#GdkColor">GdkColor</a>;
struct      <a href="gdk-Colormaps-and-Colors.html#GdkColormap">GdkColormap</a>;
<a href="gdk-Colormaps-and-Colors.html#GdkColormap">GdkColormap</a>* <a href="gdk-Colormaps-and-Colors.html#gdk-colormap-new">gdk_colormap_new</a>               (<a href="gdk-Visuals.html#GdkVisual">GdkVisual</a> *visual,
                                             gboolean allocate);
<a href="gdk-Colormaps-and-Colors.html#GdkColormap">GdkColormap</a>* <a href="gdk-Colormaps-and-Colors.html#gdk-colormap-ref">gdk_colormap_ref</a>               (<a href="gdk-Colormaps-and-Colors.html#GdkColormap">GdkColormap</a> *cmap);
void        <a href="gdk-Colormaps-and-Colors.html#gdk-colormap-unref">gdk_colormap_unref</a>              (<a href="gdk-Colormaps-and-Colors.html#GdkColormap">GdkColormap</a> *cmap);
<a href="gdk-Colormaps-and-Colors.html#GdkColormap">GdkColormap</a>* <a href="gdk-Colormaps-and-Colors.html#gdk-colormap-get-system">gdk_colormap_get_system</a>        (void);
gint        <a href="gdk-Colormaps-and-Colors.html#gdk-colormap-get-system-size">gdk_colormap_get_system_size</a>    (void);
void        <a href="gdk-Colormaps-and-Colors.html#gdk-colormap-change">gdk_colormap_change</a>             (<a href="gdk-Colormaps-and-Colors.html#GdkColormap">GdkColormap</a> *colormap,
                                             gint ncolors);
gint        <a href="gdk-Colormaps-and-Colors.html#gdk-colormap-alloc-colors">gdk_colormap_alloc_colors</a>       (<a href="gdk-Colormaps-and-Colors.html#GdkColormap">GdkColormap</a> *colormap,
                                             <a href="gdk-Colormaps-and-Colors.html#GdkColor">GdkColor</a> *colors,
                                             gint ncolors,
                                             gboolean writeable,
                                             gboolean best_match,
                                             gboolean *success);
gboolean    <a href="gdk-Colormaps-and-Colors.html#gdk-colormap-alloc-color">gdk_colormap_alloc_color</a>        (<a href="gdk-Colormaps-and-Colors.html#GdkColormap">GdkColormap</a> *colormap,
                                             <a href="gdk-Colormaps-and-Colors.html#GdkColor">GdkColor</a> *color,
                                             gboolean writeable,
                                             gboolean best_match);
void        <a href="gdk-Colormaps-and-Colors.html#gdk-colormap-free-colors">gdk_colormap_free_colors</a>        (<a href="gdk-Colormaps-and-Colors.html#GdkColormap">GdkColormap</a> *colormap,
                                             <a href="gdk-Colormaps-and-Colors.html#GdkColor">GdkColor</a> *colors,
                                             gint ncolors);
void        <a href="gdk-Colormaps-and-Colors.html#gdk-colormap-query-color">gdk_colormap_query_color</a>        (<a href="gdk-Colormaps-and-Colors.html#GdkColormap">GdkColormap</a> *colormap,
                                             gulong pixel,
                                             <a href="gdk-Colormaps-and-Colors.html#GdkColor">GdkColor</a> *result);
<a href="gdk-Visuals.html#GdkVisual">GdkVisual</a>*  <a href="gdk-Colormaps-and-Colors.html#gdk-colormap-get-visual">gdk_colormap_get_visual</a>         (<a href="gdk-Colormaps-and-Colors.html#GdkColormap">GdkColormap</a> *colormap);
<a href="GdkScreen.html" title="GdkScreen">GdkScreen</a>*  <a href="gdk-Colormaps-and-Colors.html#gdk-colormap-get-screen">gdk_colormap_get_screen</a>         (<a href="gdk-Colormaps-and-Colors.html#GdkColormap">GdkColormap</a> *cmap);
void        <a href="gdk-Colormaps-and-Colors.html#gdk-colors-store">gdk_colors_store</a>                (<a href="gdk-Colormaps-and-Colors.html#GdkColormap">GdkColormap</a> *colormap,
                                             <a href="gdk-Colormaps-and-Colors.html#GdkColor">GdkColor</a> *colors,
                                             gint ncolors);
<a href="gdk-Colormaps-and-Colors.html#GdkColor">GdkColor</a>*   <a href="gdk-Colormaps-and-Colors.html#gdk-color-copy">gdk_color_copy</a>                  (const <a href="gdk-Colormaps-and-Colors.html#GdkColor">GdkColor</a> *color);
void        <a href="gdk-Colormaps-and-Colors.html#gdk-color-free">gdk_color_free</a>                  (<a href="gdk-Colormaps-and-Colors.html#GdkColor">GdkColor</a> *color);
gint        <a href="gdk-Colormaps-and-Colors.html#gdk-colors-alloc">gdk_colors_alloc</a>                (<a href="gdk-Colormaps-and-Colors.html#GdkColormap">GdkColormap</a> *colormap,
                                             gboolean contiguous,
                                             gulong *planes,
                                             gint nplanes,
                                             gulong *pixels,
                                             gint npixels);
void        <a href="gdk-Colormaps-and-Colors.html#gdk-colors-free">gdk_colors_free</a>                 (<a href="gdk-Colormaps-and-Colors.html#GdkColormap">GdkColormap</a> *colormap,
                                             gulong *pixels,
                                             gint npixels,
                                             gulong planes);
gint        <a href="gdk-Colormaps-and-Colors.html#gdk-color-white">gdk_color_white</a>                 (<a href="gdk-Colormaps-and-Colors.html#GdkColormap">GdkColormap</a> *colormap,
                                             <a href="gdk-Colormaps-and-Colors.html#GdkColor">GdkColor</a> *color);
gint        <a href="gdk-Colormaps-and-Colors.html#gdk-color-black">gdk_color_black</a>                 (<a href="gdk-Colormaps-and-Colors.html#GdkColormap">GdkColormap</a> *colormap,
                                             <a href="gdk-Colormaps-and-Colors.html#GdkColor">GdkColor</a> *color);
gint        <a href="gdk-Colormaps-and-Colors.html#gdk-color-parse">gdk_color_parse</a>                 (const gchar *spec,
                                             <a href="gdk-Colormaps-and-Colors.html#GdkColor">GdkColor</a> *color);
gint        <a href="gdk-Colormaps-and-Colors.html#gdk-color-alloc">gdk_color_alloc</a>                 (<a href="gdk-Colormaps-and-Colors.html#GdkColormap">GdkColormap</a> *colormap,
                                             <a href="gdk-Colormaps-and-Colors.html#GdkColor">GdkColor</a> *color);
gint        <a href="gdk-Colormaps-and-Colors.html#gdk-color-change">gdk_color_change</a>                (<a href="gdk-Colormaps-and-Colors.html#GdkColormap">GdkColormap</a> *colormap,
                                             <a href="gdk-Colormaps-and-Colors.html#GdkColor">GdkColor</a> *color);
gboolean    <a href="gdk-Colormaps-and-Colors.html#gdk-color-equal">gdk_color_equal</a>                 (const <a href="gdk-Colormaps-and-Colors.html#GdkColor">GdkColor</a> *colora,
                                             const <a href="gdk-Colormaps-and-Colors.html#GdkColor">GdkColor</a> *colorb);
guint       <a href="gdk-Colormaps-and-Colors.html#gdk-color-hash">gdk_color_hash</a>                  (const <a href="gdk-Colormaps-and-Colors.html#GdkColor">GdkColor</a> *colora);


</pre></div><div class="refsect1" lang="en"><a name="id3159504"></a><h2>Description</h2><p>
These functions are used to modify colormaps.
A colormap is an object that contains the mapping
between the color values stored in memory and
the RGB values that are used to display color
values. In general, colormaps only contain
significant information for pseudo-color visuals,
but even for other visual types, a colormap object
is required in some circumstances.
</p><p>
There are a couple of special colormaps that can
be retrieved. The system colormap (retrieved 
with <a href="gdk-Colormaps-and-Colors.html#gdk-colormap-get-system"><tt class="function">gdk_colormap_get_system()</tt></a>) is the default
colormap of the system. If you are using GdkRGB,
there is another colormap that is important - the
colormap in which GdkRGB works, retrieved with
<a href="gdk-GdkRGB.html#gdk-rgb-get-cmap"><tt class="function">gdk_rgb_get_cmap()</tt></a>. However, when using GdkRGB, 
it is not generally necessary to allocate colors
directly.
</p><p>
In previous revisions of this interface, a number
of functions that take a <a href="gdk-Colormaps-and-Colors.html#GdkColormap"><span class="type">GdkColormap</span></a> parameter
were replaced with functions whose names began
with "gdk_colormap_". This process will probably
be extended somewhat in the future - 
<a href="gdk-Colormaps-and-Colors.html#gdk-color-white"><tt class="function">gdk_color_white()</tt></a>, <a href="gdk-Colormaps-and-Colors.html#gdk-color-black"><tt class="function">gdk_color_black()</tt></a>, and 
<a href="gdk-Colormaps-and-Colors.html#gdk-color-change"><tt class="function">gdk_color_change()</tt></a> will probably become aliases.
</p></div><div class="refsect1" lang="en"><a name="id3158657"></a><h2>Details</h2><div class="refsect2" lang="en"><a name="id3158663"></a><h3><a name="GdkColor"></a>struct GdkColor</h3><a class="indexterm" name="id3158674"></a><pre class="programlisting">struct GdkColor {

  guint32 pixel;
  guint16 red;
  guint16 green;
  guint16 blue;
};
</pre><p>
The <a href="gdk-Colormaps-and-Colors.html#GdkColor"><span class="type">GdkColor</span></a> structure is used to describe an 
allocated or unallocated color.
</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term">guint32 <i class="structfield"><tt>pixel</tt></i></span></td><td>For allocated colors, the value used to
  draw this color on the screen.
</td></tr><tr><td><span class="term">guint16 <i class="structfield"><tt>red</tt></i></span></td><td>The red component of the color. This is
  a value between 0 and 65535, with 65535 indicating
  full intensitiy.
</td></tr><tr><td><span class="term">guint16 <i class="structfield"><tt>green</tt></i></span></td><td>The blue component of the color.
</td></tr><tr><td><span class="term">guint16 <i class="structfield"><tt>blue</tt></i></span></td><td>The green component of the color.

</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id3159859"></a><h3><a name="GdkColormap"></a>struct GdkColormap</h3><a class="indexterm" name="id3159869"></a><pre class="programlisting">struct GdkColormap {

  GObject parent_instance;

  gint      size;
  GdkColor *colors;

};
</pre><p>
The colormap structure contains the following public fields.
</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term">GObject <i class="structfield"><tt>parent_instance</tt></i></span></td><td>
</td></tr><tr><td><span class="term">gint <i class="structfield"><tt>size</tt></i></span></td><td>For pseudo-color colormaps, the number of colors
  in the colormap.
</td></tr><tr><td><span class="term"><a href="gdk-Colormaps-and-Colors.html#GdkColor">GdkColor</a> *<i class="structfield"><tt>colors</tt></i></span></td><td>An array containing the current values in the
  colormap. This can be used to map from pixel values
  back to RGB values. This is only meaningful for
  pseudo-color colormaps.

</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id3159952"></a><h3><a name="gdk-colormap-new"></a>gdk_colormap_new ()</h3><a class="indexterm" name="id3159963"></a><pre class="programlisting"><a href="gdk-Colormaps-and-Colors.html#GdkColormap">GdkColormap</a>* gdk_colormap_new               (<a href="gdk-Visuals.html#GdkVisual">GdkVisual</a> *visual,
                                             gboolean allocate);</pre><p>
Creates a new colormap for the given visual.</p><p>
</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>visual</tt></i> :</span></td><td> a <a href="gdk-Visuals.html#GdkVisual"><span class="type">GdkVisual</span></a>.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>allocate</tt></i> :</span></td><td> if <tt class="literal">TRUE</tt>, the newly created colormap will be
a private colormap, and all colors in it will be
allocated for the applications use.
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> the new <a href="gdk-Colormaps-and-Colors.html#GdkColormap"><span class="type">GdkColormap</span></a>.
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id3160067"></a><h3><a name="gdk-colormap-ref"></a>gdk_colormap_ref ()</h3><a class="indexterm" name="id3160078"></a><pre class="programlisting"><a href="gdk-Colormaps-and-Colors.html#GdkColormap">GdkColormap</a>* gdk_colormap_ref               (<a href="gdk-Colormaps-and-Colors.html#GdkColormap">GdkColormap</a> *cmap);</pre><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Warning</h3><p><tt class="literal">gdk_colormap_ref</tt> is deprecated and should not be used in newly-written code.</p></div><p>
Deprecated function; use <tt class="function">g_object_ref()</tt> instead.</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>cmap</tt></i> :</span></td><td> a <a href="gdk-Colormaps-and-Colors.html#GdkColormap"><span class="type">GdkColormap</span></a>
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> the colormap
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id3160169"></a><h3><a name="gdk-colormap-unref"></a>gdk_colormap_unref ()</h3><a class="indexterm" name="id3160180"></a><pre class="programlisting">void        gdk_colormap_unref              (<a href="gdk-Colormaps-and-Colors.html#GdkColormap">GdkColormap</a> *cmap);</pre><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Warning</h3><p><tt class="literal">gdk_colormap_unref</tt> is deprecated and should not be used in newly-written code.</p></div><p>
Deprecated function; use <tt class="function">g_object_ref()</tt> instead.</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>cmap</tt></i> :</span></td><td> a <a href="gdk-Colormaps-and-Colors.html#GdkColormap"><span class="type">GdkColormap</span></a>
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id3160260"></a><h3><a name="gdk-colormap-get-system"></a>gdk_colormap_get_system ()</h3><a class="indexterm" name="id3160271"></a><pre class="programlisting"><a href="gdk-Colormaps-and-Colors.html#GdkColormap">GdkColormap</a>* gdk_colormap_get_system        (void);</pre><p>
Gets the system's default colormap for the default screen. (See
<tt class="function">gdk_colormap_get_system_for_screen()</tt>)</p><p>
</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> the default colormap.
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id3160325"></a><h3><a name="gdk-colormap-get-system-size"></a>gdk_colormap_get_system_size ()</h3><a class="indexterm" name="id3160336"></a><pre class="programlisting">gint        gdk_colormap_get_system_size    (void);</pre><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Warning</h3><p><tt class="literal">gdk_colormap_get_system_size</tt> is deprecated and should not be used in newly-written code.</p></div><p>
Returns the size of the system's default colormap.
(See the description of struct <a href="gdk-Colormaps-and-Colors.html#GdkColormap"><span class="type">GdkColormap</span></a> for an
explanation of the size of a colormap.)</p><p>
</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> the size of the system's default colormap.
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id3160399"></a><h3><a name="gdk-colormap-change"></a>gdk_colormap_change ()</h3><a class="indexterm" name="id3160410"></a><pre class="programlisting">void        gdk_colormap_change             (<a href="gdk-Colormaps-and-Colors.html#GdkColormap">GdkColormap</a> *colormap,
                                             gint ncolors);</pre><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Warning</h3><p><tt class="literal">gdk_colormap_change</tt> is deprecated and should not be used in newly-written code.</p></div><p>
Changes the value of the first <i class="parameter"><tt>ncolors</tt></i> in a private colormap
to match the values in the <i class="structfield"><tt>colors</tt></i>
array in the colormap. This function is obsolete and
should not be used. See <a href="gdk-Colormaps-and-Colors.html#gdk-color-change"><tt class="function">gdk_color_change()</tt></a>.</p><p>
</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>colormap</tt></i> :</span></td><td> a <a href="gdk-Colormaps-and-Colors.html#GdkColormap"><span class="type">GdkColormap</span></a>.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>ncolors</tt></i> :</span></td><td> the number of colors to change.
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id3160524"></a><h3><a name="gdk-colormap-alloc-colors"></a>gdk_colormap_alloc_colors ()</h3><a class="indexterm" name="id3160536"></a><pre class="programlisting">gint        gdk_colormap_alloc_colors       (<a href="gdk-Colormaps-and-Colors.html#GdkColormap">GdkColormap</a> *colormap,
                                             <a href="gdk-Colormaps-and-Colors.html#GdkColor">GdkColor</a> *colors,
                                             gint ncolors,
                                             gboolean writeable,
                                             gboolean best_match,
                                             gboolean *success);</pre><p>
Allocates colors from a colormap.</p><p>
</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>colormap</tt></i> :</span></td><td> a <a href="gdk-Colormaps-and-Colors.html#GdkColormap"><span class="type">GdkColormap</span></a>.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>colors</tt></i> :</span></td><td> The color values to allocate. On return, the pixel
   values for allocated colors will be filled in.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>ncolors</tt></i> :</span></td><td> The number of colors in <i class="parameter"><tt>colors</tt></i>.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>writeable</tt></i> :</span></td><td> If <tt class="literal">TRUE</tt>, the colors are allocated writeable
   (their values can later be changed using <a href="gdk-Colormaps-and-Colors.html#gdk-color-change"><tt class="function">gdk_color_change()</tt></a>).
   Writeable colors cannot be shared between applications.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>best_match</tt></i> :</span></td><td> If <tt class="literal">TRUE</tt>, GDK will attempt to do matching against
   existing colors if the colors cannot be allocated as requested.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>success</tt></i> :</span></td><td> An array of length <i class="parameter"><tt>ncolors</tt></i>. On return, this
  indicates whether the corresponding color in <i class="parameter"><tt>colors</tt></i> was
  successfully allocated or not.
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> The number of colors that were not successfully 
allocated.
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id3160759"></a><h3><a name="gdk-colormap-alloc-color"></a>gdk_colormap_alloc_color ()</h3><a class="indexterm" name="id3160771"></a><pre class="programlisting">gboolean    gdk_colormap_alloc_color        (<a href="gdk-Colormaps-and-Colors.html#GdkColormap">GdkColormap</a> *colormap,
                                             <a href="gdk-Colormaps-and-Colors.html#GdkColor">GdkColor</a> *color,
                                             gboolean writeable,
                                             gboolean best_match);</pre><p>
Allocates a single color from a colormap.</p><p>
</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>colormap</tt></i> :</span></td><td> a <a href="gdk-Colormaps-and-Colors.html#GdkColormap"><span class="type">GdkColormap</span></a>.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>color</tt></i> :</span></td><td> the color to allocate. On return the
   <i class="structfield"><tt>pixel</tt></i> field will be
   filled in if allocation succeeds.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>writeable</tt></i> :</span></td><td> If <tt class="literal">TRUE</tt>, the color is allocated writeable
   (their values can later be changed using <a href="gdk-Colormaps-and-Colors.html#gdk-color-change"><tt class="function">gdk_color_change()</tt></a>).
   Writeable colors cannot be shared between applications.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>best_match</tt></i> :</span></td><td> If <tt class="literal">TRUE</tt>, GDK will attempt to do matching against
   existing colors if the color cannot be allocated as requested.
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> <tt class="literal">TRUE</tt> if the allocation succeeded.
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id3160941"></a><h3><a name="gdk-colormap-free-colors"></a>gdk_colormap_free_colors ()</h3><a class="indexterm" name="id3160952"></a><pre class="programlisting">void        gdk_colormap_free_colors        (<a href="gdk-Colormaps-and-Colors.html#GdkColormap">GdkColormap</a> *colormap,
                                             <a href="gdk-Colormaps-and-Colors.html#GdkColor">GdkColor</a> *colors,
                                             gint ncolors);</pre><p>
Frees previously allocated colors.</p><p>
</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>colormap</tt></i> :</span></td><td> a <a href="gdk-Colormaps-and-Colors.html#GdkColormap"><span class="type">GdkColormap</span></a>.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>colors</tt></i> :</span></td><td> the colors to free.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>ncolors</tt></i> :</span></td><td> the number of colors in <i class="parameter"><tt>colors</tt></i>.
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id3161059"></a><h3><a name="gdk-colormap-query-color"></a>gdk_colormap_query_color ()</h3><a class="indexterm" name="id3161070"></a><pre class="programlisting">void        gdk_colormap_query_color        (<a href="gdk-Colormaps-and-Colors.html#GdkColormap">GdkColormap</a> *colormap,
                                             gulong pixel,
                                             <a href="gdk-Colormaps-and-Colors.html#GdkColor">GdkColor</a> *result);</pre><p>
Locates the RGB color in <i class="parameter"><tt>colormap</tt></i> corresponding to the given
hardware pixel <i class="parameter"><tt>pixel</tt></i>. <i class="parameter"><tt>pixel</tt></i> must be a valid pixel in the
colormap; it's a programmer error to call this function with a
pixel which is not in the colormap. Hardware pixels are normally
obtained from <a href="gdk-Colormaps-and-Colors.html#gdk-colormap-alloc-colors"><tt class="function">gdk_colormap_alloc_colors()</tt></a>, or from a <a href="gdk-Images.html#GdkImage"><span class="type">GdkImage</span></a>. (A
<a href="gdk-Images.html#GdkImage"><span class="type">GdkImage</span></a> contains image data in hardware format, a <a
href="../gdk-pixbuf/gdk-pixbuf-gdk-pixbuf.html#GdkPixbuf"
><span class="type">GdkPixbuf</span></a>
contains image data in a canonical 24-bit RGB format.)
</p><p>
This function is rarely useful; it's used for example to
implement the eyedropper feature in <span class="type">GtkColorSelection</span>.</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>colormap</tt></i> :</span></td><td> a <a href="gdk-Colormaps-and-Colors.html#GdkColormap"><span class="type">GdkColormap</span></a>
</td></tr><tr><td><span class="term"><i class="parameter"><tt>pixel</tt></i> :</span></td><td> pixel value in hardware display format
</td></tr><tr><td><span class="term"><i class="parameter"><tt>result</tt></i> :</span></td><td> <a href="gdk-Colormaps-and-Colors.html#GdkColor"><span class="type">GdkColor</span></a> with red, green, blue fields initialized
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id3161251"></a><h3><a name="gdk-colormap-get-visual"></a>gdk_colormap_get_visual ()</h3><a class="indexterm" name="id3161263"></a><pre class="programlisting"><a href="gdk-Visuals.html#GdkVisual">GdkVisual</a>*  gdk_colormap_get_visual         (<a href="gdk-Colormaps-and-Colors.html#GdkColormap">GdkColormap</a> *colormap);</pre><p>
Returns the visual for which a given colormap was created.</p><p>
</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>colormap</tt></i> :</span></td><td> a <a href="gdk-Colormaps-and-Colors.html#GdkColormap"><span class="type">GdkColormap</span></a>.
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> the visual of the colormap.
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id3161332"></a><h3><a name="gdk-colormap-get-screen"></a>gdk_colormap_get_screen ()</h3><a class="indexterm" name="id3161343"></a><pre class="programlisting"><a href="GdkScreen.html" title="GdkScreen">GdkScreen</a>*  gdk_colormap_get_screen         (<a href="gdk-Colormaps-and-Colors.html#GdkColormap">GdkColormap</a> *cmap);</pre><p>
Gets the screen for which this colormap was created.</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>cmap</tt></i> :</span></td><td> a <a href="gdk-Colormaps-and-Colors.html#GdkColormap"><span class="type">GdkColormap</span></a>
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> the screen for which this colormap was created.

</td></tr></tbody></table></div><p>Since  2.2
</p></div><hr><div class="refsect2" lang="en"><a name="id3161416"></a><h3><a name="gdk-colors-store"></a>gdk_colors_store ()</h3><a class="indexterm" name="id3161427"></a><pre class="programlisting">void        gdk_colors_store                (<a href="gdk-Colormaps-and-Colors.html#GdkColormap">GdkColormap</a> *colormap,
                                             <a href="gdk-Colormaps-and-Colors.html#GdkColor">GdkColor</a> *colors,
                                             gint ncolors);</pre><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Warning</h3><p><tt class="literal">gdk_colors_store</tt> is deprecated and should not be used in newly-written code.</p></div><p>
Changes the value of the first <i class="parameter"><tt>ncolors</tt></i> colors in
a private colormap. This function is obsolete and
should not be used. See <a href="gdk-Colormaps-and-Colors.html#gdk-color-change"><tt class="function">gdk_color_change()</tt></a>.</p><p>
</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>colormap</tt></i> :</span></td><td> a <a href="gdk-Colormaps-and-Colors.html#GdkColormap"><span class="type">GdkColormap</span></a>.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>colors</tt></i> :</span></td><td> the new color values.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>ncolors</tt></i> :</span></td><td> the number of colors to change.
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id3161558"></a><h3><a name="gdk-color-copy"></a>gdk_color_copy ()</h3><a class="indexterm" name="id3161569"></a><pre class="programlisting"><a href="gdk-Colormaps-and-Colors.html#GdkColor">GdkColor</a>*   gdk_color_copy                  (const <a href="gdk-Colormaps-and-Colors.html#GdkColor">GdkColor</a> *color);</pre><p>
Makes a copy of a color structure. The result
must be freed using <a href="gdk-Colormaps-and-Colors.html#gdk-color-free"><tt class="function">gdk_color_free()</tt></a>.</p><p>
</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>color</tt></i> :</span></td><td> a <a href="gdk-Colormaps-and-Colors.html#GdkColor"><span class="type">GdkColor</span></a>.
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> a copy of <i class="parameter"><tt>color</tt></i>.
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id3161653"></a><h3><a name="gdk-color-free"></a>gdk_color_free ()</h3><a class="indexterm" name="id3161664"></a><pre class="programlisting">void        gdk_color_free                  (<a href="gdk-Colormaps-and-Colors.html#GdkColor">GdkColor</a> *color);</pre><p>
Frees a color structure created with 
<a href="gdk-Colormaps-and-Colors.html#gdk-color-copy"><tt class="function">gdk_color_copy()</tt></a>.</p><p>
</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>color</tt></i> :</span></td><td> a <a href="gdk-Colormaps-and-Colors.html#GdkColor"><span class="type">GdkColor</span></a>.
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id3161732"></a><h3><a name="gdk-colors-alloc"></a>gdk_colors_alloc ()</h3><a class="indexterm" name="id3161743"></a><pre class="programlisting">gint        gdk_colors_alloc                (<a href="gdk-Colormaps-and-Colors.html#GdkColormap">GdkColormap</a> *colormap,
                                             gboolean contiguous,
                                             gulong *planes,
                                             gint nplanes,
                                             gulong *pixels,
                                             gint npixels);</pre><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Warning</h3><p><tt class="literal">gdk_colors_alloc</tt> is deprecated and should not be used in newly-written code.</p></div><p>
Allocates colors from a colormap. This function
is obsolete. See <a href="gdk-Colormaps-and-Colors.html#gdk-colormap-alloc-colors"><tt class="function">gdk_colormap_alloc_colors()</tt></a>.
For full documentation of the fields, see 
the Xlib documentation for <tt class="function"><tt class="function">XAllocColorCells()</tt></tt>.</p><p>
</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>colormap</tt></i> :</span></td><td> a <a href="gdk-Colormaps-and-Colors.html#GdkColormap"><span class="type">GdkColormap</span></a>.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>contiguous</tt></i> :</span></td><td> if <tt class="literal">TRUE</tt>, the colors should be allocated
   in contiguous color cells.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>planes</tt></i> :</span></td><td> an array in which to store the plane masks.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>nplanes</tt></i> :</span></td><td> the number of planes to allocate. (Or zero,
   to indicate that the color allocation should not be planar.)
</td></tr><tr><td><span class="term"><i class="parameter"><tt>pixels</tt></i> :</span></td><td> an array into which to store allocated pixel values.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>npixels</tt></i> :</span></td><td> the number of pixels in each plane to allocate.
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> 
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id3161969"></a><h3><a name="gdk-colors-free"></a>gdk_colors_free ()</h3><a class="indexterm" name="id3161980"></a><pre class="programlisting">void        gdk_colors_free                 (<a href="gdk-Colormaps-and-Colors.html#GdkColormap">GdkColormap</a> *colormap,
                                             gulong *pixels,
                                             gint npixels,
                                             gulong planes);</pre><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Warning</h3><p><tt class="literal">gdk_colors_free</tt> is deprecated and should not be used in newly-written code.</p></div><p>
Frees colors allocated with <a href="gdk-Colormaps-and-Colors.html#gdk-colors-alloc"><tt class="function">gdk_colors_alloc()</tt></a>. This
function is obsolete. See <a href="gdk-Colormaps-and-Colors.html#gdk-colormap-free-colors"><tt class="function">gdk_colormap_free_colors()</tt></a>.</p><p>
</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>colormap</tt></i> :</span></td><td> a <a href="gdk-Colormaps-and-Colors.html#GdkColormap"><span class="type">GdkColormap</span></a>.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>pixels</tt></i> :</span></td><td> the pixel values of the colors to free.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>npixels</tt></i> :</span></td><td> the number of values in <i class="parameter"><tt>pixels</tt></i>.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>planes</tt></i> :</span></td><td> the plane masks for all planes to free, OR'd together.
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id3162144"></a><h3><a name="gdk-color-white"></a>gdk_color_white ()</h3><a class="indexterm" name="id3162155"></a><pre class="programlisting">gint        gdk_color_white                 (<a href="gdk-Colormaps-and-Colors.html#GdkColormap">GdkColormap</a> *colormap,
                                             <a href="gdk-Colormaps-and-Colors.html#GdkColor">GdkColor</a> *color);</pre><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Warning</h3><p><tt class="literal">gdk_color_white</tt> is deprecated and should not be used in newly-written code.</p></div><p>
Returns the white color for a given colormap. The resulting
value has already allocated been allocated.</p><p>
</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>colormap</tt></i> :</span></td><td> a <a href="gdk-Colormaps-and-Colors.html#GdkColormap"><span class="type">GdkColormap</span></a>.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>color</tt></i> :</span></td><td> the location to store the color.
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> <tt class="literal">TRUE</tt> if the allocation succeeded.
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id3162264"></a><h3><a name="gdk-color-black"></a>gdk_color_black ()</h3><a class="indexterm" name="id3162275"></a><pre class="programlisting">gint        gdk_color_black                 (<a href="gdk-Colormaps-and-Colors.html#GdkColormap">GdkColormap</a> *colormap,
                                             <a href="gdk-Colormaps-and-Colors.html#GdkColor">GdkColor</a> *color);</pre><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Warning</h3><p><tt class="literal">gdk_color_black</tt> is deprecated and should not be used in newly-written code.</p></div><p>
Returns the black color for a given colormap. The resulting
value has already benn allocated.</p><p>
</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>colormap</tt></i> :</span></td><td> a <a href="gdk-Colormaps-and-Colors.html#GdkColormap"><span class="type">GdkColormap</span></a>.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>color</tt></i> :</span></td><td> the location to store the color.
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> <tt class="literal">TRUE</tt> if the allocation succeeded.
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id3162384"></a><h3><a name="gdk-color-parse"></a>gdk_color_parse ()</h3><a class="indexterm" name="id3162395"></a><pre class="programlisting">gint        gdk_color_parse                 (const gchar *spec,
                                             <a href="gdk-Colormaps-and-Colors.html#GdkColor">GdkColor</a> *color);</pre><p>
Parses a textual specification of a color and fill in
the <i class="structfield"><tt>red</tt></i>,
<i class="structfield"><tt>green</tt></i>, and 
<i class="structfield"><tt>blue</tt></i> fields of a 
<a href="gdk-Colormaps-and-Colors.html#GdkColor"><span class="type">GdkColor</span></a> structure. The color is <span class="emphasis"><em>not</em></span> 
allocated, you must call <a href="gdk-Colormaps-and-Colors.html#gdk-colormap-alloc-color"><tt class="function">gdk_colormap_alloc_color()</tt></a> yourself.
The text string can be in any of the forms accepted
by <tt class="function">XParseColor</tt>; these include
name for a color from <tt class="filename">rgb.txt</tt>, such as
<tt class="literal">DarkSlateGray</tt>, or a hex specification
such as <tt class="literal">305050</tt>.</p><p>
</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>spec</tt></i> :</span></td><td> the string specifying the color.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>color</tt></i> :</span></td><td> the <a href="gdk-Colormaps-and-Colors.html#GdkColor"><span class="type">GdkColor</span></a> to fill in
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> <tt class="literal">TRUE</tt> if the parsing succeeded.
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id3162551"></a><h3><a name="gdk-color-alloc"></a>gdk_color_alloc ()</h3><a class="indexterm" name="id3162562"></a><pre class="programlisting">gint        gdk_color_alloc                 (<a href="gdk-Colormaps-and-Colors.html#GdkColormap">GdkColormap</a> *colormap,
                                             <a href="gdk-Colormaps-and-Colors.html#GdkColor">GdkColor</a> *color);</pre><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Warning</h3><p><tt class="literal">gdk_color_alloc</tt> is deprecated and should not be used in newly-written code. Use <a href="gdk-Colormaps-and-Colors.html#gdk-colormap-alloc-color"><tt class="function">gdk_colormap_alloc_color()</tt></a> instead.</p></div><p>
Allocates a single color from a colormap.</p><p>
</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>colormap</tt></i> :</span></td><td> a <a href="gdk-Colormaps-and-Colors.html#GdkColormap"><span class="type">GdkColormap</span></a>.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>color</tt></i> :</span></td><td> The color to allocate. On return, the 
   <i class="structfield"><tt>pixel</tt></i> field will be filled in.
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> <tt class="literal">TRUE</tt> if the allocation succeeded.

</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id3162686"></a><h3><a name="gdk-color-change"></a>gdk_color_change ()</h3><a class="indexterm" name="id3162697"></a><pre class="programlisting">gint        gdk_color_change                (<a href="gdk-Colormaps-and-Colors.html#GdkColormap">GdkColormap</a> *colormap,
                                             <a href="gdk-Colormaps-and-Colors.html#GdkColor">GdkColor</a> *color);</pre><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Warning</h3><p><tt class="literal">gdk_color_change</tt> is deprecated and should not be used in newly-written code.</p></div><p>
Changes the value of a color that has already
been allocated. If <i class="parameter"><tt>colormap</tt></i> is not a private
colormap, then the color must have been allocated
using <a href="gdk-Colormaps-and-Colors.html#gdk-colormap-alloc-colors"><tt class="function">gdk_colormap_alloc_colors()</tt></a> with the 
<i class="parameter"><tt>writeable</tt></i> set to <tt class="literal">TRUE</tt>.</p><p>
</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>colormap</tt></i> :</span></td><td> a <a href="gdk-Colormaps-and-Colors.html#GdkColormap"><span class="type">GdkColormap</span></a>.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>color</tt></i> :</span></td><td> a <a href="gdk-Colormaps-and-Colors.html#GdkColor"><span class="type">GdkColor</span></a>, with the color to change
in the <i class="structfield"><tt>pixel</tt></i> field,
and the new value in the remaining fields.
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> <tt class="literal">TRUE</tt> if the color was successfully changed.
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id3162848"></a><h3><a name="gdk-color-equal"></a>gdk_color_equal ()</h3><a class="indexterm" name="id3162858"></a><pre class="programlisting">gboolean    gdk_color_equal                 (const <a href="gdk-Colormaps-and-Colors.html#GdkColor">GdkColor</a> *colora,
                                             const <a href="gdk-Colormaps-and-Colors.html#GdkColor">GdkColor</a> *colorb);</pre><p>
Compares two colors.</p><p>
</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>colora</tt></i> :</span></td><td> a <a href="gdk-Colormaps-and-Colors.html#GdkColor"><span class="type">GdkColor</span></a>.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>colorb</tt></i> :</span></td><td> another <a href="gdk-Colormaps-and-Colors.html#GdkColor"><span class="type">GdkColor</span></a>.
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> <tt class="literal">TRUE</tt> if the two colors compare equal
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id3162961"></a><h3><a name="gdk-color-hash"></a>gdk_color_hash ()</h3><a class="indexterm" name="id3162972"></a><pre class="programlisting">guint       gdk_color_hash                  (const <a href="gdk-Colormaps-and-Colors.html#GdkColor">GdkColor</a> *colora);</pre><p>
A hash function suitable for using for a hash
table that stores <a href="gdk-Colormaps-and-Colors.html#GdkColor"><span class="type">GdkColor</span></a>'s.</p><p>
</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>colora</tt></i> :</span></td><td> a <a href="gdk-Colormaps-and-Colors.html#GdkColor"><span class="type">GdkColor</span></a>.
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> The hash function appled to <i class="parameter"><tt>colora</tt></i>
</td></tr></tbody></table></div></div></div></div><table class="navigation" width="100%" summary="Navigation footer" cellpadding="2" cellspacing="0"><tr valign="middle"><td align="left"><a accesskey="p" href="gdk-Pixbufs.html"><b>&lt;&lt; Pixbufs</b></a></td><td align="right"><a accesskey="n" href="gdk-Visuals.html"><b>Visuals &gt;&gt;</b></a></td></tr></table></body></html>
