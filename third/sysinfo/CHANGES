12/12/98

* Release 3.5 FINAL.
* Release 3.5-beta3
* Makefile: Remove 'h' opt tar for 'bindist' because bsdos4 doesn't support it.
* Use (char *) casts instead of declares in mcl.c to fix AIX 4.2.
* SUN: Fix coredump + make tapes and disks appear on sunos4.
* Enable SIM_GERR (general error) msgs when -debug is used.
* Linux: Actual include all the linux files in the distribution!
* SUN: Fix compile-time warnings in mcl.c and options.c for sunos4.
* SUN: Remove unnecessary memory malloc for each diskdrive.
* SUN: Various compile time fixes for sunos4.  (Tom Schmidt)
* Change SCSI_CMD_TIMEOUT to MySCSI_CMD_TIMEOUT
* SUN: Change 'mti' and 'mcp' back to 'generic' to fix on sunos4. (Tom Schmidt)
* build/buildinfo: Use /bin/mach on sunos4.  (Tom Schmidt)

11/23/98

* Release 3.5-beta1
* Fix 3.5 bug:Need to return strdup(GetDisklabel()).
* Add list of driver names for which we ignore the Serial number for comparisions.
* SUN: Make mti and mcp generic/serial for sunos4 compatibility.
* Hardcode license product name as 'sysinfo'.
* Fix URL for getting license.
* SUN: Add 'qfe' to config/sunos.cf (Avi Deitcher)
* Strip binaries on 'make install'.
* Use Val==0 compares for 64-bit types.
* SUN: Add new Ultra 5/10 Model 333 and 360.

10/18/98
* Release 3.5-beta0

* Fix 'default:' make target to print nice message if this is a binary dist.
* SUN: Update sysconf() values for Solaris 7.
* Improve CleanString() to remove repeated "inside" whitespace in variables.
* AIX: Add "H50" System Model.
* AIX: Cleanup VPD parsing.
* AIX: Parse VPD into Serial, Vendor, ModelDesc.
* Revamp "**UNSUPPORTED**" to not break on -debug.
* HPUX: Use pstat_swapinfo() to get Virtual Memory amount.
* Use ani_max for VirtMem in GetVirtMemAnoninfo() (Avi Deitcher).
* Fix bug where partition SIZE would sometimes be 0 when Sector Size == 0.
* Add check to see if SCSI INQUIRY data is alpha-numeric due to HPUX garbage.
* SGI: Add support for querying SCSI devices with SCSI commands.
* Change 'device' entries in .cf files to have new Vendor and Class fields.
* Add runtime check to make sure we're running on same platform as built on.
* GetDiskSize(); Use PhyCyl if DataCyl not available.
* Much improved PCI device identification.
* Device names ending with a digit are now "name(unit)".
* SUN: Fix problem where flashprom, clock, and other devs showed up only once.
* Reduce overuse of large (BUFSIZ) static buffers.
* Add much improved bounds checking by using snprintf() in place of sprintf().
* Major performance improvement: replace FindDevice*() with all-new DevFind().
* SUN: Fix GetLongValStr() to work on 64-bit Solaris 7 systems.
* SUN: Perf improvement: Changing KDT decoding to use static buffer, not malloc
* SUN: Add improved Floppy support (whenever VolMgt isn't in the way).
* Add ability to show DOS Partitions on i386 platforms.
* SUN: Cleanup AltName code for DiskDrive's.
* SUN: Only use disk VTOC label if checks out SANE.
* Fix subtle bug where not all DescList items where being added/displayed.
* SUN: Specify 30 second timeout for all SCSI queries.
* Change '-format report' to not output params that are not set.
* SUN: CPU devices now show speed as seperate from Model of CPU.
* SUN: Parse OBP 'model' and extract and expand Vendor name.
* Make new std DevInfo members: Vendor, Serial, Revision.
* SUN: Fix problems where dual ported disks (A5000) don't show up at all.
* Add ClassType handling in output.
* Only print valid params for '-output report'.
* Use ProbeGeneric() to create DevInfo base.
* Cleanup SetMacInfo() calls to use DevInfo_t instead of ProbeData_t.
* Cleanup ifreq and ifconf table lookups.
* SUN: Improve -debug output for OBP and KDT.
* SGI: Update list of SGI system models in config/irix.cf.
* SGI: Port to IRIX 6.5.
* SGI: Move graphics <sys/*.h> stuff into os-irix.h for IRIX 6.5 and beyond.
* SGI: Update GR2 info.
* Fix the problem where some devices like "flashprom" don't have a Unit
  number listed when the should.
* SUN: Add A5000 devices to config/sunos.cf.
* SGI: Add IRIX 6.5 changes.
* SGI: More MGRAS graphics info.
* SUN: Report more info about SCSI devices.
* SUN: Add Ultra 10 Model 333 and Ultra 250 definetions to config/sunos.cf.
* HP: Add full Device support.
* Use $(MAKE) for "make install" target.
* SUN: Add "atf" device definetion.
* Add "bigger" banners for General Info, Kernel, Device, etc.
* SUN: Fix problem where Sysmodel wasn't able to tell "Ultra 5" vs "Ultra 10"
* SUN: Add new 'OS Release' info: i.e. "Solaris 2.6 HW:2 s297s_hw2wos_09 SPARC"
* SUN: Add better "CPU Type" output on most Solaris 2.x OS's.
* SUN: Add '64-bit' to kernel version string on 64-bit 2.7 and later systems.
* SGI: Look for LUN disk devices named dksXdXlX.
* SUN: Add support for compiling on 64-bit Solaris 2.7 systems.
* SGI: Fix compile time problem on 32-bit IRIX 6.x systems.
* SUN: Add Ultra 2 x300 Models.
* SUN: Add SPARCstation 10SX model definetions. (Tom Schmidt)
* SUN: Fix problem with SuperSPARC systems not displaying correct "System Model"
* SUN: Allow SubSysModel entry to specify CPUspeedDelta.
* SUN: Make monitor devices show up on SunOS 4.x and non OBP systems.
* SUN: Fix gcc compile warning about OBPgetCPUspeed().
* SUN: Add SPARCsystem 600 model definetions. (Tom Schmidt)
* SUN: Fix problem with SunOS 4 systems not always showing FrameBuffers.
* SUN: Cleanup SCSI disk/tape Model names.
* SUN: Fix a memory leak in KDT code.
* SUN: Fix problem with misidentified SS10 and SS20 models.
* SUN: Add Ultra 60 Model definetion.
* SUN: Add improved identification of PCI devices.
* Add new config/pci.cf with list of standard PCI vendors and devices.
* Improve canonical device name usage.
* SUN: Update framebuffer entries.
* SUN: Use Solaris volmgt_* API for diskdrive devices.
* SUN: Improved "System Model" info for x86 machines.
* SUN: Add 'clock-board' to config/sunos.cf for Enterprise servers.
* Disallow -cfdir if we're setuid(0), but not being invoked by root.
* Revise handling of .cf files to support new master /etc/sysinfo.cf.
* Add new "ConfDir" keyword for .cf files.
* Fix path problem in 'ostype' to prevent compile time problem.
* SUN: Fix several SunOS 4.1.x compile time problems.
* Display warning message if not running as root on OS's that need it.
* SUN: Fix bug where some OBP variables where not displayed.
* SUN: Move FrameBuffer code from os-sunos.c to sunos-fb.c and cleanup.
* SUN: tcx can be either 8 (SS4) or 24-bit (SS5), update config/sunos.cf
* SUN: Combine "zx" and "leo" entries in config/sunos.cf.
* HPUX: Specify '-Ae' for `cc' on HPUX 10 - need for new SIMsg().
* SGI: Add #if defined(HAVE_GRAPHICS_HDRS) wrapper around all graphics code.
* Implement new ProbeData_t type for all std Probe*() routines.
* Add new -msgclass option and change all printf(),Error() calls to new SIMsg()
* Rename -level to -msglevel
* Remove obsolete and unused +/-all command line option.
* Rename info-netif.c to netif-info.c
* Implement new ProbeData_t API for probe routines.
* Print list of device's /dev files.

4/12/98

* Version 3.4 FINAL

3/18/98

* SUN: Revamp code to get full system model (i.e. "Ultra 10 Model 300") to
	use more general conditional statements (see config/sunos.cf).  Also
	add ability to use system clock frequency for such conditional tests.
* SUN: Add 'Current Resolution: HxW@refresh' for frame buffers.
* SUN: Add ability to check for monitor's and create psuedo devices when found.
* SUN: Create monitorX devices when monitors are detected.
* SUN: Improved matching of framebuffers (TurboGX vs. GX) and other hw.
* Renamed source files *-sunos.? to sunos-*.?
* SUN: Fixed output from KDT probe during -debug.
* Add more types of device type names (mfc, ptr).
* SUN: Use info from SCSI query for SCSI disk+tape model names.
* SUN: Add extra checking for empty return values from SCSI Inqueries.
* SUN: Add support for Sun Ultra 5 and Ultra 10.
* SUN: Fixed bug in code which determines specific model of Sun.
	Certain systems would not be identified which depend on test like
	having a 'upa'.
* SUN: Update support for Solaris 2.6 on i86pc (x86).
* SUN: Use Vendor+Model from SCSI query for Disk Model info when
	disk label (vtoc) info is missing.
* Add -|+useconfig option.
* Show platform info with -version.
* Add 'bindist' target to Makefile.
* Add changes to Makefile to support binary install model.
* Changed CONFIG_DIR to "/var/local/conf/sysinfo".
* HPUX: Make Kern Arch work for HPUX 10.x
* AIX: Fixed bug where devices where not always attached to their parent.
* AIX: Add casting fix in boottime.c for AIX 4.2.
* SUN: GetMemory*() now had a better chance of compiling under SunOS < 5.5.
* SUN: Add ability to show Creator vs. Creator3D for FFB's.
* SUN: Add Ultra-5/10/30 devices.
* Add support for [u]int64_t kernel variables.
* Add support for various 64-bit sizes.
* IRIX: Make virtual memory work under irix 6.4.
* IRIX: Make disk capacity work under irix 6.4.
* IRIX: Fix file descriptor leak in disk routines.
* SUN, IRIX: Make Virtual Memory work again under Solaris 2.6 and IRIX 6.4.
* SUN: Fixed bug where white space at end of certain strings was not being
zapped.
* Add support for Sun Ultra-30 workstations.
* Check kernel variable return for values = 0.
* Convert numsect and startsec types in disk partition to SYSINFO_LARGE_T.

12/23/97

* Add IRIX 6.4 support.

7/23/97

* Fix bug where disk capacities stopped being shown on non-sunos
machines.

* Add ability to identify specific models of SGI GR2 (and future) 
graphics boards.

7/21/97

* sysinfo.c: Remove unused printf() argument

* os-irix.h, Makefile: Fix compile error on IRIX 6.2.

7/10/97

* irix.cf: New product additions.

* Makefile (test): Use "./" in path to sysinfo for "make test".

* sunos.cf: Use generic probes of floppies to avoid problems with
unloaded media.

* os-sunos5.c: Add support for identifying CDROM drives from
normal hard disks. Still only works when vold is not running.

7/9/97

* sunos.cf: Add Ultra-30/PCI components.

7/1/97

* Makefile (installmeta): Add CONFDIR= to "installmeta" target.

* os-hpux.c: Correct error code handling for pstat() calls.

* os-sunos.c (ScsiGetDesc): Fixed problem with un-initialized SCSI
cmd buffer which was causing occasional console errors on systems
with lots of disk.

* os-hpux.h: Fixed HPUX 10.x compile problem with setresuid().

5/8/97

* Version 3.3 released

5/1/97

* os-aix.c: Fixes for AIX 4.1.

4/27/97

* Makefile (irix6 irix64): Add flags for irix6 to make binaries
work on both 32-bit and 64-bit systems.

* os-aix.c: Fix several incorrect return value checks.

4/25/97

* Version 3.3-beta0.
	
* devices.c: Fixed several SegV bugs in -format report. (Avi Deitcher)

* devices.c: Changed/Fixed disk partition printing in "-format
report" to indicate disk device name.


4/24/97

* os-sunos5.c (_ProbeDiskDrive): Add support for opening Tape
devices with O_NDELAY which will now work even if no media is loaded.
Added calls to SCSI INQUIRY code.

* os-sunos.c (ScsiGetDesc): Add SCSI Inquiry support.  SCSI
devices are now sent an INQUIRY command to get Vendor, Model, and
Revision info.  Works with most devices (including tape drives)
which are not open.  Volume Manager will open devices like CDROMs
so this won't help there.

4/20/97

* devices.c (PrintDiskdrive): Fix segv bug due to occasional
problems with invalid DiskDrive_t structures.  (Howie Kaye)

4/19/97

* netif.c (ProbeNetif): Do a better job of looking for network
interface cards in kernel. (Avi Deitcher) 

* sunos.cf: Add Ross,RT626 (150MHz hyperSPARC) CPUs.

* os-sunos5.c (DKtoDiskDrive): Fix NULL segv when no table of
contents is found on disk. (Avi Deitcher) 

4/12/97

* obp.c (OBPprobe): Add workaround for kbd device not showing up
with parent "aliases".

* config/sunos.cf: Add "aliases" (PROM Device Aliases) entry.
	
* config/sunos.cf: Add SUNW,pcmcia alias to pcmcia bus type.

4/12/97

* os-sunos.c (ProbeFrameBuffer): Add workaround to show frame
buffers which don't respond to standard FBIOGATTR ioctl's.  Fixes
problem with Creator fb's.

4/11/97

* os-irix.h: Add starting in irix 6.2.

* strutil.c (StrToArgv): Fix segv when seperators appear at EOL.

* obp.c (OBPgetSubSysModel): The OBP on Ultra's can report CPU
speed's which are +/-1 from what's expected.  The system model
reported now takes this into account.

* os-sunos.c: Fix compile time bug for SunOS 5.6.

9/4/96

* sysinfo.c (main): Print version info with -debug.

9/3/96

* Version 3.2.2 RELEASE.
	
* kdt-sunos.c (KDTtraverse): Fixed declaration.

8/26/96

* strutil.c (StrToArgv): Fix bug where arg counter was set to 2
when there's only 1 arg. 

* obp.c, cf.c: Fix several ptr param problems with VarSub() calls
(compile time only). 

* devices.c: RootDev needs to be static (fixes SunOS 4.x compile
problem).

8/21/96

* Version 3.2.1 RELEASE.
	
* obp.c: - Fix stupid mistake in determining full system model name.
- Fix several bugs that caused some OBP properties to not be shown.

* getcpu.c (GetNumCpuSysconf): Fix bug with not returning Num of
CPUs with sysconf(). 

8/20/96

* Version 3.2 RELEASE.
	
* Makefile: - Pass down $(MFLAGS) to sub make's.
	- Only use -lgen for SunOS 5.3 or earlier.

8/19/96

* kdt-sunos.c: Add support for non-SPARC platforms (such as x86)
running Solaris 2.x.

8/16/96

* obp.c: - Greatly reduce memory allocation by revamping OBP
property variables.
- Move some of the variable decoding functions out to os-sunos.c

8/15/96

* os-sunos5.c (GetDeviceFile): Fix parameter mismatch in xcalloc().

8/9/96

* sunos.c: The "Serial Number" value for Solaris 2.x machines has
been changed to use the sysinfo() system interface.  The previous
method was to get the value from the IDPROM.  The IDPROM interface
was never reliable and was removed from SunOS as of SunOS 5.6.
	
* obp.c (OBPsetOBPinfo): Add special memory printing for
Ecache-Size and Dcache-Size variables. 

* sunos.cf: Add definetions for SubSysModels and [ed]cache-* obp
variables. 

* getcpu.c (GetNumCpuSysconf): Use static buffer when calling
itoa() to avoid returning bad info. 

* obp.c (OBPgetSysModel): Add ability to get more detailed system
model name by comparing various attributes from the OBP.

7/25/96

* var.c (VarSub): Make Get Variable function module specific.

7/24/96

* os-sunos5.[ch]: Make SPARC specific code #ifdef'ed.

* getman.c (GetMan): Fix NULL de-ref.

7/22/96

* defs.h: Fix divide-by-zero bugs in nsect_to_{bytes,mbytes}
macros. (avi@morgan.com)

7/19/96

* os-sunos5.h: IDPROM isn't support in SunOS 5.6

* sunos.cf: Add Sun Fast Ethernet (hme) interface.
Add Ultra Ex000 parts.

* devices.c (ProbeDevice): Use canonical device names whenever
possible to handle cases where you have names like "SUNW,hme" and
"hme".

* obp.c: Add support for finding more specific
system model name for Sun Ultra Enterprise machines.
Fixed "fence post" bug in OBP property lookup code.

5/6/96

* os-sunos5.c (GetMemorySunOS5): Use sysconf() to get memory sizes
to avoid broken sysmem() in SunOS 5.5 on Ultra's.

3/13/96

* version.h (PATCHLEVEL): Version 3.1.3 RELEASE.

* Revamp Makefile, *.c and *.h files to use new -D platform
definetions in order to support IRIX 6.2 and other future changes.

3/5/96

* Version 3.1.2 RELEASE.

* devices.c: Fix SEGV when run with "-level all -format report" on
certain platforms such as sunos4.

3/4/96

* Version 3.1.1 RELEASE.

* os-hpux.c (GetMemoryPSTAT): Use proper pstat() interface. (Mike
Peterson)

* sysinfo.c (ParseLevel): Fix SEGV bug when bad option is passed
to -level. 

* devices.c (ProbeGeneric): Fix a bug that was causing the Model
Description field to not be shown.

* sunos.cf: Add SunPC definetion.

* config/irix.cf: More updates to SysModels.

2/20/96

* os-irix.c (InvGetDisk): Fix NULL deref bug.

* irix.cf: Add IRIX 6.1 changes.

2/15/96

* Version 3.1 RELEASE.

2/14/96

* devices.c (PrintGeneric): Move description info to description
field in pretty output. 

* os-sunos5.h: regcomp(3c) doesn't exist in sunos 5.3 and earlier.

* obp.c: Place OBP descriptions in the description output field.

2/13/96

* os-sppux.c: SPP-UX 3.x now works.

* Makefile (sppux): Disable optimization reporting.

* Change uname() return value test to allow >= 0 for success.

* irix.cf: Another fix for SysModels -> Challenge.

* sunos.cf: Make SPARC Storage Array parts work.

2/12/96

* Version 3.1-alpha7

* Makefile: Allow installation as something other than "sysinfo".
Add ${PREFIX} to allow easily setting main directory for installation. 

* macinfo.c (SetMacInfo): Add support for IRIX/SIOCGETENADDR for
SetMacInfo(). 

* os-irix.c (GetOSVerSGI): Fix SEGV due to bad bounds checking
when calling sysinfo(). 

* irix.cf: Add/fix SysModels entries for Indy, Challenge, Onyx.

2/8/96

* Version 3.1-alpha6.

* os-irix.c (GetPartUse): Add #ifdef for PTYPE_XFS.

* Version 3.1-alpha5.

* os-irix.c (BuildDevicesInvent): Add support for INV_MISC devices.

* netif.c: Add casting to fix GetNet() compile warnings.

* defs.h (GBYTES): Make *BYTES cast to u_long.

* os-irix.c: Deal with getting Serial Number in different ways.
(InvGetDisplay): Add support for DisplayTypes.

2/7/96

* Version 3.1-alpha4.

* os-irix.c (GetVirtMemSGI): Fixed virtual memory to be actual
total size. (GetSerialSGI): Get full/unique serial number via syssgi().

* devices.c (PrintDiskDrivePretty): Cleanup disk info pretty output.

2/6/96

* sysinfo.man: Updated man page to add new options.

* sysinfo.c: Cleanup -list related code.

* os-irix.c: Attempt fix for INV_SCSIFLOPPY devices.
Add #ifdef for PTYPE_XLV.

2/2/96

* Cleanup sunos[45] disk controller naming.

* os-sunos5.c (_ProbeDiskDrive): Fix to recognized CDROMs when
vold is not running. 

2/1/96

* devices.c (ProbeGeneric): Don't duplicate model description data.

1/22/96

* devices.c (AddDevice): Fix several problems with "-show" not
working properly.

* metasysinfo.sh (PATH): Set $PATH to include the installation
directory of sysinfo. 

* Makefile (test): Add new "test" target.

* Makefile: It's now safe to run "make install" without first
running "make". 

* GNUmakefile (tardist): Build distribution files with
sysinfo-$version top directory. 

* sunos.cf: Add "sdd" for SPARCstorage Array Disk Drives.

* Makefile: Fix "make install" to get CONFDIR and other parameters
right.  (avi@morgan.com (Avi Deitcher))

* class.c: Change "System Configuration" header to be "SysConf
Information". 

* class.c: Use a unified function to show general, kernel, and
sysconf information.  This makes "General" info output consistant
with the kernel and sysconf outputs.

* Add new "-format" option.

* Add new "-type" option.

1/21/96

* boottime.c: Show system boot time under "General" information.

* sunos.cf: Add Sun SES and SPC/S devices. (tschmidt@micron.com (Tom Schmidt))

1/18/96

* define.c (DefGet): Allow KeyNum==0.

1/16/96

* devices.c: Add Type field to disk partition info.

1/15/96

* cf.c (CFdefine): "define" keyword checking is now disabled by
default.

1/9/96

* Version 3.0.6 FINAL.

* kbd-sun.c (xkeycaps_guess_local_keyboard_type): More keyboard
codes. tschmidt@micron.com (Tom Schmidt)

* os-sunos4.h: Add UNSUPPORTED support for sun
3/80. tschmidt@micron.com (Tom Schmidt)

* os-sunos.c: Add back support for non-OBP machines.

1/5/96

* Version 3.0.5 FINAL.

* sysinfo.c: Print copyright message with -version.

* getarch.c (GetKernArchUname): Use uname() to get kernel arch
when availible.  Avoids problem with gettin wrong karch on some
sunos4 systems.

* sunos.cf: Add "options" device to see OBP Settings.
Add SPARCstorage Array components.

* Make "SUNW,tcx" work right.

1/4/96

* Add new hyperSPARC info.

* Version 3.0.4 FINAL.

* sunos.cf: Add definetions for be, fas, ffb.

* obp.c (OBPIOcheckNode): Fix Seg Fault on Sun Ultra machines due
to obsolete function call usage.

* (OBPgetVersion): Try to get "ROM Version" by querying OpenBootPROM
directly (Solaris 2.5 and later).

Fri Jun 30 16:21:16 1995  Michael A. Cooper  

	* sunos.cf: Add tcx definetion.

Wed May 10 14:09:08 1995  Michael A. Cooper  

	* Version 3.0.3 FINAL.

	* Makefile: Fix LD_LIBRARY_PATH security hole.

Mon Apr 24 17:12:42 1995  Michael A. Cooper  

	* Version 3.0.2 FINAL.

Tue Apr 18 14:44:07 1995  Michael A. Cooper  

	* Version 3.0.2 BETA1.

	* os-aix.c (GetVirtMemODM): Fix bug that can sometimes cause virtual 
	memory to be incorrectly calculated. 
	(schreitj@ibch01.inf.tu-dresden.de)

	* virtmem.c (GetVirtMemAnoninfo): Try to avoid overflow. 
	(stolcke@speech.sri.com)

	* metasysinfo: Use basename for exec.

	* config/sunos.cf: Add SunATM.  (guenther@ira.uka.de)
	Add notes about hyperSPARC CPUs.	

	* os-hpux.c: Add #ifdef for HP 800s.

	* metasysinfo: Update installation instructions.

	* Replace bsdinst.sh with full install.sh which is now used by
	default in Makefile.

	* Makefile: Fix "install.man" to work right.

	* config/sunos.cf: Add M70 and M71 CPUs.

	* Add general support for 64-bit systems.

	* run.c (Execute): Add return value.

	* misc.c: Fix casting for *alloc().

Mon Nov 28 14:13:28 1994  Michael A. Cooper  

	* config/sunos.cf: Add udp_chksum.

	* os-aix.h (OSV_MAINT): Fix typo in filename.

	* os-aix.c (GetOSVerFiles): Zap trailing '.' if present.

Wed Nov 23 10:58:28 1994  Michael A. Cooper  

	* Version 3.0.1 FINAL

	* README: Update INSTALL steps to add more warning about build
	steps.

	* Makefile (installmeta): Change `install' and `installmeta'
	targets so that you have to run `make' first.

	* os-hpux.c (GetMemoryPSTAT): Fix memory calculation.

Tue Nov 22 10:58:27 1994  Michael A. Cooper  

	* Version 3.0 FINAL

Tue Nov 15 14:03:58 1994  Michael A. Cooper  

	* Version 3.0 BETA1

	* sysconf.c (SysConfShow): Add support for SysConf (System 
	Configuration) class of information.

Thu Nov 10 18:08:46 1994  Michael A. Cooper  

	* os-aix.h (ARCH_TYPE): Set to "power" instead of "rs6000".

Wed Nov  9 17:45:09 1994  Michael A. Cooper  

	* Add basic support for Convex SPP-UX (2.0.2) and 
	HP-UX 9.x (700 series).

Wed Nov  2 15:43:32 1994  Michael A. Cooper  

	* Add ability to search for specific devices.

Tue Nov  1 13:31:31 1994  Michael A. Cooper  

	* obp.c (OBPdecodeval): Add maximum size check.

	* sysinfo.c: Split -show into -show and -class.

Mon Oct 31 16:59:10 1994  Michael A. Cooper  

	* sysinfo.c: Remove OLD_COMPAT option compatibility for version
	1.* command line options.

Mon Oct 24 15:54:05 1994  Michael A. Cooper  

	* os-sunos5.c (ProbeTapeDrive): Fix bug that caused multiple tape
	drives to all show up as the same type.

Fri Oct 21 15:46:23 1994  Michael A. Cooper  

	* os-aix.c (DecodeVPD): Extract manufacturer and model info from
	ODM for use as primary model description.

Thu Oct 20 14:31:13 1994  Michael A. Cooper  

	* gethost.c: Avoid buggy AIX 3.2.5 cpp.

	* defs.h: Fix declarations of str*() for AIX.

	* obp.c (OBPKgetRoot): Avoid multiple lookups of root device
	info (top_devinfo).

	* os-next.c: Fix typo.

	* os-sunos4.c (ProbeDiskDriveGeneric): If a disk device open fails
	with errno == EBUSY or EIO, we now assume the device does exist.
	This allows us to show CDROM drives without having a CD loaded.

	* run.c: check WIFEXITED() before using WEXITSTATUS(), since child
	may have terminated by signal. 
	(GetRunArgv): Fix bug that caused incorrect Argv to be made.

	* obp.c (OBPIOcheckNode): Fix null deref if we're unable to create
	a TreePtr (due to system perms).  

	* run.c (ExecEnd): ExecEnd may return without a value, or try to
	call SetUserID() with bad arg. 

	* Overhaul to add support for externel config file.

	* os-sunos.c (GetKernArchSun): Look for "_ncpu" symbol to find
	number of CPU's (for SunOS 4).

Tue Aug  9 13:57:04 1994  Michael A. Cooper  

	* os-sunos.c: Disable Get Serial number for SUNOS==4 as the IDPROM
	info from the kernel is incorrect.

Thu Jul 28 17:32:23 1994  Michael A. Cooper  

	* run.c: Support running test programs via a special command like
	/bin/sh.  This is for HPUX which has broken /bin/hp9000s* scripts.


Mon Jul 25 15:07:05 1994  Michael A. Cooper  

	* defs.h: Include 

	* Use new HAVE_GETHOSTID.

	* Add general POSIX support through use of IS_POSIX_SOURCE.

	* config-data.h: Add ARG_TYPE definetions.

Sun Jul 24 22:19:57 1994  Michael A. Cooper  (mcooper@arrakis)

	* info-sunos.c: Add SuperSPARC model 60 and 61.

Sat Jul 23 20:43:42 1994  Michael A. Cooper  (mcooper@arrakis)

	* Use new Platform Specific Interface (PSI) for most
	interfaces to general information.

Fri Jul 22 15:15:41 1994  Michael A. Cooper  

	* sysinfo.c (GetSerialNo): Cleanup GetSerialNo() interface.
	(GetRomVer): Cleanup GetRomVer() interface. 
	(GetModel): Cleanup GetModel() interface.

	* Version 2.1.3 FINAL released.

Tue Jul  5 16:21:23 1994  Michael A. Cooper  

	* os-sunos5.c (GetDeviceFile): Fix problem with floppy disks not 
	showing up. Fix general problem with driver names and device 
	name mismatches.

	* devices.c (PrintDeviceInfo): Don't duplicate Device names in
	output.
	(PrintDiskdrive): Fix bug that prevented floppy disk drives from being 
	shown.

Fri Jul  1 18:27:09 1994  Michael A. Cooper  

	* obp.c (OBPcleanName): Re-write OBPcleanName to better edit names
	such as "SUNW,SPARCstation-10,SX" into "SPARCstation 10SX".

Wed Jun 29 17:49:37 1994  Michael A. Cooper  

	* info-sunos.c: Add new Sun "nf" FDDI/S.

Tue Jun 28 10:57:07 1994  Michael A. Cooper  

	* info-sunos.c: Add SX and ZX frame buffers.
	Add Model 50 SuperSPARC definetion.
	Disable explicit system type for SPARCstation 10 so
	sysinfo will correclty figure out SS10 and the SS20.

Sat Jun 25 19:11:59 1994  Michael A. Cooper  

	* info-sunos.c: Add microSPARC II definetion.

Thu Jun 23 12:50:06 1994  Michael A. Cooper  

	* os-aix.c (GetOSVersionFirst): Add ability to get full OS version
	number (3.2.5 vs. 3.2).

	* kvm.c (KVMget): Change KVMread() to KVMget() and change IsString
	parameter to more generalized DataType.

	* info-sunos.c: Add 66MHz hyperSPARC to CPUtypes.

Wed Jun 22 18:12:06 1994  Michael A. Cooper  

	* obp.c (OBPKcheckDevice): Fix variable name conflict.

Tue Jun 21 17:56:16 1994  Michael A. Cooper  

	* sysinfo.c: Print build information with -version.

	* info-ultrix.c: Add definetions for new R4000 based machines.
	

	* info-aix.c: Update list of RS/6000 types from AIX 3.2.5 uname(1)
	man page.

Sat May 28 14:31:59 1994  Michael A. Cooper  

	* os-sunos[45].c (GetTapeModel): Add support for looking up tape
	drive types from the kernel.

Fri Apr 22 10:10:01 1994  Michael A. Cooper  

	* info-sunos.c (PARTtable): Add Sun DWIS/S definetion.

Mon Mar 21 14:52:41 1994  Michael A. Cooper  

	* obp.c (OBPdecodeval): Increase size of OBP decode buffer to
	avoid core dumping on large OBP values.

Thu Feb 17 19:00:08 1994  Michael A. Cooper  

	* Version 2.1.2

	* Update list of RS/6000 model types.  

	* Use host_info() to get number of CPUs for NeXTStep.

	* Fix ostype to identify NeXTStep 3.x hosts more portable.

Fri Feb 11 10:31:53 1994  Michael A. Cooper  

	* Version 2.1.1

	* Show memory grouping layout for those Sun OpenBoot PROM hosts
	with such a OBP variable.

	* Fix KVMread() to read only up to '\0' for string values in order
	to avoid reading invalid memory pages which can cause Solaris 2.x
	systems to panic.

Mon Jan 24 17:57:54 1994  Michael A. Cooper  

	* Version 2.1 released.

Sun Jan  9 13:05:01 1994  Michael A. Cooper  

	* Change sunos[45] get mount info code to first check current
	mount info files, and then the static info in /etc/{vfstab,fstab}.

Sat Jan  8 20:21:13 1994  Michael A. Cooper  

	* Make device description lists (dv_desclist) dynamic and remove
	dv_desc. 

Tue Dec 28 15:06:53 1993  Michael A. Cooper  

	* Add GetSizeStr() routine to uniformly show sizes and change
	physical and virtual memory routines to use it.

	* Fix problem with total disk and disk capacity sizes being
	reported incorrectly.

Thu Dec 23 15:16:19 1993  Michael A. Cooper  

	* Add support for "metasysinfo" as TOP (William LeFebvre) does
	per a suggesting by Marty Leisner 

Mon Dec 20 14:21:29 1993  Michael A. Cooper  

	* If +terse and -version, then only show version number.

	* Change "SuperSPARC Model 50 SPARCmodule" to be "SuperSPARC Model
	51 SPARCmodule".

	* For Sun OBP: If the CPU type is unknown, use the OBP info to
	construct a name.

	* Don't get geometry info for CDROM's under SUNOS4 since the info
	returned by the CDROM driver is bogus.

	* Add support for determining type of keyboard on Sun's.  Code is
	based on xkeycaps by Jamie Zawinski (jwz@lucid.com).

Fri Dec 17 18:38:36 1993  Michael A. Cooper  

	* Use "_cpu" instead of "_cpusw" for Ultrix.
	ro@TechFak.Uni-Bielefeld.DE (Rainer Orth)

	* Add support for determining virtual memory for Ultrix.
	ro@TechFak.Uni-Bielefeld.DE (Rainer Orth)

	* Fix spelling error "SCSI Initiator ID".

	* Define HAVE_UNAME and HAVE_KERNELVERSION for os-ultrix.h.
	(zins@forwiss.uni-erlangen.de)

	* Change Makefile to support ${MAKE} variable in calls to sub-makes.

Thu Dec 16 14:17:13 1993  Michael A. Cooper  

	* Show number of CPUs on system using sysconf(_SC_NPROCESSORS_CONF).

	* Add support for print "*UNSUPPORTED*" with -debug for
	unsupported features.

Wed Dec 15 15:37:21 1993  Michael A. Cooper  

	* Version 2.0.7

	* Remove support for Alliant's.

	* Run system commands as userid of user who runs sysinfo instead
	of root.

	* Fix problem with AIX not seeing catalogs due to security fix in
	2.0.6.

	* Integrate disk configuration information with normal device
	description list (dv_desclist).

	* Fix printing of disk volume name under SunOS 5.

	* Show size of disk drives on main description line.

	* Use execve() instead of system() to execute commands.

Wed Nov 10 14:47:09 1993  Michael A. Cooper  

	* Version 2.0.6

	* Fix HUGE GAPING security hole.

Fri Oct 15 16:27:10 1993  Michael A. Cooper  

	* Version 2.0.5

	* Add support for getting SunOS 5 "Kernel Version" string.

	* Make test of failure of uname be a test for -1 instead of != 0
	to fix SunOS 5 problem.

Wed Oct 13 14:34:10 1993  Michael A. Cooper  

	* Version 2.0.4

	* SunOS 4.*: Avoid possibly hanging SLC and ELC machines by
	not probing Floppy Disk devices which are not supported on
	those machines.

	* Add Sun CPUtype for "SuperSPARC Model 40 SPARCmodule".

	* SunOS 4.*: Don't attempt DKIOCGCONF and DKIOCSCMD ioctl's on
	CDROM's.  These ioctl's sometimes can cause a system crash due
	to bugs in the CDROM (sr) driver.

Mon Sep 20 11:28:30 1993  Michael A. Cooper

	* Version 2.0.3

	* Add support for NeXTStep 3.1 on NeXT computers.

Wed Jul 28 12:26:08 1993  Michael A. Cooper  

	* Version 2.0.2

Tue Jul  6 17:57:28 1993  Michael A. Cooper  

	* Add support for getting SunOS 5 to detect devices that are not
	"seen" by SunOS until something attempts to use them.  This is 
	especially true of tape drives and such.

Fri Jul  2 16:39:51 1993  Michael A. Cooper  

	* Fix "union sunromvec" from "struct sunromvec" (sunos5).

Wed Jun 16 16:08:25 1993  Michael A. Cooper  

	* Version 2.0.1

	* If an open of a disk device fails, try opening it using the "s2"
	device name since there just may not be an partition "s0" for
	that disk.  [SunOS 5.x specific]

Wed Jun  9 17:36:09 1993  Michael A. Cooper  

	* Version 2.0

Tue Jun  8 11:15:46 1993  Michael A. Cooper  

	* If OBP kernel lookup of system model fails, query OBP directly.
	This is necessary because the root nexus for sun4d hosts under
	SunOS 5.2 hosts is empty.

	* SunOS 5.x get physical memory now works correctly.

	* Cleanup physical and virtual memory functions.

Sun Jun  6 15:44:54 1993  Michael A. Cooper  

	* Version 2.0alpha4

	* Add support for determining amount of virtual memory.

Fri May 14 13:51:01 1993  Michael A. Cooper  

	* Version 2.0alpha3

	* Properly decode OBP mem-unit memory sizes.

	* Handle OBP int values which have a size of > 4.

	* Fix NULL deref bugs.

Tue Apr 20 20:05:32 1993  Michael A. Cooper  

	* Version 2.0alpha2

	* Update CPU types for DEC VAX and MIPS machines running Ultrix.

	* Add support for inserting "fake" system board (sysboard) device
	entries into device tree to simulate real system boards found
	in SPARCcenter-2000 and SPARCserver-1000 machines.

Fri Apr 16 16:40:55 1993  Michael A. Cooper  

	* Version 2.0alpha.1

	* Cleanup names of OBP device nodes.

	* Add -offset option to set number of spaces to offset dev info.

	* Add support for determining part information based on the
	"model" value obtained from the OBP.

Thu Apr 15 11:12:45 1993  Michael A. Cooper  

	* Version 2.0alpha

	* Get System Model from PROM (OBP only) if unable to determine
	model type from kernel variable.

	* Add +/-useprom to enabling getting System Model from PROM.

Wed Apr 14 15:29:21 1993  Michael A. Cooper  

	* Add support for getting System Model on Sun's directly from
	OBP since the kernel doesn't contain this information for
	newer systems like the SPARCclassic and SPARCcenter 2000.

	* Add support for getting MAC address info using DLPI.

Tue Apr 13 16:09:46 1993  Michael A. Cooper  

	* Rename kvm.c to kvmlib.c and KVM.c to kvm.c

	* Add support for getting info from OBP and assigning it for
	almost any existing device.

Mon Apr 12 18:53:11 1993  Michael A. Cooper  

	* Add support for getting information from Open Boot PROM (OBP).
	This includes support for determining information about the type
	of CPU(s) on a system.

	* When adding devices, assume it's better to override older
	information for existing devices.

Fri Apr  9 13:01:05 1993  Michael A. Cooper  

	* Add support for getting serial number from idprom on Suns.

Thu Apr  8 18:15:28 1993  Michael A. Cooper  

	* Move MAC code to macinfo.c

	* Add network interface support for SunOS 5.x.

Mon Apr  5 13:46:52 1993  Michael A. Cooper  

	* Flush stdout before Error().

Sun Apr  4 13:27:23 1993  Michael A. Cooper  

	* Add frame buffer support for getting monitor info from sunos.

	* Add SunOS 5.x frame buffer support.

	* Add SunOS 5.x tape drive support.

	* Add SunOS 5.x disk device support.

	* Misc major cleanup of os-sunos4.c.

	* Recombine SunOS 4.x generic disk and CDROM support.

	* No longer need to hardcode Open Boot PROM root node info in
	info-sunos.c.

Sat Apr  3 17:07:14 1993  Michael A. Cooper  

	* Shift partition info left 10 spaces.

	* Print alt dev name if present.

Fri Apr  2 16:04:57 1993  Michael A. Cooper  

	* Use sysinfo() system call to get manufacturer info if available.

Thu Feb 11 13:47:25 1993  Michael A. Cooper

	* Don't print PATCHLEVEL for -version if == 0.

	* General porting cleanups and re-org of files and functions.

	* Support for Solaris 2.x (General Info only).

Sat Dec 12 15:11:45 1992  Michael A. Cooper  

	* Version 1.1.0.

	* Update support for Tadpole SPARCbook-1.

	* Add support to MkDevName() to indicate no unit number in the
	DevDataTab entry.

	* If a device has a NULL probe routine, ignore it.

Tue Dec  1 20:20:57 1992  Michael A. Cooper  

	* Change order of DEVDATATAB to make it more readable.

	* Print dv_desc for devices without a DevTypes entry.

	* Add DT_CPU type to DevTypes.

	* Add "GNP,DEI" as a sun device.

	* Enable "unknown" mode by default.

Sun Nov 29 17:16:54 1992  Michael A. Cooper  (mcooper@nerf)

	* Add support for looking up Vital Product Data (VPD) from ODM
	under AIX.

	* Replace device->dv_desc[23] with **dv_desclist.

Mon Nov 23 14:53:17 1992  Michael A. Cooper  (mcooper@nerf)

	* New, cleaner interface to KVM and nlist functions.

	* Under AIX, get amount of real memory from ODM CuAt.

	* Under AIX, get system model using the ODM CuAt data.

Fri Nov 20 20:33:41 1992  Michael A. Cooper  (mcooper@nerf)

	* Fix DevDataTab comparison problem with DDT_LENCMP devices.

	* If device unit number is 

	* Add support for looking up devices under AIX 3.x on the RS6000's.

	* Add more description fields.

Mon Nov 16 13:42:40 1992  Michael A. Cooper  

	* Version 1.0.8

	* Add TI,TMS Sun CPU type.

	* Make CPU entries DT_NONE to avoid adding unit number to name.

Thu Nov 12 11:13:36 1992  Michael A. Cooper  

	* Version 1.0.7

	* Remove extraneous ":" from many of the #ifdef's.

	* Add declaration of OpenPROMTraverse().

	* Fix declaration of UsageString() in options.c.

Mon Nov  9 12:43:51 1992  Michael A. Cooper  

	* Version 1.0.6

Wed Oct 28 14:27:27 1992  Michael A. Cooper  

	* Add DKC_INTEL82077 from SunOS 4.1.3.

Thu Oct  1 15:56:12 1992  Michael A. Cooper  

	* Add SPARCsystem 10 and SunOS 4.1.3 items.

Wed Aug 12 21:49:42 1992  Michael A. Cooper  

	* Version 1.0.5

	* Change typical device info line from "Device 
	"
	system model names as "pseudo devices".

Thu Aug  6 19:23:09 1992  Michael A. Cooper  

	* Change OS Name of "Concentrix 2800" to be "Concentrix-2800"
	and "NeXT Mach" to be "NeXTStep".

Fri Jul 31 13:33:17 1992  Michael A. Cooper  

	* Change lookup of device table entries from a string length
	compare to a normal non-length compare.  This means devices
	named something like "scr" won't be mistaken for "sc".

Changes for Version 1.0.3:
Fri Jul 24 15:05:47 1992  Michael A. Cooper  

	* Add Sun device entries for "bf" and SCSI host adapters.

Mon Jul 13 13:15:04 1992  Michael A. Cooper  

	* Change /etc/cpumodel.name to /etc/sysmodel and document this in
	the man page.

Thu Jul  9 16:22:45 1992  Michael A. Cooper  

	* Defining NEED_ETHER_ADDR will make things work under Ultrix 4.[01].

Changes for Version 1.0.2:
Wed Jul  8 09:55:10 1992  Michael A. Cooper  

	* Update Makefile.sunos4 to make things easier for 4.0.3 users.

	* Change Ultrix model name 5000/300 to be 5000/200 and changed
	DS_MAXINE to be the 5000/20.

Changes for Version 1.0.1:
Tue Jul  7 15:27:11 1992  Michael A. Cooper  

	* Add customized Makefile's for each of the major supported OS's.

	* Add wrapper macro for nlist declarations to make the NeXT 2.*
	cc (gcc) compiler happy.  Fix courtesy of Andreas Stolcke 
	

	* Add support for Xylogics SV-{6,7}8xx IPI controller for Suns
	from Rainer Orth (ro@TechFak.Uni-Bielefeld.DE).

	* Add changes from Guy Harris:
	Added an entry for the SPARCengine 1E (6U Eurocard based on the
	SPARCstation 1; there are also SS2-based and, coming up, SS10-based
	SPARCengines, although they're not VME cards).
 
 	Changed the description of the FPA from "Wietek FPA" to "Sun-3 FPA" (it
	uses Weitek - not "Wietek" chips, but it's a Sun product), and expanded
	the extra description to note that it's Weitek-based.
	 
	Added support for various devices on Auspex systems (which required
	adding a hack to get around a botch in the "mb_device" table in our
	current drivers for some of those devices).
 
 	Separated disks from CD-ROMS, giving each its own probe routine; the
	disk probe routine will, if a CD-ROM in the drive happens to have a
	label (as some Sun CD-ROMs do, and as the Auspex system software
	distribution CD-ROM does), act as if the label is something it should
	report (it shouldn't; for example, it should report the disk as a
	CD-ROM, not whatever glop appears in the label).
 
 	Fixed "ProbeTapeDrive()" to use the no-rewind device, so that it doesn't
	run the risk of rewinding the tape out from under somebody.
 
 	Put comments at the front of the probe routines for tapes and CD-ROMs to
	indicate that they may fail even if the device exists - i.e., if there's
	no medium in the drive, or if somebody's using the tape drive;
	unfortunately, I don't know of a good fix for that problem.
