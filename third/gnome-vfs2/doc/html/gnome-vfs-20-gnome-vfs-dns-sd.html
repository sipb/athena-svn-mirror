<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Zeroconf networking support</title><meta name="generator" content="DocBook XSL Stylesheets V1.66.1"><link rel="start" href="index.html" title="GnomeVFS - Filesystem Abstraction library"><link rel="up" href="networking.html" title="Networking"><link rel="prev" href="networking.html" title="Networking"><link rel="next" href="gnome-vfs-20-gnome-vfs-resolve.html" title="DNS Resolution"><meta name="generator" content="GTK-Doc V1.2 (XML mode)"><style type="text/css">
        .synopsis, .classsynopsis {
            background: #eeeeee;
            border: solid 1px #aaaaaa;
            padding: 0.5em;
        }
        .programlisting {
            background: #eeeeff;
            border: solid 1px #aaaaff;
            padding: 0.5em;
        }
        .variablelist {
            padding: 4px;
            margin-left: 3em;
        }
        .navigation {
            background: #ffeeee;
            border: solid 1px #ffaaaa;
            margin-top: 0.5em;
            margin-bottom: 0.5em;
        }
        .navigation a {
            color: #770000;
        }
        .navigation a:visited {
            color: #550000;
        }
        .navigation .title {
            font-size: 200%;
        }
      </style></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><table class="navigation" width="100%" summary="Navigation header" cellpadding="2" cellspacing="2"><tr valign="middle"><td><a accesskey="p" href="networking.html"><img src="left.png" width="24" height="24" border="0" alt="Prev"></a></td><td><a accesskey="u" href="networking.html"><img src="up.png" width="24" height="24" border="0" alt="Up"></a></td><td><a accesskey="h" href="index.html"><img src="home.png" width="24" height="24" border="0" alt="Home"></a></td><th width="100%" align="center">GnomeVFS - Filesystem Abstraction library</th><td><a accesskey="n" href="gnome-vfs-20-gnome-vfs-resolve.html"><img src="right.png" width="24" height="24" border="0" alt="Next"></a></td></tr></table><div class="refentry" lang="en"><a name="gnome-vfs-20-gnome-vfs-dns-sd"></a><div class="titlepage"></div><div class="refnamediv"><h2><span class="refentrytitle">Zeroconf networking support</span></h2><p>Zeroconf networking support &#8212; Gets information about available Zeroconf (aka <span class="trademark">RendezVous</span>&#8482;) services on a local network.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><pre class="synopsis">



void        (<a href="gnome-vfs-20-gnome-vfs-dns-sd.html#GnomeVFSDNSSDResolveCallback">*GnomeVFSDNSSDResolveCallback</a>) (GnomeVFSDNSSDResolveHandle *handle,
                                             <a href="gnome-vfs-20-gnome-vfs-result.html#GnomeVFSResult">GnomeVFSResult</a> result,
                                             const <a href="gnome-vfs-20-gnome-vfs-dns-sd.html#GnomeVFSDNSSDService">GnomeVFSDNSSDService</a> *service,
                                             const char *host,
                                             int port,
                                             const GHashTable *text,
                                             int text_raw_len,
                                             const char *text_raw,
                                             gpointer callback_data);
enum        <a href="gnome-vfs-20-gnome-vfs-dns-sd.html#GnomeVFSDNSSDServiceStatus">GnomeVFSDNSSDServiceStatus</a>;
struct      <a href="gnome-vfs-20-gnome-vfs-dns-sd.html#GnomeVFSDNSSDService">GnomeVFSDNSSDService</a>;
void        (<a href="gnome-vfs-20-gnome-vfs-dns-sd.html#GnomeVFSDNSSDBrowseCallback">*GnomeVFSDNSSDBrowseCallback</a>)  (GnomeVFSDNSSDBrowseHandle *handle,
                                             <a href="gnome-vfs-20-gnome-vfs-dns-sd.html#GnomeVFSDNSSDServiceStatus">GnomeVFSDNSSDServiceStatus</a> status,
                                             const <a href="gnome-vfs-20-gnome-vfs-dns-sd.html#GnomeVFSDNSSDService">GnomeVFSDNSSDService</a> *service,
                                             gpointer callback_data);
<a href="gnome-vfs-20-gnome-vfs-result.html#GnomeVFSResult">GnomeVFSResult</a> <a href="gnome-vfs-20-gnome-vfs-dns-sd.html#gnome-vfs-dns-sd-browse">gnome_vfs_dns_sd_browse</a>      (GnomeVFSDNSSDBrowseHandle **handle,
                                             const char *domain,
                                             const char *type,
                                             <a href="gnome-vfs-20-gnome-vfs-dns-sd.html#GnomeVFSDNSSDBrowseCallback">GnomeVFSDNSSDBrowseCallback</a> callback,
                                             gpointer callback_data,
                                             GDestroyNotify callback_data_destroy_func);
<a href="gnome-vfs-20-gnome-vfs-result.html#GnomeVFSResult">GnomeVFSResult</a> <a href="gnome-vfs-20-gnome-vfs-dns-sd.html#gnome-vfs-dns-sd-stop-browse">gnome_vfs_dns_sd_stop_browse</a> (GnomeVFSDNSSDBrowseHandle *handle);
<a href="gnome-vfs-20-gnome-vfs-result.html#GnomeVFSResult">GnomeVFSResult</a> <a href="gnome-vfs-20-gnome-vfs-dns-sd.html#gnome-vfs-dns-sd-resolve">gnome_vfs_dns_sd_resolve</a>     (GnomeVFSDNSSDResolveHandle **handle,
                                             const char *name,
                                             const char *type,
                                             const char *domain,
                                             int timeout,
                                             <a href="gnome-vfs-20-gnome-vfs-dns-sd.html#GnomeVFSDNSSDResolveCallback">GnomeVFSDNSSDResolveCallback</a> callback,
                                             gpointer callback_data,
                                             GDestroyNotify callback_data_destroy_func);
<a href="gnome-vfs-20-gnome-vfs-result.html#GnomeVFSResult">GnomeVFSResult</a> <a href="gnome-vfs-20-gnome-vfs-dns-sd.html#gnome-vfs-dns-sd-cancel-resolve">gnome_vfs_dns_sd_cancel_resolve</a>
                                            (GnomeVFSDNSSDResolveHandle *handle);
<a href="gnome-vfs-20-gnome-vfs-result.html#GnomeVFSResult">GnomeVFSResult</a> <a href="gnome-vfs-20-gnome-vfs-dns-sd.html#gnome-vfs-dns-sd-browse-sync">gnome_vfs_dns_sd_browse_sync</a> (const char *domain,
                                             const char *type,
                                             int timeout_msec,
                                             int *n_services,
                                             <a href="gnome-vfs-20-gnome-vfs-dns-sd.html#GnomeVFSDNSSDService">GnomeVFSDNSSDService</a> **services);
<a href="gnome-vfs-20-gnome-vfs-result.html#GnomeVFSResult">GnomeVFSResult</a> <a href="gnome-vfs-20-gnome-vfs-dns-sd.html#gnome-vfs-dns-sd-resolve-sync">gnome_vfs_dns_sd_resolve_sync</a>
                                            (const char *name,
                                             const char *type,
                                             const char *domain,
                                             int timeout_msec,
                                             char **host,
                                             int *port,
                                             GHashTable **text,
                                             int *text_raw_len,
                                             char **text_raw);
void        <a href="gnome-vfs-20-gnome-vfs-dns-sd.html#gnome-vfs-dns-sd-service-list-free">gnome_vfs_dns_sd_service_list_free</a>
                                            (<a href="gnome-vfs-20-gnome-vfs-dns-sd.html#GnomeVFSDNSSDService">GnomeVFSDNSSDService</a> *services,
                                             int n_services);
<a href="gnome-vfs-20-gnome-vfs-result.html#GnomeVFSResult">GnomeVFSResult</a> <a href="gnome-vfs-20-gnome-vfs-dns-sd.html#gnome-vfs-dns-sd-list-browse-domains-sync">gnome_vfs_dns_sd_list_browse_domains_sync</a>
                                            (const char *domain,
                                             int timeout_msec,
                                             GList **domains);
GList*      <a href="gnome-vfs-20-gnome-vfs-dns-sd.html#gnome-vfs-get-default-browse-domains">gnome_vfs_get_default_browse_domains</a>
                                            (void);
</pre></div><div class="refsect1" lang="en"><a name="id2605713"></a><h2>Description</h2><p>

</p></div><div class="refsect1" lang="en"><a name="id2605723"></a><h2>Details</h2><div class="refsect2" lang="en"><a name="id2605728"></a><h3><a name="GnomeVFSDNSSDResolveCallback"></a>GnomeVFSDNSSDResolveCallback ()</h3><a class="indexterm" name="id2605740"></a><pre class="programlisting">void        (*GnomeVFSDNSSDResolveCallback) (GnomeVFSDNSSDResolveHandle *handle,
                                             <a href="gnome-vfs-20-gnome-vfs-result.html#GnomeVFSResult">GnomeVFSResult</a> result,
                                             const <a href="gnome-vfs-20-gnome-vfs-dns-sd.html#GnomeVFSDNSSDService">GnomeVFSDNSSDService</a> *service,
                                             const char *host,
                                             int port,
                                             const GHashTable *text,
                                             int text_raw_len,
                                             const char *text_raw,
                                             gpointer callback_data);</pre><p>
Callback for the <a href="gnome-vfs-20-gnome-vfs-dns-sd.html#gnome-vfs-dns-sd-resolve"><tt class="function">gnome_vfs_dns_sd_resolve()</tt></a> function that is called
when a service has been resolved.
</p><p>
The <i class="parameter"><tt>host</tt></i> and <i class="parameter"><tt>port</tt></i> can be used to contact the requested service, and
<i class="parameter"><tt>text</tt></i> contains additional options as defined for the type requested.
</p><p>
To check for options being set in <i class="parameter"><tt>text</tt></i> without any value ("key" as
opposed to "key=value") you must use <tt class="function">g_hash_table_lookup_extended()</tt>, since
they are stored in the hash table with a NULL value, and <tt class="function">g_hash_table_lookup()</tt>
can't tell that from the case where the key is not in the hash table.</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>handle</tt></i> :</span></td><td> handle of the operation generating the callback
</td></tr><tr><td><span class="term"><i class="parameter"><tt>result</tt></i> :</span></td><td> whether the resolve succeeded or not
</td></tr><tr><td><span class="term"><i class="parameter"><tt>service</tt></i> :</span></td><td> the service that was resolved
</td></tr><tr><td><span class="term"><i class="parameter"><tt>host</tt></i> :</span></td><td> the host name or ip of the host hosting the service
</td></tr><tr><td><span class="term"><i class="parameter"><tt>port</tt></i> :</span></td><td> the port number to use for the service
</td></tr><tr><td><span class="term"><i class="parameter"><tt>text</tt></i> :</span></td><td> a hash table giving additional options about the service
</td></tr><tr><td><span class="term"><i class="parameter"><tt>text_raw_len</tt></i> :</span></td><td> length of <i class="parameter"><tt>text_raw</tt></i>
</td></tr><tr><td><span class="term"><i class="parameter"><tt>text_raw</tt></i> :</span></td><td> raw version of the additional options in <i class="parameter"><tt>text</tt></i>
</td></tr><tr><td><span class="term"><i class="parameter"><tt>callback_data</tt></i> :</span></td><td> user data defined when the callback was established
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2606054"></a><h3><a name="GnomeVFSDNSSDServiceStatus"></a>enum GnomeVFSDNSSDServiceStatus</h3><a class="indexterm" name="id2606066"></a><pre class="programlisting">typedef enum {
	GNOME_VFS_DNS_SD_SERVICE_ADDED,
	GNOME_VFS_DNS_SD_SERVICE_REMOVED
} GnomeVFSDNSSDServiceStatus;
</pre><p>

</p></div><hr><div class="refsect2" lang="en"><a name="id2606082"></a><h3><a name="GnomeVFSDNSSDService"></a>struct GnomeVFSDNSSDService</h3><a class="indexterm" name="id2606094"></a><pre class="programlisting">struct GnomeVFSDNSSDService {

	char *name;
	char *type;
	char *domain;
};
</pre><p>

</p></div><hr><div class="refsect2" lang="en"><a name="id2606110"></a><h3><a name="GnomeVFSDNSSDBrowseCallback"></a>GnomeVFSDNSSDBrowseCallback ()</h3><a class="indexterm" name="id2606122"></a><pre class="programlisting">void        (*GnomeVFSDNSSDBrowseCallback)  (GnomeVFSDNSSDBrowseHandle *handle,
                                             <a href="gnome-vfs-20-gnome-vfs-dns-sd.html#GnomeVFSDNSSDServiceStatus">GnomeVFSDNSSDServiceStatus</a> status,
                                             const <a href="gnome-vfs-20-gnome-vfs-dns-sd.html#GnomeVFSDNSSDService">GnomeVFSDNSSDService</a> *service,
                                             gpointer callback_data);</pre><p>
Callback for the <a href="gnome-vfs-20-gnome-vfs-dns-sd.html#gnome-vfs-dns-sd-browse"><tt class="function">gnome_vfs_dns_sd_browse()</tt></a> function that informs
the user of services that are added or removed.</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>handle</tt></i> :</span></td><td> handle of the operation generating the callback
</td></tr><tr><td><span class="term"><i class="parameter"><tt>status</tt></i> :</span></td><td> whether a service addition or removal was detected
</td></tr><tr><td><span class="term"><i class="parameter"><tt>service</tt></i> :</span></td><td> the service that was discovered or removed
</td></tr><tr><td><span class="term"><i class="parameter"><tt>callback_data</tt></i> :</span></td><td> user data defined when the callback was established
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2606254"></a><h3><a name="gnome-vfs-dns-sd-browse"></a>gnome_vfs_dns_sd_browse ()</h3><a class="indexterm" name="id2606265"></a><pre class="programlisting"><a href="gnome-vfs-20-gnome-vfs-result.html#GnomeVFSResult">GnomeVFSResult</a> gnome_vfs_dns_sd_browse      (GnomeVFSDNSSDBrowseHandle **handle,
                                             const char *domain,
                                             const char *type,
                                             <a href="gnome-vfs-20-gnome-vfs-dns-sd.html#GnomeVFSDNSSDBrowseCallback">GnomeVFSDNSSDBrowseCallback</a> callback,
                                             gpointer callback_data,
                                             GDestroyNotify callback_data_destroy_func);</pre><p>
Browses <i class="parameter"><tt>domain</tt></i> for services of the type <i class="parameter"><tt>type</tt></i>, calling <i class="parameter"><tt>callback</tt></i> whenever
a new one is found or removed.
</p><p>
The domain to use can be "local" for multicast dns on the local network
(known as mDNS), or it can be the domain of the current host. You can also
use <a href="gnome-vfs-20-gnome-vfs-dns-sd.html#gnome-vfs-dns-sd-list-browse-domains-sync"><tt class="function">gnome_vfs_dns_sd_list_browse_domains_sync()</tt></a> to get a list of domain
that are interesting for a domain.
</p><p>
The type is a string of the form "_type._tcp" or "_type._udp", where type
is a service type registered at http://www.dns-sd.org/ServiceTypes.html.</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>handle</tt></i> :</span></td><td> A pointer to a pointer to a GnomeVFSDNSSDBrowseHandle object
</td></tr><tr><td><span class="term"><i class="parameter"><tt>domain</tt></i> :</span></td><td> The dns domain to browse, or "local" for multicast DNS
</td></tr><tr><td><span class="term"><i class="parameter"><tt>type</tt></i> :</span></td><td> The type of services to browse for
</td></tr><tr><td><span class="term"><i class="parameter"><tt>callback</tt></i> :</span></td><td> function to be called when services are discovered
</td></tr><tr><td><span class="term"><i class="parameter"><tt>callback_data</tt></i> :</span></td><td> data to pass <i class="parameter"><tt>callback</tt></i>
</td></tr><tr><td><span class="term"><i class="parameter"><tt>callback_data_destroy_func</tt></i> :</span></td><td> optional destructor function for <i class="parameter"><tt>callback_data</tt></i>
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> An integer representing the result of the operation
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2606495"></a><h3><a name="gnome-vfs-dns-sd-stop-browse"></a>gnome_vfs_dns_sd_stop_browse ()</h3><a class="indexterm" name="id2606507"></a><pre class="programlisting"><a href="gnome-vfs-20-gnome-vfs-result.html#GnomeVFSResult">GnomeVFSResult</a> gnome_vfs_dns_sd_stop_browse (GnomeVFSDNSSDBrowseHandle *handle);</pre><p>
Stops browsing a domain stared with <a href="gnome-vfs-20-gnome-vfs-dns-sd.html#gnome-vfs-dns-sd-browse"><tt class="function">gnome_vfs_dns_sd_browse()</tt></a></p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>handle</tt></i> :</span></td><td> handle of the browse operation to be stopped
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> An integer representing the result of the operation
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2606580"></a><h3><a name="gnome-vfs-dns-sd-resolve"></a>gnome_vfs_dns_sd_resolve ()</h3><a class="indexterm" name="id2606591"></a><pre class="programlisting"><a href="gnome-vfs-20-gnome-vfs-result.html#GnomeVFSResult">GnomeVFSResult</a> gnome_vfs_dns_sd_resolve     (GnomeVFSDNSSDResolveHandle **handle,
                                             const char *name,
                                             const char *type,
                                             const char *domain,
                                             int timeout,
                                             <a href="gnome-vfs-20-gnome-vfs-dns-sd.html#GnomeVFSDNSSDResolveCallback">GnomeVFSDNSSDResolveCallback</a> callback,
                                             gpointer callback_data,
                                             GDestroyNotify callback_data_destroy_func);</pre><p>
Tries to resolve a specific service (typically recieved from
<a href="gnome-vfs-20-gnome-vfs-dns-sd.html#gnome-vfs-dns-sd-browse"><tt class="function">gnome_vfs_dns_sd_browse()</tt></a>) into a hostname/ip, port number and additional
options.
</p><p>
If you ever have to save a reference to a service you should store the
unresolved name/type/domain tripplet, because the actual host for the
service can change.
</p><p>
The <i class="parameter"><tt>timeout</tt></i> argument is primary useful for local resolves, since the
host owning the service might no longer be around to answer.</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>handle</tt></i> :</span></td><td> A pointer to a pointer to a GnomeVFSDNSSDResolveHandle object
</td></tr><tr><td><span class="term"><i class="parameter"><tt>name</tt></i> :</span></td><td> Name of the service to resolve in UTF-8 encoding
</td></tr><tr><td><span class="term"><i class="parameter"><tt>type</tt></i> :</span></td><td> The type of services to resolve
</td></tr><tr><td><span class="term"><i class="parameter"><tt>domain</tt></i> :</span></td><td> The dns domain of the service to resolve, or "local" for multicast DNS
</td></tr><tr><td><span class="term"><i class="parameter"><tt>timeout</tt></i> :</span></td><td> maximum time (in milliseconds) to try to resolve, or zero if no maximum
</td></tr><tr><td><span class="term"><i class="parameter"><tt>callback</tt></i> :</span></td><td> function to be called when the services has been resolved
</td></tr><tr><td><span class="term"><i class="parameter"><tt>callback_data</tt></i> :</span></td><td> data to pass <i class="parameter"><tt>callback</tt></i>
</td></tr><tr><td><span class="term"><i class="parameter"><tt>callback_data_destroy_func</tt></i> :</span></td><td> optional destructor function for <i class="parameter"><tt>callback_data</tt></i>
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> An integer representing the result of the operation
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2606853"></a><h3><a name="gnome-vfs-dns-sd-cancel-resolve"></a>gnome_vfs_dns_sd_cancel_resolve ()</h3><a class="indexterm" name="id2606865"></a><pre class="programlisting"><a href="gnome-vfs-20-gnome-vfs-result.html#GnomeVFSResult">GnomeVFSResult</a> gnome_vfs_dns_sd_cancel_resolve
                                            (GnomeVFSDNSSDResolveHandle *handle);</pre><p>
Cancels resolving a service started with <a href="gnome-vfs-20-gnome-vfs-dns-sd.html#gnome-vfs-dns-sd-resolve"><tt class="function">gnome_vfs_dns_sd_resolve()</tt></a></p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>handle</tt></i> :</span></td><td> handle of the resolve operation to be cancelled
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> An integer representing the result of the operation
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2606938"></a><h3><a name="gnome-vfs-dns-sd-browse-sync"></a>gnome_vfs_dns_sd_browse_sync ()</h3><a class="indexterm" name="id2606950"></a><pre class="programlisting"><a href="gnome-vfs-20-gnome-vfs-result.html#GnomeVFSResult">GnomeVFSResult</a> gnome_vfs_dns_sd_browse_sync (const char *domain,
                                             const char *type,
                                             int timeout_msec,
                                             int *n_services,
                                             <a href="gnome-vfs-20-gnome-vfs-dns-sd.html#GnomeVFSDNSSDService">GnomeVFSDNSSDService</a> **services);</pre><p>
Browses <i class="parameter"><tt>domain</tt></i> for services of the type <i class="parameter"><tt>type</tt></i>, returning the result
after blocking for the duration of the browse. For details about <i class="parameter"><tt>domain</tt></i>
and <i class="parameter"><tt>type</tt></i>, see <a href="gnome-vfs-20-gnome-vfs-dns-sd.html#gnome-vfs-dns-sd-browse"><tt class="function">gnome_vfs_dns_sd_browse()</tt></a>.
</p><p>
<i class="parameter"><tt>timeout</tt></i> is essential for the "local" domain, since you can never really
know when you've gotten the full set of return values when using multicast.
</p><p>
The returned list can be freed with <a href="gnome-vfs-20-gnome-vfs-dns-sd.html#gnome-vfs-dns-sd-service-list-free"><tt class="function">gnome_vfs_dns_sd_service_list_free()</tt></a>
</p><p>
This is a synchronous version of <a href="gnome-vfs-20-gnome-vfs-dns-sd.html#gnome-vfs-dns-sd-browse"><tt class="function">gnome_vfs_dns_sd_browse()</tt></a>, see that for
more details.</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>domain</tt></i> :</span></td><td> The dns domain to browse, or "local" for multicast DNS
</td></tr><tr><td><span class="term"><i class="parameter"><tt>type</tt></i> :</span></td><td> type of the service to browse for
</td></tr><tr><td><span class="term"><i class="parameter"><tt>timeout_msec</tt></i> :</span></td><td> maximum time to browse, in milliseconds
</td></tr><tr><td><span class="term"><i class="parameter"><tt>n_services</tt></i> :</span></td><td> pointer to location to store number of returned services
</td></tr><tr><td><span class="term"><i class="parameter"><tt>services</tt></i> :</span></td><td> pointer to location to store returned services
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> An integer representing the result of the operation
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2607180"></a><h3><a name="gnome-vfs-dns-sd-resolve-sync"></a>gnome_vfs_dns_sd_resolve_sync ()</h3><a class="indexterm" name="id2607192"></a><pre class="programlisting"><a href="gnome-vfs-20-gnome-vfs-result.html#GnomeVFSResult">GnomeVFSResult</a> gnome_vfs_dns_sd_resolve_sync
                                            (const char *name,
                                             const char *type,
                                             const char *domain,
                                             int timeout_msec,
                                             char **host,
                                             int *port,
                                             GHashTable **text,
                                             int *text_raw_len,
                                             char **text_raw);</pre><p>
Tries to resolve a specific service (typically recieved from
<a href="gnome-vfs-20-gnome-vfs-dns-sd.html#gnome-vfs-dns-sd-browse"><tt class="function">gnome_vfs_dns_sd_browse()</tt></a>) into a hostname/ip, port number and additional
options.
</p><p>
This is a synchronous version of <a href="gnome-vfs-20-gnome-vfs-dns-sd.html#gnome-vfs-dns-sd-resolve"><tt class="function">gnome_vfs_dns_sd_resolve()</tt></a>, see that (and
its callback <a href="gnome-vfs-20-gnome-vfs-dns-sd.html#GnomeVFSDNSSDResolveCallback"><tt class="function">GnomeVFSDNSSDResolveCallback()</tt></a>) for more details.</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>name</tt></i> :</span></td><td> Name of the service to resolve in UTF-8 encoding
</td></tr><tr><td><span class="term"><i class="parameter"><tt>type</tt></i> :</span></td><td> The type of services to resolve
</td></tr><tr><td><span class="term"><i class="parameter"><tt>domain</tt></i> :</span></td><td> The dns domain of the service to resolve, or "local" for multicast DNS
</td></tr><tr><td><span class="term"><i class="parameter"><tt>timeout_msec</tt></i> :</span></td><td> maximum time(in milliseconds) to try to resolve
</td></tr><tr><td><span class="term"><i class="parameter"><tt>host</tt></i> :</span></td><td> location to store the host name or ip of the host hosting the service
</td></tr><tr><td><span class="term"><i class="parameter"><tt>port</tt></i> :</span></td><td> location to store the port number to use for the service
</td></tr><tr><td><span class="term"><i class="parameter"><tt>text</tt></i> :</span></td><td> location to store a hash table giving additional options about the service
</td></tr><tr><td><span class="term"><i class="parameter"><tt>text_raw_len</tt></i> :</span></td><td> location to store length of <i class="parameter"><tt>text_raw_out</tt></i>
</td></tr><tr><td><span class="term"><i class="parameter"><tt>text_raw</tt></i> :</span></td><td> location to store raw version of the additional options in <i class="parameter"><tt>text</tt></i>
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> An integer representing the result of the operation
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2607483"></a><h3><a name="gnome-vfs-dns-sd-service-list-free"></a>gnome_vfs_dns_sd_service_list_free ()</h3><a class="indexterm" name="id2607496"></a><pre class="programlisting">void        gnome_vfs_dns_sd_service_list_free
                                            (<a href="gnome-vfs-20-gnome-vfs-dns-sd.html#GnomeVFSDNSSDService">GnomeVFSDNSSDService</a> *services,
                                             int n_services);</pre><p>
Frees a list of services as returned by <a href="gnome-vfs-20-gnome-vfs-dns-sd.html#gnome-vfs-dns-sd-browse-sync"><tt class="function">gnome_vfs_dns_sd_browse_sync()</tt></a></p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>services</tt></i> :</span></td><td> the list of services to free
</td></tr><tr><td><span class="term"><i class="parameter"><tt>n_services</tt></i> :</span></td><td> the number of services to free
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2607579"></a><h3><a name="gnome-vfs-dns-sd-list-browse-domains-sync"></a>gnome_vfs_dns_sd_list_browse_domains_sync ()</h3><a class="indexterm" name="id2607593"></a><pre class="programlisting"><a href="gnome-vfs-20-gnome-vfs-result.html#GnomeVFSResult">GnomeVFSResult</a> gnome_vfs_dns_sd_list_browse_domains_sync
                                            (const char *domain,
                                             int timeout_msec,
                                             GList **domains);</pre><p>
Lists the recommended browsing domains for a specific dns domain.
This can be used to find interesting domains for the domain
you are currently in. These can then be browsed with <a href="gnome-vfs-20-gnome-vfs-dns-sd.html#gnome-vfs-dns-sd-browse"><tt class="function">gnome_vfs_dns_sd_browse()</tt></a>.</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>domain</tt></i> :</span></td><td> the domain to list browsable domains in
</td></tr><tr><td><span class="term"><i class="parameter"><tt>timeout_msec</tt></i> :</span></td><td> maximum time to run, in milliseconds
</td></tr><tr><td><span class="term"><i class="parameter"><tt>domains</tt></i> :</span></td><td> location to store the returned list of domain names strings
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> An integer representing the result of the operation
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2607713"></a><h3><a name="gnome-vfs-get-default-browse-domains"></a>gnome_vfs_get_default_browse_domains ()</h3><a class="indexterm" name="id2607725"></a><pre class="programlisting">GList*      gnome_vfs_get_default_browse_domains
                                            (void);</pre><p>
Returns a list of domain names that is useful to
browse for standard services. The list is generated
by contacting the dns server of the domain part the
hostname and asking for the list of browse domains.
Then extra domains from a gconf setting is added.
</p><p>
The "local" domain is not normally returned by this.
Care should be taken with local services so that its
obvious that they are local, and cannot be confused
with non-local services.</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> A GList of domain name strings
</td></tr></tbody></table></div></div></div></div><table class="navigation" width="100%" summary="Navigation footer" cellpadding="2" cellspacing="0"><tr valign="middle"><td align="left"><a accesskey="p" href="networking.html"><b>&lt;&lt; Networking</b></a></td><td align="right"><a accesskey="n" href="gnome-vfs-20-gnome-vfs-resolve.html"><b>DNS Resolution &gt;&gt;</b></a></td></tr></table></body></html>
